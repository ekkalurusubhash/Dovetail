import{$ as Te,$a as O9,B as xt,C as Ae,D as Wi,Da as Bo,E as ea,Ea as C0,F as Ii,Fa as S0,G as zi,Ga as E9,H as v0,Ha as k9,Ia as M0,J as S9,Ja as A0,K as xe,Ka as un,L as ye,M as Rd,Ma as D9,N as x0,Na as hs,O as y0,Oa as Th,P as _l,Q as M9,R as N,Ra as P9,S as Z,Sa as Di,T as Ei,Ta as Ho,U as A9,Ua as qe,V as T9,Va as T0,W as I9,Wa as na,X as xi,Xa as L9,Y as Ue,Ya as qi,Z as Od,Za as Bd,_ as mt,_a as R9,a as ls,aa as V,ab as Hd,b as Pd,ba as wl,bb as V9,c as y9,ca as Yt,cb as B9,d as yl,da as Vd,db as Nd,e as js,ea as z9,eb as H9,f as Mh,fa as b0,fb as Fd,g as Us,ga as P,gb as I0,h as b9,ha as L,hb as Et,i as Ld,ia as et,ib as ds,j as Gi,ja as Vn,jb as Ih,ka as Bn,kb as N9,l as Gs,la as _0,lb as Hn,m as Jr,ma as ki,mb as jd,n as bl,na as Fe,nb as Ml,o as ta,oa as it,ob as z0,p as _9,pa as Cl,pb as Ud,q as g0,qa as Sl,r as w9,ra as w0,rb as F9,s as Ah,sa as Ws,t as Ot,ta as ti,ua as ce,v as qt,va as he,w as Me,wa as pn,x as cs,xa as X,y as Bt,ya as be,z as C9,za as ia}from"./chunk-T677OLVO.js";var Gd=(()=>{let t=class t{constructor(){this.selectedItemSubject=new Us({index:1,name:"Light"}),this.selectedItem$=this.selectedItemSubject.asObservable()}setSelectedItem(i){this.selectedItemSubject.next(i)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"root"});let s=t;return s})();var G9=(()=>{let t=class t{constructor(i){this.commonService=i,this.isSelected=null}ngOnInit(){this.selectItem(1,"light")}selectItem(i,n){this.isSelected=i,this.commonService.setSelectedItem({index:i,name:n})}};t.\u0275fac=function(n){return new(n||t)(Z(Gd))},t.\u0275cmp=xt({type:t,selectors:[["app-header"]],decls:68,vars:5,consts:[[1,"main-header","navbar","navbar-expand","navbar-white","navbar-light"],[1,"navbar-nav"],[1,"nav-item"],["data-widget","pushmenu","href","#","role","button",1,"nav-link"],[1,"fas","fa-bars"],[1,"form-inline","ml-3"],[1,"input-group","input-group-md"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","form-control-navbar"],[1,"input-group-append"],["type","submit",1,"btn","btn-navbar"],[1,"fas","fa-search"],[1,"navbar-nav","ml-auto"],[1,"nav-item","dropdown"],["data-toggle","dropdown","href","#",1,"nav-link"],[1,"fas","fa-moon",3,"ngClass"],[1,"dropdown-menu","dropdown-menu-md","dropdown-menu-right"],["href","javascript:;",1,"dropdown-item",3,"click"],[1,"fas","fa-moon","mr-2"],[1,"dropdown-divider"],[1,"fas","fa-sun","mr-2"],[1,"far","fa-bell"],[1,"dropdown-menu","dropdown-menu-lg","dropdown-menu-right"],[1,"dropdown-item","dropdown-header"],["href","#",1,"dropdown-item"],[1,"fas","fa-envelope","mr-2"],[1,"float-right","text-muted","text-sm"],[1,"fas","fa-users","mr-2"],[1,"fas","fa-file","mr-2"],["href","#",1,"dropdown-item","dropdown-footer"],[1,"nav-item","dropdown","d-flex","flex-wrap","align-content-center"],["data-toggle","dropdown","href","#",1,"nav-link","d-flex","flex-wrap","align-content-center"],[1,"user-panel"],[1,"image"],["src","assets/img/avatar1.png","alt","User Image",1,"img-circle","elevation-1"],[1,"card","mb-0"],[1,"card-body","box-profile"],[1,"text-center"],["src","assets/img/avatar1.png","alt","User profile picture",1,"profile-user-img","img-fluid","img-circle"],[1,"profile-username","text-center"],[1,"text-muted","text-center","mb-2"],["href","javascript:;","routerLink","/login",1,"btn","btn-primary","btn-block"],[1,"fas","fa-sign-out-alt"]],template:function(n,o){n&1&&(P(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"a",3),et(4,"i",4),L()()(),P(5,"form",5)(6,"div",6),et(7,"input",7),P(8,"div",8)(9,"button",9),et(10,"i",10),L()()()(),P(11,"ul",11)(12,"li",12)(13,"a",13),et(14,"i",14),L(),P(15,"div",15)(16,"a",16),Fe("click",function(){return o.selectItem(0,"Dark")}),et(17,"i",17),X(18," Dark "),L(),et(19,"div",18),P(20,"a",16),Fe("click",function(){return o.selectItem(1,"Light")}),et(21,"i",19),X(22," Light "),L()()(),P(23,"li",12)(24,"a",13),et(25,"i",20),L(),P(26,"div",21)(27,"span",22),X(28,"15 Notifications"),L(),et(29,"div",18),P(30,"a",23),et(31,"i",24),X(32," 4 new messages "),P(33,"span",25),X(34,"3 mins"),L()(),et(35,"div",18),P(36,"a",23),et(37,"i",26),X(38," 8 friend requests "),P(39,"span",25),X(40,"12 hours"),L()(),et(41,"div",18),P(42,"a",23),et(43,"i",27),X(44," 3 new reports "),P(45,"span",25),X(46,"2 days"),L()(),et(47,"div",18),P(48,"a",28),X(49,"See All Notifications"),L()()(),P(50,"li",29)(51,"a",30)(52,"div",31)(53,"div",32),et(54,"img",33),L()()(),P(55,"div",21)(56,"div",34)(57,"div",35)(58,"div",36),et(59,"img",37),L(),P(60,"h3",38),X(61,"Subhash Yakkaluru"),L(),P(62,"p",39),X(63,"Software Engineer"),L(),P(64,"a",40)(65,"b"),et(66,"i",41),X(67," Log Out"),L()()()()()()()()),n&2&&(N(14),V("ngClass",o.isSelected==0?"fa-moon ":"fa-sun"),N(2),Yt("active",o.isSelected===0),N(4),Yt("active",o.isSelected===1))},dependencies:[Di,Fd],styles:[".navbar-expand[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:.5rem;padding-left:.5rem}.form-control-navbar[_ngcontent-%COMP%], .btn-navbar[_ngcontent-%COMP%]{border-radius:26px!important;border-color:#718ebf!important;color:#718ebf!important}.input-group[_ngcontent-%COMP%] > .input-group-append[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%] > .input-group-append[_ngcontent-%COMP%] > .input-group-text[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%] > .input-group-prepend[_ngcontent-%COMP%]:first-child > .btn[_ngcontent-%COMP%]:not(:first-child), .input-group[_ngcontent-%COMP%] > .input-group-prepend[_ngcontent-%COMP%]:first-child > .input-group-text[_ngcontent-%COMP%]:not(:first-child), .input-group[_ngcontent-%COMP%] > .input-group-prepend[_ngcontent-%COMP%]:not(:first-child) > .btn[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%] > .input-group-prepend[_ngcontent-%COMP%]:not(:first-child) > .input-group-text[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.input-group[_ngcontent-%COMP%]:not(.has-validation) > .custom-file[_ngcontent-%COMP%]:not(:last-child)   .custom-file-label[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]:not(.has-validation) > .custom-file[_ngcontent-%COMP%]:not(:last-child)   .custom-file-label[_ngcontent-%COMP%]:after, .input-group[_ngcontent-%COMP%]:not(.has-validation) > .custom-select[_ngcontent-%COMP%]:not(:last-child), .input-group[_ngcontent-%COMP%]:not(.has-validation) > .form-control[_ngcontent-%COMP%]:not(:last-child){border-top-right-radius:0!important;border-bottom-right-radius:0!important}"]});let s=t;return s})();var W9=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=xt({type:t,selectors:[["app-footer"]],decls:11,vars:0,consts:[[1,"main-footer"],["href","javascript:;"],[1,"float-right","d-none","d-sm-inline-block"]],template:function(n,o){n&1&&(P(0,"footer",0)(1,"strong"),X(2,"Copyright \xA9 2024-2029 "),P(3,"a",1),X(4,"DoveTail"),L(),X(5,"."),L(),X(6," All rights reserved. "),P(7,"div",2)(8,"b"),X(9,"Version"),L(),X(10," 3.0.4 "),L()())}});let s=t;return s})();var JA=(s,t,e)=>({"dark-theam":s,"light-theam":t,"normal-theam":e});function tT(s,t){if(s&1&&(P(0,"a",17),et(1,"i"),P(2,"p"),X(3),et(4,"i",18),L()()),s&2){let e=it().$implicit;Yt("active",e.isActive),N(),b0("nav-icon fas fa-",e.icon,""),N(2),ia(" ",e.name," ")}}function eT(s,t){s&1&&(P(0,"span",22),X(1,"New"),L())}function iT(s,t){if(s&1){let e=ki();P(0,"a",20),Fe("click",function(){Ii(e);let n=it(2).$implicit,o=it();return zi(o.setActiveRoute(n))}),et(1,"i"),P(2,"p"),X(3),mt(4,eT,2,0,"span",21),L()()}if(s&2){let e=it(2).$implicit;Yt("active",e.isActive),V("routerLink",e.routerLink),N(),b0("nav-icon fas fa-",e.icon,""),N(2),ia(" ",e.name," "),N(),V("ngIf",e.children)}}function nT(s,t){if(s&1&&mt(0,iT,5,8,"a",19),s&2){let e=it().$implicit;V("ngIf",e.type==="link")}}function sT(s,t){if(s&1){let e=ki();P(0,"li",25)(1,"a",26),Fe("click",function(){let n=Ii(e).$implicit,o=it(3);return zi(o.setActiveRoute(n))}),et(2,"i",27),P(3,"p"),X(4),L()()()}if(s&2){let e=t.$implicit;Yt("menu-open",e.isActive),N(),Yt("active",e.isActive),V("routerLink",e.routerLink),N(3),be(e.name)}}function oT(s,t){if(s&1&&(P(0,"ul",23),mt(1,sT,5,6,"li",24),L()),s&2){let e=it().$implicit;N(),V("ngForOf",e.children)}}function rT(s,t){if(s&1&&(Vn(0),P(1,"li",14),mt(2,tT,5,6,"a",15)(3,nT,1,1,"ng-template",null,0,un)(5,oT,2,1,"ul",16),L(),Bn()),s&2){let e=t.$implicit,i=pn(4);N(),Yt("menu-open",e.isActive),N(),V("ngIf",e.type==="sub")("ngIfElse",i),N(3),V("ngIf",e.children)}}var q9=(()=>{let t=class t{constructor(i,n){this.router=i,this.commonService=n,this.menuList=[{name:"Dashboard",icon:"tachometer-alt",type:"link",isActive:!1,routerLink:"/dashboard"},{name:"Products",icon:"th",type:"link",routerLink:"/products",isActive:!1},{name:"Layout Options",icon:"copy",type:"sub",children:[{name:"Top Navigation",icon:"circle",type:"link",routerLink:"",isActive:!1},{name:"Boxed",icon:"circle",type:"link",routerLink:"",isActive:!1},{name:"Fixed Sidebar",icon:"circle",type:"link",routerLink:"",isActive:!1}],routerLink:"",isActive:!1},{name:"Charts",icon:"chart-pie",type:"sub",children:[{name:"ChartJS",icon:"circle",type:"link",routerLink:"",isActive:!1},{name:"Flot",icon:"circle",type:"link",routerLink:"",isActive:!1},{name:"Inline",icon:"circle",type:"link",routerLink:"",isActive:!1}],routerLink:"",isActive:!1},{name:"UI Elements",icon:"tree",type:"sub",children:[{name:"General",icon:"circle",type:"link",routerLink:"",isActive:!1},{name:"Icons",icon:"circle",type:"link",routerLink:"",isActive:!1},{name:"Buttons",icon:"circle",type:"link",routerLink:"",isActive:!1},{name:"Sliders",icon:"circle",type:"link",routerLink:"",isActive:!1}],routerLink:"",isActive:!1},{name:"Forms",icon:"edit",type:"sub",children:[{name:"General Elements",icon:"circle",type:"link",routerLink:"",isActive:!1},{name:"Advanced Elements",icon:"circle",type:"link",routerLink:"",isActive:!1},{name:"Editors",icon:"circle",type:"link",routerLink:"",isActive:!1},{name:"Validation",icon:"circle",type:"link",routerLink:"",isActive:!1}],routerLink:"",isActive:!1},{name:"Tables",icon:"table",type:"sub",children:[{name:"Simple Tables",icon:"circle",type:"link",routerLink:"/simple-table",isActive:!1},{name:"DataTables",icon:"circle",type:"link",routerLink:"",isActive:!1},{name:"jsGrid",icon:"circle",type:"link",routerLink:"",isActive:!1}],routerLink:"",isActive:!1}]}ngOnInit(){this.commonService.selectedItem$.subscribe(o=>{this.selectedItem=o});let i=this.router.url,n=this.getMenuItemByRouterLink(this.menuList,i);n!==void 0?this.setActiveRoute(n):console.error("MenuItem is undefined for URL:",i)}getMenuItemByRouterLink(i,n){for(let o of i){if(o.routerLink===n)return o;if(o.children){let r=this.getMenuItemByRouterLink(o.children,n);if(r)return r}}}setActiveRoute(i){this.deactivateItems(this.menuList),i.isActive=!0;let n=this.findParent(this.menuList,i);n&&(n.isActive=!0)}deactivateItems(i){i.forEach(n=>{n.isActive=!1,n.children&&this.deactivateItems(n.children)})}findParent(i,n){for(let o of i){if(o.children&&o.children.includes(n))return o;if(o.children){let r=this.findParent(o.children,n);if(r)return r}}return null}};t.\u0275fac=function(n){return new(n||t)(Z(H9),Z(Gd))},t.\u0275cmp=xt({type:t,selectors:[["app-main-layout"]],decls:17,vars:7,consts:[["mainLink",""],[1,"wrapper",3,"ngClass"],[1,"main-sidebar","main-sidebar-custom","elevation-4",3,"ngClass"],["href","#",1,"brand-link"],["src","assets/img/ic_logo_white.svg","alt","DOVETAIL Logo",1,"brand-image"],[1,"sidebar"],[1,"mt-4"],["data-widget","treeview","role","menu","data-accordion","false",1,"nav","nav-pills","nav-sidebar","flex-column","nav-child-indent"],[4,"ngFor","ngForOf"],[1,"sidebar-custom","text-center"],["type","button",1,"btn","btn-block","btn-primary","hide-on-collapse"],[1,"content-wrapper"],[1,"content"],[1,"container-fluid"],[1,"nav-item","has-treeview"],["href","#","class","nav-link",3,"active",4,"ngIf","ngIfElse"],["class","nav nav-treeview",4,"ngIf"],["href","#",1,"nav-link"],[1,"right","fas","fa-angle-left"],["href","#","class","nav-link",3,"routerLink","active","click",4,"ngIf"],["href","#",1,"nav-link",3,"click","routerLink"],["class","right badge badge-danger",4,"ngIf"],[1,"right","badge","badge-danger"],[1,"nav","nav-treeview"],["class","nav-item",3,"menu-open",4,"ngFor","ngForOf"],[1,"nav-item"],[1,"nav-link",3,"click","routerLink"],[1,"far","fa-circle","nav-icon"]],template:function(n,o){n&1&&(P(0,"div",1),et(1,"app-header"),P(2,"aside",2)(3,"a",3),et(4,"img",4),L(),P(5,"div",5)(6,"nav",6)(7,"ul",7),mt(8,rT,6,5,"ng-container",8),L()()(),P(9,"div",9)(10,"button",10),X(11,"Log Out"),L()()(),P(12,"div",11)(13,"section",12)(14,"div",13),et(15,"router-outlet"),L()()(),et(16,"app-footer"),L()),n&2&&(V("ngClass",E9(3,JA,(o.selectedItem==null?null:o.selectedItem.index)===0,(o.selectedItem==null?null:o.selectedItem.index)===1,(o.selectedItem==null?null:o.selectedItem.index)!==0&&(o.selectedItem==null?null:o.selectedItem.index)!==1)),N(2),V("ngClass",(o.selectedItem==null?null:o.selectedItem.index)==0?"sidebar-dark-primary":"custom-theam-bg-color"),N(6),V("ngForOf",o.menuList))},dependencies:[Di,Ho,qe,Nd,Fd,G9,W9],styles:[".btn-primary[_ngcontent-%COMP%]{background-color:#007bff1f;border-color:#007bff1f}"]});let s=t;return s})();function Dh(s){return s+.5|0}var No=(s,t,e)=>Math.max(Math.min(s,e),t);function Eh(s){return No(Dh(s*2.55),0,255)}function Fo(s){return No(Dh(s*255),0,255)}function qs(s){return No(Dh(s/2.55)/100,0,1)}function Y9(s){return No(Dh(s*100),0,100)}var mn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},k0=[..."0123456789ABCDEF"],aT=s=>k0[s&15],lT=s=>k0[(s&240)>>4]+k0[s&15],Wd=s=>(s&240)>>4===(s&15),cT=s=>Wd(s.r)&&Wd(s.g)&&Wd(s.b)&&Wd(s.a);function hT(s){var t=s.length,e;return s[0]==="#"&&(t===4||t===5?e={r:255&mn[s[1]]*17,g:255&mn[s[2]]*17,b:255&mn[s[3]]*17,a:t===5?mn[s[4]]*17:255}:(t===7||t===9)&&(e={r:mn[s[1]]<<4|mn[s[2]],g:mn[s[3]]<<4|mn[s[4]],b:mn[s[5]]<<4|mn[s[6]],a:t===9?mn[s[7]]<<4|mn[s[8]]:255})),e}var dT=(s,t)=>s<255?t(s):"";function pT(s){var t=cT(s)?aT:lT;return s?"#"+t(s.r)+t(s.g)+t(s.b)+dT(s.a,t):void 0}var uT=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Z9(s,t,e){let i=t*Math.min(e,1-e),n=(o,r=(o+s/30)%12)=>e-i*Math.max(Math.min(r-3,9-r,1),-1);return[n(0),n(8),n(4)]}function mT(s,t,e){let i=(n,o=(n+s/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function fT(s,t,e){let i=Z9(s,1,.5),n;for(t+e>1&&(n=1/(t+e),t*=n,e*=n),n=0;n<3;n++)i[n]*=1-t-e,i[n]+=t;return i}function gT(s,t,e,i,n){return s===n?(t-e)/i+(t<e?6:0):t===n?(e-s)/i+2:(s-t)/i+4}function D0(s){let e=s.r/255,i=s.g/255,n=s.b/255,o=Math.max(e,i,n),r=Math.min(e,i,n),a=(o+r)/2,l,c,h;return o!==r&&(h=o-r,c=a>.5?h/(2-o-r):h/(o+r),l=gT(e,i,n,h,o),l=l*60+.5),[l|0,c||0,a]}function P0(s,t,e,i){return(Array.isArray(t)?s(t[0],t[1],t[2]):s(t,e,i)).map(Fo)}function L0(s,t,e){return P0(Z9,s,t,e)}function vT(s,t,e){return P0(fT,s,t,e)}function xT(s,t,e){return P0(mT,s,t,e)}function K9(s){return(s%360+360)%360}function yT(s){let t=uT.exec(s),e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Eh(+t[5]):Fo(+t[5]));let n=K9(+t[2]),o=+t[3]/100,r=+t[4]/100;return t[1]==="hwb"?i=vT(n,o,r):t[1]==="hsv"?i=xT(n,o,r):i=L0(n,o,r),{r:i[0],g:i[1],b:i[2],a:e}}function bT(s,t){var e=D0(s);e[0]=K9(e[0]+t),e=L0(e),s.r=e[0],s.g=e[1],s.b=e[2]}function _T(s){if(!s)return;let t=D0(s),e=t[0],i=Y9(t[1]),n=Y9(t[2]);return s.a<255?`hsla(${e}, ${i}%, ${n}%, ${qs(s.a)})`:`hsl(${e}, ${i}%, ${n}%)`}var X9={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$9={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function wT(){let s={},t=Object.keys($9),e=Object.keys(X9),i,n,o,r,a;for(i=0;i<t.length;i++){for(r=a=t[i],n=0;n<e.length;n++)o=e[n],a=a.replace(o,X9[o]);o=parseInt($9[r],16),s[a]=[o>>16&255,o>>8&255,o&255]}return s}var qd;function CT(s){qd||(qd=wT(),qd.transparent=[0,0,0,0]);let t=qd[s.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var ST=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function MT(s){let t=ST.exec(s),e=255,i,n,o;if(t){if(t[7]!==i){let r=+t[7];e=t[8]?Eh(r):No(r*255,0,255)}return i=+t[1],n=+t[3],o=+t[5],i=255&(t[2]?Eh(i):No(i,0,255)),n=255&(t[4]?Eh(n):No(n,0,255)),o=255&(t[6]?Eh(o):No(o,0,255)),{r:i,g:n,b:o,a:e}}}function AT(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${qs(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}var E0=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,Al=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function TT(s,t,e){let i=Al(qs(s.r)),n=Al(qs(s.g)),o=Al(qs(s.b));return{r:Fo(E0(i+e*(Al(qs(t.r))-i))),g:Fo(E0(n+e*(Al(qs(t.g))-n))),b:Fo(E0(o+e*(Al(qs(t.b))-o))),a:s.a+e*(t.a-s.a)}}function Yd(s,t,e){if(s){let i=D0(s);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=L0(i),s.r=i[0],s.g=i[1],s.b=i[2]}}function J9(s,t){return s&&Object.assign(t||{},s)}function Q9(s){var t={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(t={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(t.a=Fo(s[3]))):(t=J9(s,{r:0,g:0,b:0,a:1}),t.a=Fo(t.a)),t}function IT(s){return s.charAt(0)==="r"?MT(s):yT(s)}var kh=class s{constructor(t){if(t instanceof s)return t;let e=typeof t,i;e==="object"?i=Q9(t):e==="string"&&(i=hT(t)||CT(t)||IT(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=J9(this._rgb);return t&&(t.a=qs(t.a)),t}set rgb(t){this._rgb=Q9(t)}rgbString(){return this._valid?AT(this._rgb):void 0}hexString(){return this._valid?pT(this._rgb):void 0}hslString(){return this._valid?_T(this._rgb):void 0}mix(t,e){if(t){let i=this.rgb,n=t.rgb,o,r=e===o?.5:e,a=2*r-1,l=i.a-n.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,i.r=255&c*i.r+o*n.r+.5,i.g=255&c*i.g+o*n.g+.5,i.b=255&c*i.b+o*n.b+.5,i.a=r*i.a+(1-r)*n.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=TT(this._rgb,t._rgb,e)),this}clone(){return new s(this.rgb)}alpha(t){return this._rgb.a=Fo(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=Dh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Yd(this._rgb,2,t),this}darken(t){return Yd(this._rgb,2,-t),this}saturate(t){return Yd(this._rgb,1,t),this}desaturate(t){return Yd(this._rgb,1,-t),this}rotate(t){return bT(this._rgb,t),this}};function ms(){}var h7=(()=>{let s=0;return()=>s++})();function Lt(s){return s===null||typeof s>"u"}function Zt(s){if(Array.isArray&&Array.isArray(s))return!0;let t=Object.prototype.toString.call(s);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function St(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function de(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function Li(s,t){return de(s)?s:t}function gt(s,t){return typeof s>"u"?t:s}var d7=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/t,B0=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*t:+s;function Xt(s,t,e){if(s&&typeof s.call=="function")return s.apply(e,t)}function Nt(s,t,e,i){let n,o,r;if(Zt(s))if(o=s.length,i)for(n=o-1;n>=0;n--)t.call(e,s[n],n);else for(n=0;n<o;n++)t.call(e,s[n],n);else if(St(s))for(r=Object.keys(s),o=r.length,n=0;n<o;n++)t.call(e,s[r[n]],r[n])}function Rh(s,t){let e,i,n,o;if(!s||!t||s.length!==t.length)return!1;for(e=0,i=s.length;e<i;++e)if(n=s[e],o=t[e],n.datasetIndex!==o.datasetIndex||n.index!==o.index)return!1;return!0}function Zd(s){if(Zt(s))return s.map(Zd);if(St(s)){let t=Object.create(null),e=Object.keys(s),i=e.length,n=0;for(;n<i;++n)t[e[n]]=Zd(s[e[n]]);return t}return s}function p7(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function zT(s,t,e,i){if(!p7(s))return;let n=t[s],o=e[s];St(n)&&St(o)?Il(n,o,i):t[s]=Zd(o)}function Il(s,t,e){let i=Zt(t)?t:[t],n=i.length;if(!St(s))return s;e=e||{};let o=e.merger||zT,r;for(let a=0;a<n;++a){if(r=i[a],!St(r))continue;let l=Object.keys(r);for(let c=0,h=l.length;c<h;++c)o(l[c],s,r,e)}return s}function El(s,t){return Il(s,t,{merger:ET})}function ET(s,t,e){if(!p7(s))return;let i=t[s],n=e[s];St(i)&&St(n)?El(i,n):Object.prototype.hasOwnProperty.call(t,s)||(t[s]=Zd(n))}var t7={"":s=>s,x:s=>s.x,y:s=>s.y};function kT(s){let t=s.split("."),e=[],i="";for(let n of t)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function DT(s){let t=kT(s);return e=>{for(let i of t){if(i==="")break;e=e&&e[i]}return e}}function $s(s,t){return(t7[t]||(t7[t]=DT(t)))(s)}function ep(s){return s.charAt(0).toUpperCase()+s.slice(1)}var kl=s=>typeof s<"u",Ys=s=>typeof s=="function",H0=(s,t)=>{if(s.size!==t.size)return!1;for(let e of s)if(!t.has(e))return!1;return!0};function u7(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}var Kt=Math.PI,Jt=2*Kt,PT=Jt+Kt,Kd=Number.POSITIVE_INFINITY,LT=Kt/180,_e=Kt/2,sa=Kt/4,e7=Kt*2/3,Xs=Math.log10,Nn=Math.sign;function Dl(s,t,e){return Math.abs(s-t)<e}function N0(s){let t=Math.round(s);s=Dl(s,t,s/1e3)?t:s;let e=Math.pow(10,Math.floor(Xs(s))),i=s/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function m7(s){let t=[],e=Math.sqrt(s),i;for(i=1;i<e;i++)s%i===0&&(t.push(i),t.push(s/i));return e===(e|0)&&t.push(e),t.sort((n,o)=>n-o).pop(),t}function aa(s){return!isNaN(parseFloat(s))&&isFinite(s)}function f7(s,t){let e=Math.round(s);return e-t<=s&&e+t>=s}function F0(s,t,e){let i,n,o;for(i=0,n=s.length;i<n;i++)o=s[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function fn(s){return s*(Kt/180)}function ip(s){return s*(180/Kt)}function j0(s){if(!de(s))return;let t=1,e=0;for(;Math.round(s*t)/t!==s;)t*=10,e++;return e}function U0(s,t){let e=t.x-s.x,i=t.y-s.y,n=Math.sqrt(e*e+i*i),o=Math.atan2(i,e);return o<-.5*Kt&&(o+=Jt),{angle:o,distance:n}}function Jd(s,t){return Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2))}function RT(s,t){return(s-t+PT)%Jt-Kt}function Pi(s){return(s%Jt+Jt)%Jt}function Pl(s,t,e,i){let n=Pi(s),o=Pi(t),r=Pi(e),a=Pi(o-n),l=Pi(r-n),c=Pi(n-o),h=Pi(n-r);return n===o||n===r||i&&o===r||a>l&&c<h}function je(s,t,e){return Math.max(t,Math.min(e,s))}function g7(s){return je(s,-32768,32767)}function fs(s,t,e,i=1e-6){return s>=Math.min(t,e)-i&&s<=Math.max(t,e)+i}function np(s,t,e){e=e||(r=>s[r]<t);let i=s.length-1,n=0,o;for(;i-n>1;)o=n+i>>1,e(o)?n=o:i=o;return{lo:n,hi:i}}var ps=(s,t,e,i)=>np(s,e,i?n=>{let o=s[n][t];return o<e||o===e&&s[n+1][t]===e}:n=>s[n][t]<e),v7=(s,t,e)=>np(s,e,i=>s[i][t]>=e);function x7(s,t,e){let i=0,n=s.length;for(;i<n&&s[i]<t;)i++;for(;n>i&&s[n-1]>e;)n--;return i>0||n<s.length?s.slice(i,n):s}var y7=["push","pop","shift","splice","unshift"];function b7(s,t){if(s._chartjs){s._chartjs.listeners.push(t);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),y7.forEach(e=>{let i="_onData"+ep(e),n=s[e];Object.defineProperty(s,e,{configurable:!0,enumerable:!1,value(...o){let r=n.apply(this,o);return s._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...o)}),r}})})}function G0(s,t){let e=s._chartjs;if(!e)return;let i=e.listeners,n=i.indexOf(t);n!==-1&&i.splice(n,1),!(i.length>0)&&(y7.forEach(o=>{delete s[o]}),delete s._chartjs)}function W0(s){let t=new Set(s);return t.size===s.length?s:Array.from(t)}var q0=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function Y0(s,t){let e=[],i=!1;return function(...n){e=n,i||(i=!0,q0.call(window,()=>{i=!1,s.apply(t,e)}))}}function _7(s,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(s,t,i)):s.apply(this,i),t}}var sp=s=>s==="start"?"left":s==="end"?"right":"center",Ye=(s,t,e)=>s==="start"?t:s==="end"?e:(t+e)/2,w7=(s,t,e,i)=>s===(i?"left":"right")?e:s==="center"?(t+e)/2:t;function X0(s,t,e){let i=t.length,n=0,o=i;if(s._sorted){let{iScale:r,_parsed:a}=s,l=r.axis,{min:c,max:h,minDefined:d,maxDefined:p}=r.getUserBounds();d&&(n=je(Math.min(ps(a,l,c).lo,e?i:ps(t,l,r.getPixelForValue(c)).lo),0,i-1)),p?o=je(Math.max(ps(a,r.axis,h,!0).hi+1,e?0:ps(t,l,r.getPixelForValue(h),!0).hi+1),n,i)-n:o=i-n}return{start:n,count:o}}function $0(s){let{xScale:t,yScale:e,_scaleRanges:i}=s,n={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return s._scaleRanges=n,!0;let o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,n),o}var Xd=s=>s===0||s===1,i7=(s,t,e)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-t)*Jt/e)),n7=(s,t,e)=>Math.pow(2,-10*s)*Math.sin((s-t)*Jt/e)+1,Tl={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*_e)+1,easeOutSine:s=>Math.sin(s*_e),easeInOutSine:s=>-.5*(Math.cos(Kt*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>Xd(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>Xd(s)?s:i7(s,.075,.3),easeOutElastic:s=>Xd(s)?s:n7(s,.075,.3),easeInOutElastic(s){return Xd(s)?s:s<.5?.5*i7(s*2,.1125,.45):.5+.5*n7(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let t=1.70158;return(s/=.5)<1?.5*(s*s*(((t*=1.525)+1)*s-t)):.5*((s-=2)*s*(((t*=1.525)+1)*s+t)+2)},easeInBounce:s=>1-Tl.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?Tl.easeInBounce(s*2)*.5:Tl.easeOutBounce(s*2-1)*.5+.5};function Q0(s){if(s&&typeof s=="object"){let t=s.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Z0(s){return Q0(s)?s:new kh(s)}function R0(s){return Q0(s)?s:new kh(s).saturate(.5).darken(.1).hexString()}var OT=["x","y","borderWidth","radius","tension"],VT=["color","borderColor","backgroundColor"];function BT(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),s.set("animations",{colors:{type:"color",properties:VT},numbers:{type:"number",properties:OT}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function HT(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var s7=new Map;function NT(s,t){t=t||{};let e=s+JSON.stringify(t),i=s7.get(e);return i||(i=new Intl.NumberFormat(s,t),s7.set(e,i)),i}function Ll(s,t,e){return NT(t,e).format(s)}var C7={values(s){return Zt(s)?s:""+s},numeric(s,t,e){if(s===0)return"0";let i=this.chart.options.locale,n,o=s;if(e.length>1){let c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(n="scientific"),o=FT(s,e)}let r=Xs(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:n,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ll(s,i,l)},logarithmic(s,t,e){if(s===0)return"0";let i=e[t].significand||s/Math.pow(10,Math.floor(Xs(s)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?C7.numeric.call(this,s,t,e):""}};function FT(s,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&s!==Math.floor(s)&&(e=s-Math.floor(s)),e}var Oh={formatters:C7};function jT(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Oh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var Uo=Object.create(null),op=Object.create(null);function Ph(s,t){if(!t)return s;let e=t.split(".");for(let i=0,n=e.length;i<n;++i){let o=e[i];s=s[o]||(s[o]=Object.create(null))}return s}function O0(s,t,e){return typeof t=="string"?Il(Ph(s,t),e):Il(Ph(s,""),t)}var V0=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>R0(n.backgroundColor),this.hoverBorderColor=(i,n)=>R0(n.borderColor),this.hoverColor=(i,n)=>R0(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return O0(this,t,e)}get(t){return Ph(this,t)}describe(t,e){return O0(op,t,e)}override(t,e){return O0(Uo,t,e)}route(t,e,i,n){let o=Ph(this,t),r=Ph(this,i),a="_"+e;Object.defineProperties(o,{[a]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){let l=this[a],c=r[n];return St(l)?Object.assign({},c,l):gt(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}},pe=new V0({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[BT,HT,jT]);function UT(s){return!s||Lt(s.size)||Lt(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function Lh(s,t,e,i,n){let o=t[n];return o||(o=t[n]=s.measureText(n).width,e.push(n)),o>i&&(i=o),i}function S7(s,t,e,i){i=i||{};let n=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(n=i.data={},o=i.garbageCollect=[],i.font=t),s.save(),s.font=t;let r=0,a=e.length,l,c,h,d,p;for(l=0;l<a;l++)if(d=e[l],d!=null&&!Zt(d))r=Lh(s,n,o,r,d);else if(Zt(d))for(c=0,h=d.length;c<h;c++)p=d[c],p!=null&&!Zt(p)&&(r=Lh(s,n,o,r,p));s.restore();let u=o.length/2;if(u>e.length){for(l=0;l<u;l++)delete n[o[l]];o.splice(0,u)}return r}function Go(s,t,e){let i=s.currentDevicePixelRatio,n=e!==0?Math.max(e/2,.5):0;return Math.round((t-n)*i)/i+n}function K0(s,t){!t&&!s||(t=t||s.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,s.width,s.height),t.restore())}function rp(s,t,e,i){J0(s,t,e,i,null)}function J0(s,t,e,i,n){let o,r,a,l,c,h,d,p,u=t.pointStyle,m=t.rotation,f=t.radius,g=(m||0)*LT;if(u&&typeof u=="object"&&(o=u.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){s.save(),s.translate(e,i),s.rotate(g),s.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),s.restore();return}if(!(isNaN(f)||f<=0)){switch(s.beginPath(),u){default:n?s.ellipse(e,i,n/2,f,0,0,Jt):s.arc(e,i,f,0,Jt),s.closePath();break;case"triangle":h=n?n/2:f,s.moveTo(e+Math.sin(g)*h,i-Math.cos(g)*f),g+=e7,s.lineTo(e+Math.sin(g)*h,i-Math.cos(g)*f),g+=e7,s.lineTo(e+Math.sin(g)*h,i-Math.cos(g)*f),s.closePath();break;case"rectRounded":c=f*.516,l=f-c,r=Math.cos(g+sa)*l,d=Math.cos(g+sa)*(n?n/2-c:l),a=Math.sin(g+sa)*l,p=Math.sin(g+sa)*(n?n/2-c:l),s.arc(e-d,i-a,c,g-Kt,g-_e),s.arc(e+p,i-r,c,g-_e,g),s.arc(e+d,i+a,c,g,g+_e),s.arc(e-p,i+r,c,g+_e,g+Kt),s.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*f,h=n?n/2:l,s.rect(e-h,i-l,2*h,2*l);break}g+=sa;case"rectRot":d=Math.cos(g)*(n?n/2:f),r=Math.cos(g)*f,a=Math.sin(g)*f,p=Math.sin(g)*(n?n/2:f),s.moveTo(e-d,i-a),s.lineTo(e+p,i-r),s.lineTo(e+d,i+a),s.lineTo(e-p,i+r),s.closePath();break;case"crossRot":g+=sa;case"cross":d=Math.cos(g)*(n?n/2:f),r=Math.cos(g)*f,a=Math.sin(g)*f,p=Math.sin(g)*(n?n/2:f),s.moveTo(e-d,i-a),s.lineTo(e+d,i+a),s.moveTo(e+p,i-r),s.lineTo(e-p,i+r);break;case"star":d=Math.cos(g)*(n?n/2:f),r=Math.cos(g)*f,a=Math.sin(g)*f,p=Math.sin(g)*(n?n/2:f),s.moveTo(e-d,i-a),s.lineTo(e+d,i+a),s.moveTo(e+p,i-r),s.lineTo(e-p,i+r),g+=sa,d=Math.cos(g)*(n?n/2:f),r=Math.cos(g)*f,a=Math.sin(g)*f,p=Math.sin(g)*(n?n/2:f),s.moveTo(e-d,i-a),s.lineTo(e+d,i+a),s.moveTo(e+p,i-r),s.lineTo(e-p,i+r);break;case"line":r=n?n/2:Math.cos(g)*f,a=Math.sin(g)*f,s.moveTo(e-r,i-a),s.lineTo(e+r,i+a);break;case"dash":s.moveTo(e,i),s.lineTo(e+Math.cos(g)*(n?n/2:f),i+Math.sin(g)*f);break;case!1:s.closePath();break}s.fill(),t.borderWidth>0&&s.stroke()}}function us(s,t,e){return e=e||.5,!t||s&&s.x>t.left-e&&s.x<t.right+e&&s.y>t.top-e&&s.y<t.bottom+e}function Vh(s,t){s.save(),s.beginPath(),s.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),s.clip()}function Bh(s){s.restore()}function M7(s,t,e,i,n){if(!t)return s.lineTo(e.x,e.y);if(n==="middle"){let o=(t.x+e.x)/2;s.lineTo(o,t.y),s.lineTo(o,e.y)}else n==="after"!=!!i?s.lineTo(t.x,e.y):s.lineTo(e.x,t.y);s.lineTo(e.x,e.y)}function A7(s,t,e,i){if(!t)return s.lineTo(e.x,e.y);s.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function GT(s,t){t.translation&&s.translate(t.translation[0],t.translation[1]),Lt(t.rotation)||s.rotate(t.rotation),t.color&&(s.fillStyle=t.color),t.textAlign&&(s.textAlign=t.textAlign),t.textBaseline&&(s.textBaseline=t.textBaseline)}function WT(s,t,e,i,n){if(n.strikethrough||n.underline){let o=s.measureText(i),r=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=e-o.actualBoundingBoxAscent,c=e+o.actualBoundingBoxDescent,h=n.strikethrough?(l+c)/2:c;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=n.decorationWidth||2,s.moveTo(r,h),s.lineTo(a,h),s.stroke()}}function qT(s,t){let e=s.fillStyle;s.fillStyle=t.color,s.fillRect(t.left,t.top,t.width,t.height),s.fillStyle=e}function Wo(s,t,e,i,n,o={}){let r=Zt(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="",l,c;for(s.save(),s.font=n.string,GT(s,o),l=0;l<r.length;++l)c=r[l],o.backdrop&&qT(s,o.backdrop),a&&(o.strokeColor&&(s.strokeStyle=o.strokeColor),Lt(o.strokeWidth)||(s.lineWidth=o.strokeWidth),s.strokeText(c,e,i,o.maxWidth)),s.fillText(c,e,i,o.maxWidth),WT(s,e,i,c,o),i+=Number(n.lineHeight);s.restore()}function Rl(s,t){let{x:e,y:i,w:n,h:o,radius:r}=t;s.arc(e+r.topLeft,i+r.topLeft,r.topLeft,1.5*Kt,Kt,!0),s.lineTo(e,i+o-r.bottomLeft),s.arc(e+r.bottomLeft,i+o-r.bottomLeft,r.bottomLeft,Kt,_e,!0),s.lineTo(e+n-r.bottomRight,i+o),s.arc(e+n-r.bottomRight,i+o-r.bottomRight,r.bottomRight,_e,0,!0),s.lineTo(e+n,i+r.topRight),s.arc(e+n-r.topRight,i+r.topRight,r.topRight,0,-_e,!0),s.lineTo(e+r.topLeft,i)}var YT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,XT=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function $T(s,t){let e=(""+s).match(YT);if(!e||e[1]==="normal")return t*1.2;switch(s=+e[2],e[3]){case"px":return s;case"%":s/=100;break}return t*s}var QT=s=>+s||0;function ap(s,t){let e={},i=St(t),n=i?Object.keys(t):t,o=St(s)?i?r=>gt(s[r],s[t[r]]):r=>s[r]:()=>s;for(let r of n)e[r]=QT(o(r));return e}function t4(s){return ap(s,{top:"y",right:"x",bottom:"y",left:"x"})}function qo(s){return ap(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Xe(s){let t=t4(s);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Re(s,t){s=s||{},t=t||pe.font;let e=gt(s.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=gt(s.style,t.style);i&&!(""+i).match(XT)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let n={family:gt(s.family,t.family),lineHeight:$T(gt(s.lineHeight,t.lineHeight),e),size:e,style:i,weight:gt(s.weight,t.weight),string:""};return n.string=UT(n),n}function Ol(s,t,e,i){let n=!0,o,r,a;for(o=0,r=s.length;o<r;++o)if(a=s[o],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),n=!1),e!==void 0&&Zt(a)&&(a=a[e%a.length],n=!1),a!==void 0))return i&&!n&&(i.cacheable=!1),a}function T7(s,t,e){let{min:i,max:n}=s,o=B0(t,(n-i)/2),r=(a,l)=>e&&a===0?0:a+l;return{min:r(i,-Math.abs(o)),max:r(n,o)}}function Qs(s,t){return Object.assign(Object.create(s),t)}function lp(s,t=[""],e,i,n=()=>s[0]){let o=e||s;typeof i>"u"&&(i=E7("_fallback",s));let r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:o,_fallback:i,_getTarget:n,override:a=>lp([a,...s],t,o,i)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete a._keys,delete s[0][l],!0},get(a,l){return I7(a,l,()=>sI(l,t,s,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(a,l){return r7(a).includes(l)},ownKeys(a){return r7(a)},set(a,l,c){let h=a._storage||(a._storage=n());return a[l]=h[l]=c,delete a._keys,!0}})}function ra(s,t,e,i){let n={_cacheable:!1,_proxy:s,_context:t,_subProxy:e,_stack:new Set,_descriptors:e4(s,i),setContext:o=>ra(s,o,e,i),override:o=>ra(s.override(o),t,e,i)};return new Proxy(n,{deleteProperty(o,r){return delete o[r],delete s[r],!0},get(o,r,a){return I7(o,r,()=>KT(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(s,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,r)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(o,r){return Reflect.has(s,r)},ownKeys(){return Reflect.ownKeys(s)},set(o,r,a){return s[r]=a,delete o[r],!0}})}function e4(s,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:n=t.allKeys}=s;return{allKeys:n,scriptable:e,indexable:i,isScriptable:Ys(e)?e:()=>e,isIndexable:Ys(i)?i:()=>i}}var ZT=(s,t)=>s?s+ep(t):t,i4=(s,t)=>St(t)&&s!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function I7(s,t,e){if(Object.prototype.hasOwnProperty.call(s,t)||t==="constructor")return s[t];let i=e();return s[t]=i,i}function KT(s,t,e){let{_proxy:i,_context:n,_subProxy:o,_descriptors:r}=s,a=i[t];return Ys(a)&&r.isScriptable(t)&&(a=JT(t,a,s,e)),Zt(a)&&a.length&&(a=tI(t,a,s,r.isIndexable)),i4(t,a)&&(a=ra(a,n,o&&o[t],r)),a}function JT(s,t,e,i){let{_proxy:n,_context:o,_subProxy:r,_stack:a}=e;if(a.has(s))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+s);a.add(s);let l=t(o,r||i);return a.delete(s),i4(s,l)&&(l=n4(n._scopes,n,s,l)),l}function tI(s,t,e,i){let{_proxy:n,_context:o,_subProxy:r,_descriptors:a}=e;if(typeof o.index<"u"&&i(s))return t[o.index%t.length];if(St(t[0])){let l=t,c=n._scopes.filter(h=>h!==l);t=[];for(let h of l){let d=n4(c,n,s,h);t.push(ra(d,o,r&&r[s],a))}}return t}function z7(s,t,e){return Ys(s)?s(t,e):s}var eI=(s,t)=>s===!0?t:typeof s=="string"?$s(t,s):void 0;function iI(s,t,e,i,n){for(let o of t){let r=eI(e,o);if(r){s.add(r);let a=z7(r._fallback,e,n);if(typeof a<"u"&&a!==e&&a!==i)return a}else if(r===!1&&typeof i<"u"&&e!==i)return null}return!1}function n4(s,t,e,i){let n=t._rootScopes,o=z7(t._fallback,e,i),r=[...s,...n],a=new Set;a.add(i);let l=o7(a,r,e,o||e,i);return l===null||typeof o<"u"&&o!==e&&(l=o7(a,r,o,l,i),l===null)?!1:lp(Array.from(a),[""],n,o,()=>nI(t,e,i))}function o7(s,t,e,i,n){for(;e;)e=iI(s,t,e,i,n);return e}function nI(s,t,e){let i=s._getTarget();t in i||(i[t]={});let n=i[t];return Zt(n)&&St(e)?e:n||{}}function sI(s,t,e,i){let n;for(let o of t)if(n=E7(ZT(o,s),e),typeof n<"u")return i4(s,n)?n4(e,i,s,n):n}function E7(s,t){for(let e of t){if(!e)continue;let i=e[s];if(typeof i<"u")return i}}function r7(s){let t=s._keys;return t||(t=s._keys=oI(s._scopes)),t}function oI(s){let t=new Set;for(let e of s)for(let i of Object.keys(e).filter(n=>!n.startsWith("_")))t.add(i);return Array.from(t)}function s4(s,t,e,i){let{iScale:n}=s,{key:o="r"}=this._parsing,r=new Array(i),a,l,c,h;for(a=0,l=i;a<l;++a)c=a+e,h=t[c],r[a]={r:n.parse($s(h,o),c)};return r}var rI=Number.EPSILON||1e-14,zl=(s,t)=>t<s.length&&!s[t].skip&&s[t],k7=s=>s==="x"?"y":"x";function aI(s,t,e,i){let n=s.skip?t:s,o=t,r=e.skip?t:e,a=Jd(o,n),l=Jd(r,o),c=a/(a+l),h=l/(a+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;let d=i*c,p=i*h;return{previous:{x:o.x-d*(r.x-n.x),y:o.y-d*(r.y-n.y)},next:{x:o.x+p*(r.x-n.x),y:o.y+p*(r.y-n.y)}}}function lI(s,t,e){let i=s.length,n,o,r,a,l,c=zl(s,0);for(let h=0;h<i-1;++h)if(l=c,c=zl(s,h+1),!(!l||!c)){if(Dl(t[h],0,rI)){e[h]=e[h+1]=0;continue}n=e[h]/t[h],o=e[h+1]/t[h],a=Math.pow(n,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),e[h]=n*r*t[h],e[h+1]=o*r*t[h])}}function cI(s,t,e="x"){let i=k7(e),n=s.length,o,r,a,l=zl(s,0);for(let c=0;c<n;++c){if(r=a,a=l,l=zl(s,c+1),!a)continue;let h=a[e],d=a[i];r&&(o=(h-r[e])/3,a[`cp1${e}`]=h-o,a[`cp1${i}`]=d-o*t[c]),l&&(o=(l[e]-h)/3,a[`cp2${e}`]=h+o,a[`cp2${i}`]=d+o*t[c])}}function hI(s,t="x"){let e=k7(t),i=s.length,n=Array(i).fill(0),o=Array(i),r,a,l,c=zl(s,0);for(r=0;r<i;++r)if(a=l,l=c,c=zl(s,r+1),!!l){if(c){let h=c[t]-l[t];n[r]=h!==0?(c[e]-l[e])/h:0}o[r]=a?c?Nn(n[r-1])!==Nn(n[r])?0:(n[r-1]+n[r])/2:n[r-1]:n[r]}lI(s,n,o),cI(s,o,t)}function $d(s,t,e){return Math.max(Math.min(s,e),t)}function dI(s,t){let e,i,n,o,r,a=us(s[0],t);for(e=0,i=s.length;e<i;++e)r=o,o=a,a=e<i-1&&us(s[e+1],t),o&&(n=s[e],r&&(n.cp1x=$d(n.cp1x,t.left,t.right),n.cp1y=$d(n.cp1y,t.top,t.bottom)),a&&(n.cp2x=$d(n.cp2x,t.left,t.right),n.cp2y=$d(n.cp2y,t.top,t.bottom)))}function D7(s,t,e,i,n){let o,r,a,l;if(t.spanGaps&&(s=s.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")hI(s,n);else{let c=i?s[s.length-1]:s[0];for(o=0,r=s.length;o<r;++o)a=s[o],l=aI(c,a,s[Math.min(o+1,r-(i?0:1))%r],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&dI(s,e)}function cp(){return typeof window<"u"&&typeof document<"u"}function hp(s){let t=s.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function tp(s,t,e){let i;return typeof s=="string"?(i=parseInt(s,10),s.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=s,i}var dp=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function pI(s,t){return dp(s).getPropertyValue(t)}var uI=["top","right","bottom","left"];function oa(s,t,e){let i={};e=e?"-"+e:"";for(let n=0;n<4;n++){let o=uI[n];i[o]=parseFloat(s[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var mI=(s,t,e)=>(s>0||t>0)&&(!e||!e.shadowRoot);function fI(s,t){let e=s.touches,i=e&&e.length?e[0]:s,{offsetX:n,offsetY:o}=i,r=!1,a,l;if(mI(n,o,s.target))a=n,l=o;else{let c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,r=!0}return{x:a,y:l,box:r}}function Yo(s,t){if("native"in s)return s;let{canvas:e,currentDevicePixelRatio:i}=t,n=dp(e),o=n.boxSizing==="border-box",r=oa(n,"padding"),a=oa(n,"border","width"),{x:l,y:c,box:h}=fI(s,e),d=r.left+(h&&a.left),p=r.top+(h&&a.top),{width:u,height:m}=t;return o&&(u-=r.width+a.width,m-=r.height+a.height),{x:Math.round((l-d)/u*e.width/i),y:Math.round((c-p)/m*e.height/i)}}function gI(s,t,e){let i,n;if(t===void 0||e===void 0){let o=s&&hp(s);if(!o)t=s.clientWidth,e=s.clientHeight;else{let r=o.getBoundingClientRect(),a=dp(o),l=oa(a,"border","width"),c=oa(a,"padding");t=r.width-c.width-l.width,e=r.height-c.height-l.height,i=tp(a.maxWidth,o,"clientWidth"),n=tp(a.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Kd,maxHeight:n||Kd}}var Qd=s=>Math.round(s*10)/10;function P7(s,t,e,i){let n=dp(s),o=oa(n,"margin"),r=tp(n.maxWidth,s,"clientWidth")||Kd,a=tp(n.maxHeight,s,"clientHeight")||Kd,l=gI(s,t,e),{width:c,height:h}=l;if(n.boxSizing==="content-box"){let p=oa(n,"border","width"),u=oa(n,"padding");c-=u.width+p.width,h-=u.height+p.height}return c=Math.max(0,c-o.width),h=Math.max(0,i?c/i:h-o.height),c=Qd(Math.min(c,r,l.maxWidth)),h=Qd(Math.min(h,a,l.maxHeight)),c&&!h&&(h=Qd(c/2)),(t!==void 0||e!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,c=Qd(Math.floor(h*i))),{width:c,height:h}}function o4(s,t,e){let i=t||1,n=Math.floor(s.height*i),o=Math.floor(s.width*i);s.height=Math.floor(s.height),s.width=Math.floor(s.width);let r=s.canvas;return r.style&&(e||!r.style.height&&!r.style.width)&&(r.style.height=`${s.height}px`,r.style.width=`${s.width}px`),s.currentDevicePixelRatio!==i||r.height!==n||r.width!==o?(s.currentDevicePixelRatio=i,r.height=n,r.width=o,s.ctx.setTransform(i,0,0,i,0,0),!0):!1}var L7=function(){let s=!1;try{let t={get passive(){return s=!0,!1}};cp()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return s}();function r4(s,t){let e=pI(s,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function jo(s,t,e,i){return{x:s.x+e*(t.x-s.x),y:s.y+e*(t.y-s.y)}}function R7(s,t,e,i){return{x:s.x+e*(t.x-s.x),y:i==="middle"?e<.5?s.y:t.y:i==="after"?e<1?s.y:t.y:e>0?t.y:s.y}}function O7(s,t,e,i){let n={x:s.cp2x,y:s.cp2y},o={x:t.cp1x,y:t.cp1y},r=jo(s,n,e),a=jo(n,o,e),l=jo(o,t,e),c=jo(r,a,e),h=jo(a,l,e);return jo(c,h,e)}var vI=function(s,t){return{x(e){return s+s+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},xI=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,t){return s+t},leftForLtr(s,t){return s}}};function la(s,t,e){return s?vI(t,e):xI()}function a4(s,t){let e,i;(t==="ltr"||t==="rtl")&&(e=s.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),s.prevTextDirection=i)}function l4(s,t){t!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",t[0],t[1]))}function V7(s){return s==="angle"?{between:Pl,compare:RT,normalize:Pi}:{between:fs,compare:(t,e)=>t-e,normalize:t=>t}}function a7({start:s,end:t,count:e,loop:i,style:n}){return{start:s%e,end:t%e,loop:i&&(t-s+1)%e===0,style:n}}function yI(s,t,e){let{property:i,start:n,end:o}=e,{between:r,normalize:a}=V7(i),l=t.length,{start:c,end:h,loop:d}=s,p,u;if(d){for(c+=l,h+=l,p=0,u=l;p<u&&r(a(t[c%l][i]),n,o);++p)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:d,style:s.style}}function c4(s,t,e){if(!e)return[s];let{property:i,start:n,end:o}=e,r=t.length,{compare:a,between:l,normalize:c}=V7(i),{start:h,end:d,loop:p,style:u}=yI(s,t,e),m=[],f=!1,g=null,x,y,C,S=()=>l(n,C,x)&&a(n,C)!==0,w=()=>a(o,x)===0||l(o,C,x),I=()=>f||S(),D=()=>!f||w();for(let E=h,F=h;E<=d;++E)y=t[E%r],!y.skip&&(x=c(y[i]),x!==C&&(f=l(x,n,o),g===null&&I()&&(g=a(x,n)===0?E:F),g!==null&&D()&&(m.push(a7({start:g,end:E,loop:p,count:r,style:u})),g=null),F=E,C=x));return g!==null&&m.push(a7({start:g,end:d,loop:p,count:r,style:u})),m}function h4(s,t){let e=[],i=s.segments;for(let n=0;n<i.length;n++){let o=c4(i[n],s.points,t);o.length&&e.push(...o)}return e}function bI(s,t,e,i){let n=0,o=t-1;if(e&&!i)for(;n<t&&!s[n].skip;)n++;for(;n<t&&s[n].skip;)n++;for(n%=t,e&&(o+=n);o>n&&s[o%t].skip;)o--;return o%=t,{start:n,end:o}}function _I(s,t,e,i){let n=s.length,o=[],r=t,a=s[t],l;for(l=t+1;l<=e;++l){let c=s[l%n];c.skip||c.stop?a.skip||(i=!1,o.push({start:t%n,end:(l-1)%n,loop:i}),t=r=c.stop?l:null):(r=l,a.skip&&(t=l)),a=c}return r!==null&&o.push({start:t%n,end:r%n,loop:i}),o}function B7(s,t){let e=s.points,i=s.options.spanGaps,n=e.length;if(!n)return[];let o=!!s._loop,{start:r,end:a}=bI(e,n,o,i);if(i===!0)return l7(s,[{start:r,end:a,loop:o}],e,t);let l=a<r?a+n:a,c=!!s._fullLoop&&r===0&&a===n-1;return l7(s,_I(e,r,l,c),e,t)}function l7(s,t,e,i){return!i||!i.setContext||!e?t:wI(s,t,e,i)}function wI(s,t,e,i){let n=s._chart.getContext(),o=c7(s.options),{_datasetIndex:r,options:{spanGaps:a}}=s,l=e.length,c=[],h=o,d=t[0].start,p=d;function u(m,f,g,x){let y=a?-1:1;if(m!==f){for(m+=l;e[m%l].skip;)m-=y;for(;e[f%l].skip;)f+=y;m%l!==f%l&&(c.push({start:m%l,end:f%l,loop:g,style:x}),h=x,d=f%l)}}for(let m of t){d=a?d:m.start;let f=e[d%l],g;for(p=d+1;p<=m.end;p++){let x=e[p%l];g=c7(i.setContext(Qs(n,{type:"segment",p0:f,p1:x,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:r}))),CI(g,h)&&u(d,p-1,m.loop,h),f=x,h=g}d<p-1&&u(d,p-1,m.loop,h)}return c}function c7(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function CI(s,t){if(!t)return!1;let e=[],i=function(n,o){return Q0(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(s,i)!==JSON.stringify(t,i)}var b4=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,n){let o=e.listeners[n],r=e.duration;o.forEach(a=>a({chart:t,initial:e.initial,numSteps:r,currentStep:Math.min(i-e.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=q0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;let o=i.items,r=o.length-1,a=!1,l;for(;r>=0;--r)l=o[r],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(o[r]=o[o.length-1],o.pop());a&&(n.draw(),this._notify(n,i,t,"progress")),o.length||(i.running=!1,this._notify(n,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let i=e.items,n=i.length-1;for(;n>=0;--n)i[n].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},Zs=new b4,H7="transparent",SI={boolean(s,t,e){return e>.5?t:s},color(s,t,e){let i=Z0(s||H7),n=i.valid&&Z0(t||H7);return n&&n.valid?n.mix(i,e).hexString():t},number(s,t,e){return s+(t-s)*e}},_4=class{constructor(t,e,i,n){let o=e[i];n=Ol([t.to,n,o,t.from]);let r=Ol([t.from,o,n]);this._active=!0,this._fn=t.fn||SI[t.type||typeof r],this._easing=Tl[t.easing]||Tl.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=r,this._to=n,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);let n=this._target[this._prop],o=i-this._start,r=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Ol([t.to,e,n,t.from]),this._from=Ol([t.from,n,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,i=this._duration,n=this._prop,o=this._from,r=this._loop,a=this._to,l;if(this._active=o!==a&&(r||e<i),!this._active){this._target[n]=a,this._notify(!0);return}if(e<0){this._target[n]=o;return}l=e/i%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[n]=this._fn(o,a,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){let e=t?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][e]()}},_p=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!St(t))return;let e=Object.keys(pe.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{let o=t[n];if(!St(o))return;let r={};for(let a of e)r[a]=o[a];(Zt(o.properties)&&o.properties||[n]).forEach(a=>{(a===n||!i.has(a))&&i.set(a,r)})})}_animateOptions(t,e){let i=e.options,n=AI(t,i);if(!n)return[];let o=this._createAnimations(n,i);return i.$shared&&MI(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){let i=this._properties,n=[],o=t.$animations||(t.$animations={}),r=Object.keys(e),a=Date.now(),l;for(l=r.length-1;l>=0;--l){let c=r[l];if(c.charAt(0)==="$")continue;if(c==="options"){n.push(...this._animateOptions(t,e));continue}let h=e[c],d=o[c],p=i.get(c);if(d)if(p&&d.active()){d.update(p,h,a);continue}else d.cancel();if(!p||!p.duration){t[c]=h;continue}o[c]=d=new _4(p,t,c,h),n.push(d)}return n}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let i=this._createAnimations(t,e);if(i.length)return Zs.add(this._chart,i),!0}};function MI(s,t){let e=[],i=Object.keys(t);for(let n=0;n<i.length;n++){let o=s[i[n]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function AI(s,t){if(!t)return;let e=s.options;if(!e){s.options=t;return}return e.$shared&&(s.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function N7(s,t){let e=s&&s.options||{},i=e.reverse,n=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:n,end:i?n:o}}function TI(s,t,e){if(e===!1)return!1;let i=N7(s,e),n=N7(t,e);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}function II(s){let t,e,i,n;return St(s)?(t=s.top,e=s.right,i=s.bottom,n=s.left):t=e=i=n=s,{top:t,right:e,bottom:i,left:n,disabled:s===!1}}function Ny(s,t){let e=[],i=s._getSortedDatasetMetas(t),n,o;for(n=0,o=i.length;n<o;++n)e.push(i[n].index);return e}function F7(s,t,e,i={}){let n=s.keys,o=i.mode==="single",r,a,l,c;if(t!==null){for(r=0,a=n.length;r<a;++r){if(l=+n[r],l===e){if(i.all)continue;break}c=s.values[l],de(c)&&(o||t===0||Nn(t)===Nn(c))&&(t+=c)}return t}}function zI(s,t){let{iScale:e,vScale:i}=t,n=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",r=Object.keys(s),a=new Array(r.length),l,c,h;for(l=0,c=r.length;l<c;++l)h=r[l],a[l]={[n]:h,[o]:s[h]};return a}function j7(s,t){let e=s&&s.options.stacked;return e||e===void 0&&t.stack!==void 0}function EI(s,t,e){return`${s.id}.${t.id}.${e.stack||e.type}`}function kI(s){let{min:t,max:e,minDefined:i,maxDefined:n}=s.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:n?e:Number.POSITIVE_INFINITY}}function DI(s,t,e){let i=s[t]||(s[t]={});return i[e]||(i[e]={})}function U7(s,t,e,i){for(let n of t.getMatchingVisibleMetas(i).reverse()){let o=s[n.index];if(e&&o>0||!e&&o<0)return n.index}return null}function G7(s,t){let{chart:e,_cachedMeta:i}=s,n=e._stacks||(e._stacks={}),{iScale:o,vScale:r,index:a}=i,l=o.axis,c=r.axis,h=EI(o,r,i),d=t.length,p;for(let u=0;u<d;++u){let m=t[u],{[l]:f,[c]:g}=m,x=m._stacks||(m._stacks={});p=x[c]=DI(n,h,f),p[a]=g,p._top=U7(p,r,!0,i.type),p._bottom=U7(p,r,!1,i.type);let y=p._visualValues||(p._visualValues={});y[a]=g}}function d4(s,t){let e=s.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function PI(s,t){return Qs(s,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function LI(s,t,e){return Qs(s,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Hh(s,t){let e=s.controller.index,i=s.vScale&&s.vScale.axis;if(i){t=t||s._parsed;for(let n of t){let o=n._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}var p4=s=>s==="reset"||s==="none",W7=(s,t)=>t?s:Object.assign({},s),RI=(s,t,e)=>s&&!t.hidden&&t._stacked&&{keys:Ny(e,!0),values:null},$o=(()=>{class s{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=j7(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Hh(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,i=this._cachedMeta,n=this.getDataset(),o=(p,u,m,f)=>p==="x"?u:p==="r"?f:m,r=i.xAxisID=gt(n.xAxisID,d4(e,"x")),a=i.yAxisID=gt(n.yAxisID,d4(e,"y")),l=i.rAxisID=gt(n.rAxisID,d4(e,"r")),c=i.indexAxis,h=i.iAxisID=o(c,r,a,l),d=i.vAxisID=o(c,a,r,l);i.xScale=this.getScaleForId(r),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(h),i.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&G0(this._data,this),e._stacked&&Hh(e)}_dataCheck(){let e=this.getDataset(),i=e.data||(e.data=[]),n=this._data;if(St(i)){let o=this._cachedMeta;this._data=zI(i,o)}else if(n!==i){if(n){G0(n,this);let o=this._cachedMeta;Hh(o),o._parsed=[]}i&&Object.isExtensible(i)&&b7(i,this),this._syncList=[],this._data=i}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let i=this._cachedMeta,n=this.getDataset(),o=!1;this._dataCheck();let r=i._stacked;i._stacked=j7(i.vScale,i),i.stack!==n.stack&&(o=!0,Hh(i),i.stack=n.stack),this._resyncElements(e),(o||r!==i._stacked)&&G7(this,i._parsed)}configure(){let e=this.chart.config,i=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){let{_cachedMeta:n,_data:o}=this,{iScale:r,_stacked:a}=n,l=r.axis,c=e===0&&i===o.length?!0:n._sorted,h=e>0&&n._parsed[e-1],d,p,u;if(this._parsing===!1)n._parsed=o,n._sorted=!0,u=o;else{Zt(o[e])?u=this.parseArrayData(n,o,e,i):St(o[e])?u=this.parseObjectData(n,o,e,i):u=this.parsePrimitiveData(n,o,e,i);let m=()=>p[l]===null||h&&p[l]<h[l];for(d=0;d<i;++d)n._parsed[d+e]=p=u[d],c&&(m()&&(c=!1),h=p);n._sorted=c}a&&G7(this,u)}parsePrimitiveData(e,i,n,o){let{iScale:r,vScale:a}=e,l=r.axis,c=a.axis,h=r.getLabels(),d=r===a,p=new Array(o),u,m,f;for(u=0,m=o;u<m;++u)f=u+n,p[u]={[l]:d||r.parse(h[f],f),[c]:a.parse(i[f],f)};return p}parseArrayData(e,i,n,o){let{xScale:r,yScale:a}=e,l=new Array(o),c,h,d,p;for(c=0,h=o;c<h;++c)d=c+n,p=i[d],l[c]={x:r.parse(p[0],d),y:a.parse(p[1],d)};return l}parseObjectData(e,i,n,o){let{xScale:r,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,h=new Array(o),d,p,u,m;for(d=0,p=o;d<p;++d)u=d+n,m=i[u],h[d]={x:r.parse($s(m,l),u),y:a.parse($s(m,c),u)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,n){let o=this.chart,r=this._cachedMeta,a=i[e.axis],l={keys:Ny(o,!0),values:i._stacks[e.axis]._visualValues};return F7(l,a,r.index,{mode:n})}updateRangeFromParsed(e,i,n,o){let r=n[i.axis],a=r===null?NaN:r,l=o&&n._stacks[i.axis];o&&l&&(o.values=l,a=F7(o,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,i){let n=this._cachedMeta,o=n._parsed,r=n._sorted&&e===n.iScale,a=o.length,l=this._getOtherScale(e),c=RI(i,n,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:p}=kI(l),u,m;function f(){m=o[u];let g=m[l.axis];return!de(m[e.axis])||d>g||p<g}for(u=0;u<a&&!(!f()&&(this.updateRangeFromParsed(h,e,m,c),r));++u);if(r){for(u=a-1;u>=0;--u)if(!f()){this.updateRangeFromParsed(h,e,m,c);break}}return h}getAllParsedValues(e){let i=this._cachedMeta._parsed,n=[],o,r,a;for(o=0,r=i.length;o<r;++o)a=i[o][e.axis],de(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){let i=this._cachedMeta,n=i.iScale,o=i.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:o?""+o.getLabelForValue(r[o.axis]):""}}_update(e){let i=this._cachedMeta;this.update(e||"default"),i._clip=II(gt(this.options.clip,TI(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,i=this.chart,n=this._cachedMeta,o=n.data||[],r=i.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||o.length-l,h=this.options.drawActiveElementsOnTop,d;for(n.dataset&&n.dataset.draw(e,r,l,c),d=l;d<l+c;++d){let p=o[d];p.hidden||(p.active&&h?a.push(p):p.draw(e,r))}for(d=0;d<a.length;++d)a[d].draw(e,r)}getStyle(e,i){let n=i?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,i,n){let o=this.getDataset(),r;if(e>=0&&e<this._cachedMeta.data.length){let a=this._cachedMeta.data[e];r=a.$context||(a.$context=LI(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=o.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=PI(this.chart.getContext(),this.index)),r.dataset=o,r.index=r.datasetIndex=this.index;return r.active=!!i,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",n){let o=i==="active",r=this._cachedDataOpts,a=e+"-"+i,l=r[a],c=this.enableOptionSharing&&kl(n);if(l)return W7(l,c);let h=this.chart.config,d=h.datasetElementScopeKeys(this._type,e),p=o?[`${e}Hover`,"hover",e,""]:[e,""],u=h.getOptionScopes(this.getDataset(),d),m=Object.keys(pe.elements[e]),f=()=>this.getContext(n,o,i),g=h.resolveNamedOptions(u,m,f,p);return g.$shared&&(g.$shared=c,r[a]=Object.freeze(W7(g,c))),g}_resolveAnimations(e,i,n){let o=this.chart,r=this._cachedDataOpts,a=`animation-${i}`,l=r[a];if(l)return l;let c;if(o.options.animation!==!1){let d=this.chart.config,p=d.datasetAnimationScopeKeys(this._type,i),u=d.getOptionScopes(this.getDataset(),p);c=d.createResolver(u,this.getContext(e,n,i))}let h=new _p(o,c&&c.animations);return c&&c._cacheable&&(r[a]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||p4(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){let n=this.resolveDataElementOptions(e,i),o=this._sharedOptions,r=this.getSharedOptions(n),a=this.includeOptions(i,r)||r!==o;return this.updateSharedOptions(r,i,n),{sharedOptions:r,includeOptions:a}}updateElement(e,i,n,o){p4(o)?Object.assign(e,n):this._resolveAnimations(i,o).update(e,n)}updateSharedOptions(e,i,n){e&&!p4(i)&&this._resolveAnimations(void 0,i).update(e,n)}_setStyle(e,i,n,o){e.active=o;let r=this.getStyle(i,o);this._resolveAnimations(i,n,o).update(e,{options:!o&&this.getSharedOptions(r)||r})}removeHoverStyle(e,i,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,i,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let i=this._data,n=this._cachedMeta.data;for(let[l,c,h]of this._syncList)this[l](c,h);this._syncList=[];let o=n.length,r=i.length,a=Math.min(r,o);a&&this.parse(0,a),r>o?this._insertElements(o,r-o,e):r<o&&this._removeElements(r,o-r)}_insertElements(e,i,n=!0){let o=this._cachedMeta,r=o.data,a=e+i,l,c=h=>{for(h.length+=i,l=h.length-1;l>=a;l--)h[l]=h[l-i]};for(c(r),l=e;l<a;++l)r[l]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(e,i),n&&this.updateElements(r,e,i,"reset")}updateElements(e,i,n,o){}_removeElements(e,i){let n=this._cachedMeta;if(this._parsing){let o=n._parsed.splice(e,i);n._stacked&&Hh(n,o)}n.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[i,n,o]=e;this[i](n,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);let n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return s})();function OI(s,t){if(!s._cache.$bar){let e=s.getMatchingVisibleMetas(t),i=[];for(let n=0,o=e.length;n<o;n++)i=i.concat(e[n].controller.getAllParsedValues(s));s._cache.$bar=W0(i.sort((n,o)=>n-o))}return s._cache.$bar}function VI(s){let t=s.iScale,e=OI(t,s.type),i=t._length,n,o,r,a,l=()=>{r===32767||r===-32768||(kl(a)&&(i=Math.min(i,Math.abs(r-a)||i)),a=r)};for(n=0,o=e.length;n<o;++n)r=t.getPixelForValue(e[n]),l();for(a=void 0,n=0,o=t.ticks.length;n<o;++n)r=t.getPixelForTick(n),l();return i}function BI(s,t,e,i){let n=e.barThickness,o,r;return Lt(n)?(o=t.min*e.categoryPercentage,r=e.barPercentage):(o=n*i,r=1),{chunk:o/i,ratio:r,start:t.pixels[s]-o/2}}function HI(s,t,e,i){let n=t.pixels,o=n[s],r=s>0?n[s-1]:null,a=s<n.length-1?n[s+1]:null,l=e.categoryPercentage;r===null&&(r=o-(a===null?t.end-t.start:a-o)),a===null&&(a=o+o-r);let c=o-(o-Math.min(r,a))/2*l;return{chunk:Math.abs(a-r)/2*l/i,ratio:e.barPercentage,start:c}}function NI(s,t,e,i){let n=e.parse(s[0],i),o=e.parse(s[1],i),r=Math.min(n,o),a=Math.max(n,o),l=r,c=a;Math.abs(r)>Math.abs(a)&&(l=a,c=r),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:n,end:o,min:r,max:a}}function Fy(s,t,e,i){return Zt(s)?NI(s,t,e,i):t[e.axis]=e.parse(s,i),t}function q7(s,t,e,i){let n=s.iScale,o=s.vScale,r=n.getLabels(),a=n===o,l=[],c,h,d,p;for(c=e,h=e+i;c<h;++c)p=t[c],d={},d[n.axis]=a||n.parse(r[c],c),l.push(Fy(p,d,o,c));return l}function u4(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function FI(s,t,e){return s!==0?Nn(s):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function jI(s){let t,e,i,n,o;return s.horizontal?(t=s.base>s.x,e="left",i="right"):(t=s.base<s.y,e="bottom",i="top"),t?(n="end",o="start"):(n="start",o="end"),{start:e,end:i,reverse:t,top:n,bottom:o}}function UI(s,t,e,i){let n=t.borderSkipped,o={};if(!n){s.borderSkipped=o;return}if(n===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:r,end:a,reverse:l,top:c,bottom:h}=jI(s);n==="middle"&&e&&(s.enableBorderRadius=!0,(e._top||0)===i?n=c:(e._bottom||0)===i?n=h:(o[Y7(h,r,a,l)]=!0,n=c)),o[Y7(n,r,a,l)]=!0,s.borderSkipped=o}function Y7(s,t,e,i){return i?(s=GI(s,t,e),s=X7(s,e,t)):s=X7(s,t,e),s}function GI(s,t,e){return s===t?e:s===e?t:s}function X7(s,t,e){return s==="start"?t:s==="end"?e:s}function WI(s,{inflateAmount:t},e){s.inflateAmount=t==="auto"?e===1?.33:0:t}var qI=(()=>{class s extends $o{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,n,o){return q7(e,i,n,o)}parseArrayData(e,i,n,o){return q7(e,i,n,o)}parseObjectData(e,i,n,o){let{iScale:r,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,h=r.axis==="x"?l:c,d=a.axis==="x"?l:c,p=[],u,m,f,g;for(u=n,m=n+o;u<m;++u)g=i[u],f={},f[r.axis]=r.parse($s(g,h),u),p.push(Fy($s(g,d),f,a,u));return p}updateRangeFromParsed(e,i,n,o){super.updateRangeFromParsed(e,i,n,o);let r=n._custom;r&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let i=this._cachedMeta,{iScale:n,vScale:o}=i,r=this.getParsed(e),a=r._custom,l=u4(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(r[o.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,n,o){let r=o==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),h=l.isHorizontal(),d=this._getRuler(),{sharedOptions:p,includeOptions:u}=this._getSharedOptions(i,o);for(let m=i;m<i+n;m++){let f=this.getParsed(m),g=r||Lt(f[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),x=this._calculateBarIndexPixels(m,d),y=(f._stacks||{})[l.axis],C={horizontal:h,base:g.base,enableBorderRadius:!y||u4(f._custom)||a===y._top||a===y._bottom,x:h?g.head:x.center,y:h?x.center:g.head,height:h?x.size:Math.abs(g.size),width:h?Math.abs(g.size):x.size};u&&(C.options=p||this.resolveDataElementOptions(m,e[m].active?"active":o));let S=C.options||e[m].options;UI(C,S,y,a),WI(C,S,d.ratio),this.updateElement(e[m],m,C,o)}}_getStacks(e,i){let{iScale:n}=this._cachedMeta,o=n.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),r=n.options.stacked,a=[],l=c=>{let h=c.controller.getParsed(i),d=h&&h[c.vScale.axis];if(Lt(d)||isNaN(d))return!0};for(let c of o)if(!(i!==void 0&&l(c))&&((r===!1||a.indexOf(c.stack)===-1||r===void 0&&c.stack===void 0)&&a.push(c.stack),c.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,n){let o=this._getStacks(e,n),r=i!==void 0?o.indexOf(i):-1;return r===-1?o.length-1:r}_getRuler(){let e=this.options,i=this._cachedMeta,n=i.iScale,o=[],r,a;for(r=0,a=i.data.length;r<a;++r)o.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));let l=e.barThickness;return{min:l||VI(i),pixels:o,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:i,_stacked:n,index:o},options:{base:r,minBarLength:a}}=this,l=r||0,c=this.getParsed(e),h=c._custom,d=u4(h),p=c[i.axis],u=0,m=n?this.applyStack(i,c,n):p,f,g;m!==p&&(u=m-p,m=p),d&&(p=h.barStart,m=h.barEnd-h.barStart,p!==0&&Nn(p)!==Nn(h.barEnd)&&(u=0),u+=p);let x=!Lt(r)&&!d?r:u,y=i.getPixelForValue(x);if(this.chart.getDataVisibility(e)?f=i.getPixelForValue(u+m):f=y,g=f-y,Math.abs(g)<a){g=FI(g,i,l)*a,p===l&&(y-=g/2);let C=i.getPixelForDecimal(0),S=i.getPixelForDecimal(1),w=Math.min(C,S),I=Math.max(C,S);y=Math.max(Math.min(y,I),w),f=y+g,n&&!d&&(c._stacks[i.axis]._visualValues[o]=i.getValueForPixel(f)-i.getValueForPixel(y))}if(y===i.getPixelForValue(l)){let C=Nn(g)*i.getLineWidthForValue(l)/2;y+=C,g-=C}return{size:g,base:y,head:f,center:f+g/2}}_calculateBarIndexPixels(e,i){let n=i.scale,o=this.options,r=o.skipNull,a=gt(o.maxBarThickness,1/0),l,c;if(i.grouped){let h=r?this._getStackCount(e):i.stackCount,d=o.barThickness==="flex"?HI(e,i,o,h):BI(e,i,o,h),p=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);l=d.start+d.chunk*p+d.chunk/2,c=Math.min(a,d.chunk*d.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(a,i.min*i.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let e=this._cachedMeta,i=e.vScale,n=e.data,o=n.length,r=0;for(;r<o;++r)this.getParsed(r)[i.axis]!==null&&!n[r].hidden&&n[r].draw(this._ctx)}}return s})(),YI=(()=>{class s extends $o{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,n,o){let r=super.parsePrimitiveData(e,i,n,o);for(let a=0;a<r.length;a++)r[a]._custom=this.resolveDataElementOptions(a+n).radius;return r}parseArrayData(e,i,n,o){let r=super.parseArrayData(e,i,n,o);for(let a=0;a<r.length;a++){let l=i[n+a];r[a]._custom=gt(l[2],this.resolveDataElementOptions(a+n).radius)}return r}parseObjectData(e,i,n,o){let r=super.parseObjectData(e,i,n,o);for(let a=0;a<r.length;a++){let l=i[n+a];r[a]._custom=gt(l&&l.r&&+l.r,this.resolveDataElementOptions(a+n).radius)}return r}getMaxOverflow(){let e=this._cachedMeta.data,i=0;for(let n=e.length-1;n>=0;--n)i=Math.max(i,e[n].size(this.resolveDataElementOptions(n))/2);return i>0&&i}getLabelAndValue(e){let i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:o,yScale:r}=i,a=this.getParsed(e),l=o.getLabelForValue(a.x),c=r.getLabelForValue(a.y),h=a._custom;return{label:n[e]||"",value:"("+l+", "+c+(h?", "+h:"")+")"}}update(e){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,n,o){let r=o==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:h}=this._getSharedOptions(i,o),d=a.axis,p=l.axis;for(let u=i;u<i+n;u++){let m=e[u],f=!r&&this.getParsed(u),g={},x=g[d]=r?a.getPixelForDecimal(.5):a.getPixelForValue(f[d]),y=g[p]=r?l.getBasePixel():l.getPixelForValue(f[p]);g.skip=isNaN(x)||isNaN(y),h&&(g.options=c||this.resolveDataElementOptions(u,m.active?"active":o),r&&(g.options.radius=0)),this.updateElement(m,u,g,o)}}resolveDataElementOptions(e,i){let n=this.getParsed(e),o=super.resolveDataElementOptions(e,i);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let r=o.radius;return i!=="active"&&(o.radius=0),o.radius+=gt(n&&n._custom,r),o}}return s})();function XI(s,t,e){let i=1,n=1,o=0,r=0;if(t<Jt){let a=s,l=a+t,c=Math.cos(a),h=Math.sin(a),d=Math.cos(l),p=Math.sin(l),u=(C,S,w)=>Pl(C,a,l,!0)?1:Math.max(S,S*e,w,w*e),m=(C,S,w)=>Pl(C,a,l,!0)?-1:Math.min(S,S*e,w,w*e),f=u(0,c,d),g=u(_e,h,p),x=m(Kt,c,d),y=m(Kt+_e,h,p);i=(f-x)/2,n=(g-y)/2,o=-(f+x)/2,r=-(g+y)/2}return{ratioX:i,ratioY:n,offsetX:o,offsetY:r}}var F4=(()=>{class s extends $o{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:n,color:o}}=e.legend.options;return i.labels.map((r,a)=>{let c=e.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){let n=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=n;else{let r=c=>+n[c];if(St(n[e])){let{key:c="value"}=this._parsing;r=h=>+$s(n[h],c)}let a,l;for(a=e,l=e+i;a<l;++a)o._parsed[a]=r(a)}}_getRotation(){return fn(this.options.rotation-90)}_getCircumference(){return fn(this.options.circumference)}_getRotationExtents(){let e=Jt,i=-Jt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){let o=this.chart.getDatasetMeta(n).controller,r=o._getRotation(),a=o._getCircumference();e=Math.min(e,r),i=Math.max(i,r+a)}return{rotation:e,circumference:i-e}}update(e){let i=this.chart,{chartArea:n}=i,o=this._cachedMeta,r=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-a)/2,0),c=Math.min(d7(this.options.cutout,l),1),h=this._getRingWeight(this.index),{circumference:d,rotation:p}=this._getRotationExtents(),{ratioX:u,ratioY:m,offsetX:f,offsetY:g}=XI(p,d,c),x=(n.width-a)/u,y=(n.height-a)/m,C=Math.max(Math.min(x,y)/2,0),S=B0(this.options.radius,C),w=Math.max(S*c,0),I=(S-w)/this._getVisibleDatasetWeightTotal();this.offsetX=f*S,this.offsetY=g*S,o.total=this.calculateTotal(),this.outerRadius=S-I*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-I*h,0),this.updateElements(r,0,r.length,e)}_circumference(e,i){let n=this.options,o=this._cachedMeta,r=this._getCircumference();return i&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*r/Jt)}updateElements(e,i,n,o){let r=o==="reset",a=this.chart,l=a.chartArea,h=a.options.animation,d=(l.left+l.right)/2,p=(l.top+l.bottom)/2,u=r&&h.animateScale,m=u?0:this.innerRadius,f=u?0:this.outerRadius,{sharedOptions:g,includeOptions:x}=this._getSharedOptions(i,o),y=this._getRotation(),C;for(C=0;C<i;++C)y+=this._circumference(C,r);for(C=i;C<i+n;++C){let S=this._circumference(C,r),w=e[C],I={x:d+this.offsetX,y:p+this.offsetY,startAngle:y,endAngle:y+S,circumference:S,outerRadius:f,innerRadius:m};x&&(I.options=g||this.resolveDataElementOptions(C,w.active?"active":o)),y+=S,this.updateElement(w,C,I,o)}}calculateTotal(){let e=this._cachedMeta,i=e.data,n=0,o;for(o=0;o<i.length;o++){let r=e._parsed[o];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(n+=Math.abs(r))}return n}calculateCircumference(e){let i=this._cachedMeta.total;return i>0&&!isNaN(e)?Jt*(Math.abs(e)/i):0}getLabelAndValue(e){let i=this._cachedMeta,n=this.chart,o=n.data.labels||[],r=Ll(i._parsed[e],n.options.locale);return{label:o[e]||"",value:r}}getMaxBorderWidth(e){let i=0,n=this.chart,o,r,a,l,c;if(!e){for(o=0,r=n.data.datasets.length;o<r;++o)if(n.isDatasetVisible(o)){a=n.getDatasetMeta(o),e=a.data,l=a.controller;break}}if(!e)return 0;for(o=0,r=e.length;o<r;++o)c=l.resolveDataElementOptions(o),c.borderAlign!=="inner"&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let n=0,o=e.length;n<o;++n){let r=this.resolveDataElementOptions(n);i=Math.max(i,r.offset||0,r.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(i+=this._getRingWeight(n));return i}_getRingWeight(e){return Math.max(gt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return s})(),$I=(()=>{class s extends $o{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let i=this._cachedMeta,{dataset:n,data:o=[],_dataset:r}=i,a=this.chart._animationsDisabled,{start:l,count:c}=X0(i,o,a);this._drawStart=l,this._drawCount=c,$0(i)&&(l=0,c=o.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=o;let h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:h},e),this.updateElements(o,l,c,e)}updateElements(e,i,n,o){let r=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:h}=this._cachedMeta,{sharedOptions:d,includeOptions:p}=this._getSharedOptions(i,o),u=a.axis,m=l.axis,{spanGaps:f,segment:g}=this.options,x=aa(f)?f:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||o==="none",C=i+n,S=e.length,w=i>0&&this.getParsed(i-1);for(let I=0;I<S;++I){let D=e[I],E=y?D:{};if(I<i||I>=C){E.skip=!0;continue}let F=this.getParsed(I),Q=Lt(F[m]),st=E[u]=a.getPixelForValue(F[u],I),ht=E[m]=r||Q?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,F,c):F[m],I);E.skip=isNaN(st)||isNaN(ht)||Q,E.stop=I>0&&Math.abs(F[u]-w[u])>x,g&&(E.parsed=F,E.raw=h.data[I]),p&&(E.options=d||this.resolveDataElementOptions(I,D.active?"active":o)),y||this.updateElement(D,I,E,o),w=F}}getMaxOverflow(){let e=this._cachedMeta,i=e.dataset,n=i.options&&i.options.borderWidth||0,o=e.data||[];if(!o.length)return n;let r=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(n,r,a)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return s})(),jy=(()=>{class s extends $o{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:n,color:o}}=e.legend.options;return i.labels.map((r,a)=>{let c=e.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let i=this._cachedMeta,n=this.chart,o=n.data.labels||[],r=Ll(i._parsed[e].r,n.options.locale);return{label:o[e]||"",value:r}}parseObjectData(e,i,n,o){return s4.bind(this)(e,i,n,o)}update(e){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){let e=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,o)=>{let r=this.getParsed(o).r;!isNaN(r)&&this.chart.getDataVisibility(o)&&(r<i.min&&(i.min=r),r>i.max&&(i.max=r))}),i}_updateRadius(){let e=this.chart,i=e.chartArea,n=e.options,o=Math.min(i.right-i.left,i.bottom-i.top),r=Math.max(o/2,0),a=Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0),l=(r-a)/e.getVisibleDatasetCount();this.outerRadius=r-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,i,n,o){let r=o==="reset",a=this.chart,c=a.options.animation,h=this._cachedMeta.rScale,d=h.xCenter,p=h.yCenter,u=h.getIndexAngle(0)-.5*Kt,m=u,f,g=360/this.countVisibleElements();for(f=0;f<i;++f)m+=this._computeAngle(f,o,g);for(f=i;f<i+n;f++){let x=e[f],y=m,C=m+this._computeAngle(f,o,g),S=a.getDataVisibility(f)?h.getDistanceFromCenterForValue(this.getParsed(f).r):0;m=C,r&&(c.animateScale&&(S=0),c.animateRotate&&(y=C=u));let w={x:d,y:p,innerRadius:0,outerRadius:S,startAngle:y,endAngle:C,options:this.resolveDataElementOptions(f,x.active?"active":o)};this.updateElement(x,f,w,o)}}countVisibleElements(){let e=this._cachedMeta,i=0;return e.data.forEach((n,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&i++}),i}_computeAngle(e,i,n){return this.chart.getDataVisibility(e)?fn(this.resolveDataElementOptions(e,i).angle||n):0}}return s})(),QI=(()=>{class s extends F4{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return s})(),ZI=(()=>{class s extends $o{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let i=this._cachedMeta.vScale,n=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(n[i.axis])}}parseObjectData(e,i,n,o){return s4.bind(this)(e,i,n,o)}update(e){let i=this._cachedMeta,n=i.dataset,o=i.data||[],r=i.iScale.getLabels();if(n.points=o,e!=="resize"){let a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:r.length===o.length,options:a};this.updateElement(n,void 0,l,e)}this.updateElements(o,0,o.length,e)}updateElements(e,i,n,o){let r=this._cachedMeta.rScale,a=o==="reset";for(let l=i;l<i+n;l++){let c=e[l],h=this.resolveDataElementOptions(l,c.active?"active":o),d=r.getPointPositionForValue(l,this.getParsed(l).r),p=a?r.xCenter:d.x,u=a?r.yCenter:d.y,m={x:p,y:u,angle:d.angle,skip:isNaN(p)||isNaN(u),options:h};this.updateElement(c,l,m,o)}}}return s})(),KI=(()=>{class s extends $o{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:o,yScale:r}=i,a=this.getParsed(e),l=o.getLabelForValue(a.x),c=r.getLabelForValue(a.y);return{label:n[e]||"",value:"("+l+", "+c+")"}}update(e){let i=this._cachedMeta,{data:n=[]}=i,o=this.chart._animationsDisabled,{start:r,count:a}=X0(i,n,o);if(this._drawStart=r,this._drawCount=a,$0(i)&&(r=0,a=n.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=i;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=n;let h=this.resolveDatasetElementOptions(e);h.segment=this.options.segment,this.updateElement(l,void 0,{animated:!o,options:h},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(n,r,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,n,o){let r=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:h}=this._cachedMeta,d=this.resolveDataElementOptions(i,o),p=this.getSharedOptions(d),u=this.includeOptions(o,p),m=a.axis,f=l.axis,{spanGaps:g,segment:x}=this.options,y=aa(g)?g:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||r||o==="none",S=i>0&&this.getParsed(i-1);for(let w=i;w<i+n;++w){let I=e[w],D=this.getParsed(w),E=C?I:{},F=Lt(D[f]),Q=E[m]=a.getPixelForValue(D[m],w),st=E[f]=r||F?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,D,c):D[f],w);E.skip=isNaN(Q)||isNaN(st)||F,E.stop=w>0&&Math.abs(D[m]-S[m])>y,x&&(E.parsed=D,E.raw=h.data[w]),u&&(E.options=p||this.resolveDataElementOptions(w,I.active?"active":o)),C||this.updateElement(I,w,E,o),S=D}this.updateSharedOptions(p,o,d)}getMaxOverflow(){let e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let l=0;for(let c=i.length-1;c>=0;--c)l=Math.max(l,i[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let n=e.dataset,o=n.options&&n.options.borderWidth||0;if(!i.length)return o;let r=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(o,r,a)/2}}return s})(),JI=Object.freeze({__proto__:null,BarController:qI,BubbleController:YI,DoughnutController:F4,LineController:$I,PieController:QI,PolarAreaController:jy,RadarController:ZI,ScatterController:KI});function ca(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var w4=class s{static override(t){Object.assign(s.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ca()}parse(){return ca()}format(){return ca()}add(){return ca()}diff(){return ca()}startOf(){return ca()}endOf(){return ca()}},tz={_date:w4};function ez(s,t,e,i){let{controller:n,data:o,_sorted:r}=s,a=n._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&r&&o.length){let l=a._reversePixels?v7:ps;if(i){if(n._sharedOptions){let c=o[0],h=typeof c.getRange=="function"&&c.getRange(t);if(h){let d=l(o,t,e-h),p=l(o,t,e+h);return{lo:d.lo,hi:p.hi}}}}else return l(o,t,e)}return{lo:0,hi:o.length-1}}function $h(s,t,e,i,n){let o=s.getSortedVisibleDatasetMetas(),r=e[t];for(let a=0,l=o.length;a<l;++a){let{index:c,data:h}=o[a],{lo:d,hi:p}=ez(o[a],t,r,n);for(let u=d;u<=p;++u){let m=h[u];m.skip||i(m,c,u)}}}function iz(s){let t=s.indexOf("x")!==-1,e=s.indexOf("y")!==-1;return function(i,n){let o=t?Math.abs(i.x-n.x):0,r=e?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function m4(s,t,e,i,n){let o=[];return!n&&!s.isPointInArea(t)||$h(s,e,t,function(a,l,c){!n&&!us(a,s.chartArea,0)||a.inRange(t.x,t.y,i)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function nz(s,t,e,i){let n=[];function o(r,a,l){let{startAngle:c,endAngle:h}=r.getProps(["startAngle","endAngle"],i),{angle:d}=U0(r,{x:t.x,y:t.y});Pl(d,c,h)&&n.push({element:r,datasetIndex:a,index:l})}return $h(s,e,t,o),n}function sz(s,t,e,i,n,o){let r=[],a=iz(e),l=Number.POSITIVE_INFINITY;function c(h,d,p){let u=h.inRange(t.x,t.y,n);if(i&&!u)return;let m=h.getCenterPoint(n);if(!(!!o||s.isPointInArea(m))&&!u)return;let g=a(t,m);g<l?(r=[{element:h,datasetIndex:d,index:p}],l=g):g===l&&r.push({element:h,datasetIndex:d,index:p})}return $h(s,e,t,c),r}function f4(s,t,e,i,n,o){return!o&&!s.isPointInArea(t)?[]:e==="r"&&!i?nz(s,t,e,n):sz(s,t,e,i,n,o)}function $7(s,t,e,i,n){let o=[],r=e==="x"?"inXRange":"inYRange",a=!1;return $h(s,e,t,(l,c,h)=>{l[r](t[e],n)&&(o.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(t.x,t.y,n))}),i&&!a?[]:o}var oz={evaluateInteractionItems:$h,modes:{index(s,t,e,i){let n=Yo(t,s),o=e.axis||"x",r=e.includeInvisible||!1,a=e.intersect?m4(s,n,o,i,r):f4(s,n,o,!1,i,r),l=[];return a.length?(s.getSortedVisibleDatasetMetas().forEach(c=>{let h=a[0].index,d=c.data[h];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:h})}),l):[]},dataset(s,t,e,i){let n=Yo(t,s),o=e.axis||"xy",r=e.includeInvisible||!1,a=e.intersect?m4(s,n,o,i,r):f4(s,n,o,!1,i,r);if(a.length>0){let l=a[0].datasetIndex,c=s.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(s,t,e,i){let n=Yo(t,s),o=e.axis||"xy",r=e.includeInvisible||!1;return m4(s,n,o,i,r)},nearest(s,t,e,i){let n=Yo(t,s),o=e.axis||"xy",r=e.includeInvisible||!1;return f4(s,n,o,e.intersect,i,r)},x(s,t,e,i){let n=Yo(t,s);return $7(s,n,"x",e.intersect,i)},y(s,t,e,i){let n=Yo(t,s);return $7(s,n,"y",e.intersect,i)}}},Uy=["left","top","right","bottom"];function Nh(s,t){return s.filter(e=>e.pos===t)}function Q7(s,t){return s.filter(e=>Uy.indexOf(e.pos)===-1&&e.box.axis===t)}function Fh(s,t){return s.sort((e,i)=>{let n=t?i:e,o=t?e:i;return n.weight===o.weight?n.index-o.index:n.weight-o.weight})}function rz(s){let t=[],e,i,n,o,r,a;for(e=0,i=(s||[]).length;e<i;++e)n=s[e],{position:o,options:{stack:r,stackWeight:a=1}}=n,t.push({index:e,box:n,pos:o,horizontal:n.isHorizontal(),weight:n.weight,stack:r&&o+r,stackWeight:a});return t}function az(s){let t={};for(let e of s){let{stack:i,pos:n,stackWeight:o}=e;if(!i||!Uy.includes(n))continue;let r=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return t}function lz(s,t){let e=az(s),{vBoxMaxWidth:i,hBoxMaxHeight:n}=t,o,r,a;for(o=0,r=s.length;o<r;++o){a=s[o];let{fullSize:l}=a.box,c=e[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*i:l&&t.availableWidth,a.height=n):(a.width=i,a.height=h?h*n:l&&t.availableHeight)}return e}function cz(s){let t=rz(s),e=Fh(t.filter(c=>c.box.fullSize),!0),i=Fh(Nh(t,"left"),!0),n=Fh(Nh(t,"right")),o=Fh(Nh(t,"top"),!0),r=Fh(Nh(t,"bottom")),a=Q7(t,"x"),l=Q7(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:n.concat(l).concat(r).concat(a),chartArea:Nh(t,"chartArea"),vertical:i.concat(n).concat(l),horizontal:o.concat(r).concat(a)}}function Z7(s,t,e,i){return Math.max(s[e],t[e])+Math.max(s[i],t[i])}function Gy(s,t){s.top=Math.max(s.top,t.top),s.left=Math.max(s.left,t.left),s.bottom=Math.max(s.bottom,t.bottom),s.right=Math.max(s.right,t.right)}function hz(s,t,e,i){let{pos:n,box:o}=e,r=s.maxPadding;if(!St(n)){e.size&&(s[n]-=e.size);let d=i[e.stack]||{size:0,count:1};d.size=Math.max(d.size,e.horizontal?o.height:o.width),e.size=d.size/d.count,s[n]+=e.size}o.getPadding&&Gy(r,o.getPadding());let a=Math.max(0,t.outerWidth-Z7(r,s,"left","right")),l=Math.max(0,t.outerHeight-Z7(r,s,"top","bottom")),c=a!==s.w,h=l!==s.h;return s.w=a,s.h=l,e.horizontal?{same:c,other:h}:{same:h,other:c}}function dz(s){let t=s.maxPadding;function e(i){let n=Math.max(t[i]-s[i],0);return s[i]+=n,n}s.y+=e("top"),s.x+=e("left"),e("right"),e("bottom")}function pz(s,t){let e=t.maxPadding;function i(n){let o={left:0,top:0,right:0,bottom:0};return n.forEach(r=>{o[r]=Math.max(t[r],e[r])}),o}return i(s?["left","right"]:["top","bottom"])}function Gh(s,t,e,i){let n=[],o,r,a,l,c,h;for(o=0,r=s.length,c=0;o<r;++o){a=s[o],l=a.box,l.update(a.width||t.w,a.height||t.h,pz(a.horizontal,t));let{same:d,other:p}=hz(t,e,a,i);c|=d&&n.length,h=h||p,l.fullSize||n.push(a)}return c&&Gh(n,t,e,i)||h}function pp(s,t,e,i,n){s.top=e,s.left=t,s.right=t+i,s.bottom=e+n,s.width=i,s.height=n}function K7(s,t,e,i){let n=e.padding,{x:o,y:r}=t;for(let a of s){let l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){let d=t.w*h,p=c.size||l.height;kl(c.start)&&(r=c.start),l.fullSize?pp(l,n.left,r,e.outerWidth-n.right-n.left,p):pp(l,t.left+c.placed,r,d,p),c.start=r,c.placed+=d,r=l.bottom}else{let d=t.h*h,p=c.size||l.width;kl(c.start)&&(o=c.start),l.fullSize?pp(l,o,n.top,p,e.outerHeight-n.bottom-n.top):pp(l,o,t.top+c.placed,p,d),c.start=o,c.placed+=d,o=l.right}}t.x=o,t.y=r}var ei={addBox(s,t){s.boxes||(s.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},s.boxes.push(t)},removeBox(s,t){let e=s.boxes?s.boxes.indexOf(t):-1;e!==-1&&s.boxes.splice(e,1)},configure(s,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(s,t,e,i){if(!s)return;let n=Xe(s.options.layout.padding),o=Math.max(t-n.width,0),r=Math.max(e-n.height,0),a=cz(s.boxes),l=a.vertical,c=a.horizontal;Nt(s.boxes,f=>{typeof f.beforeLayout=="function"&&f.beforeLayout()});let h=l.reduce((f,g)=>g.box.options&&g.box.options.display===!1?f:f+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:e,padding:n,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/h,hBoxMaxHeight:r/2}),p=Object.assign({},n);Gy(p,Xe(i));let u=Object.assign({maxPadding:p,w:o,h:r,x:n.left,y:n.top},n),m=lz(l.concat(c),d);Gh(a.fullSize,u,d,m),Gh(l,u,d,m),Gh(c,u,d,m)&&Gh(l,u,d,m),dz(u),K7(a.leftAndTop,u,d,m),u.x+=u.w,u.y+=u.h,K7(a.rightAndBottom,u,d,m),s.chartArea={left:u.left,top:u.top,right:u.left+u.w,bottom:u.top+u.h,height:u.h,width:u.w},Nt(a.chartArea,f=>{let g=f.box;Object.assign(g,s.chartArea),g.update(u.w,u.h,{left:0,top:0,right:0,bottom:0})})}},wp=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,n){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,n?Math.floor(e/n):i)}}isAttached(t){return!0}updateConfig(t){}},C4=class extends wp{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},yp="$chartjs",uz={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},J7=s=>s===null||s==="";function mz(s,t){let e=s.style,i=s.getAttribute("height"),n=s.getAttribute("width");if(s[yp]={initial:{height:i,width:n,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",J7(n)){let o=r4(s,"width");o!==void 0&&(s.width=o)}if(J7(i))if(s.style.height==="")s.height=s.width/(t||2);else{let o=r4(s,"height");o!==void 0&&(s.height=o)}return s}var Wy=L7?{passive:!0}:!1;function fz(s,t,e){s&&s.addEventListener(t,e,Wy)}function gz(s,t,e){s&&s.canvas&&s.canvas.removeEventListener(t,e,Wy)}function vz(s,t){let e=uz[s.type]||s.type,{x:i,y:n}=Yo(s,t);return{type:e,chart:t,native:s,x:i!==void 0?i:null,y:n!==void 0?n:null}}function Cp(s,t){for(let e of s)if(e===t||e.contains(t))return!0}function xz(s,t,e){let i=s.canvas,n=new MutationObserver(o=>{let r=!1;for(let a of o)r=r||Cp(a.addedNodes,i),r=r&&!Cp(a.removedNodes,i);r&&e()});return n.observe(document,{childList:!0,subtree:!0}),n}function yz(s,t,e){let i=s.canvas,n=new MutationObserver(o=>{let r=!1;for(let a of o)r=r||Cp(a.removedNodes,i),r=r&&!Cp(a.addedNodes,i);r&&e()});return n.observe(document,{childList:!0,subtree:!0}),n}var qh=new Map,ty=0;function qy(){let s=window.devicePixelRatio;s!==ty&&(ty=s,qh.forEach((t,e)=>{e.currentDevicePixelRatio!==s&&t()}))}function bz(s,t){qh.size||window.addEventListener("resize",qy),qh.set(s,t)}function _z(s){qh.delete(s),qh.size||window.removeEventListener("resize",qy)}function wz(s,t,e){let i=s.canvas,n=i&&hp(i);if(!n)return;let o=Y0((a,l)=>{let c=n.clientWidth;e(a,l),c<n.clientWidth&&e()},window),r=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||o(c,h)});return r.observe(n),bz(s,o),r}function g4(s,t,e){e&&e.disconnect(),t==="resize"&&_z(s)}function Cz(s,t,e){let i=s.canvas,n=Y0(o=>{s.ctx!==null&&e(vz(o,s))},s);return fz(i,t,n),n}var S4=class extends wp{acquireContext(t,e){let i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(mz(t,e),i):null}releaseContext(t){let e=t.canvas;if(!e[yp])return!1;let i=e[yp].initial;["height","width"].forEach(o=>{let r=i[o];Lt(r)?e.removeAttribute(o):e.setAttribute(o,r)});let n=i.style||{};return Object.keys(n).forEach(o=>{e.style[o]=n[o]}),e.width=e.width,delete e[yp],!0}addEventListener(t,e,i){this.removeEventListener(t,e);let n=t.$proxies||(t.$proxies={}),r={attach:xz,detach:yz,resize:wz}[e]||Cz;n[e]=r(t,e,i)}removeEventListener(t,e){let i=t.$proxies||(t.$proxies={}),n=i[e];if(!n)return;({attach:g4,detach:g4,resize:g4}[e]||gz)(t,e,n),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,n){return P7(t,e,i,n)}isAttached(t){let e=t&&hp(t);return!!(e&&e.isConnected)}};function Sz(s){return!cp()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?C4:S4}var Fn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return aa(this.x)&&aa(this.y)}getProps(t,e){let i=this.$animations;if(!e||!i)return this;let n={};return t.forEach(o=>{n[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),n}};function Mz(s,t){let e=s.options.ticks,i=Az(s),n=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?Iz(t):[],r=o.length,a=o[0],l=o[r-1],c=[];if(r>n)return zz(t,c,o,r/n),c;let h=Tz(o,t,n);if(r>0){let d,p,u=r>1?Math.round((l-a)/(r-1)):null;for(up(t,c,h,Lt(u)?0:a-u,a),d=0,p=r-1;d<p;d++)up(t,c,h,o[d],o[d+1]);return up(t,c,h,l,Lt(u)?t.length:l+u),c}return up(t,c,h),c}function Az(s){let t=s.options.offset,e=s._tickSize(),i=s._length/e+(t?0:1),n=s._maxLength/e;return Math.floor(Math.min(i,n))}function Tz(s,t,e){let i=Ez(s),n=t.length/e;if(!i)return Math.max(n,1);let o=m7(i);for(let r=0,a=o.length-1;r<a;r++){let l=o[r];if(l>n)return l}return Math.max(n,1)}function Iz(s){let t=[],e,i;for(e=0,i=s.length;e<i;e++)s[e].major&&t.push(e);return t}function zz(s,t,e,i){let n=0,o=e[0],r;for(i=Math.ceil(i),r=0;r<s.length;r++)r===o&&(t.push(s[r]),n++,o=e[n*i])}function up(s,t,e,i,n){let o=gt(i,0),r=Math.min(gt(n,s.length),s.length),a=0,l,c,h;for(e=Math.ceil(e),n&&(l=n-i,e=l/Math.floor(l/e)),h=o;h<0;)a++,h=Math.round(o+a*e);for(c=Math.max(o,0);c<r;c++)c===h&&(t.push(s[c]),a++,h=Math.round(o+a*e))}function Ez(s){let t=s.length,e,i;if(t<2)return!1;for(i=s[0],e=1;e<t;++e)if(s[e]-s[e-1]!==i)return!1;return i}var kz=s=>s==="left"?"right":s==="right"?"left":s,ey=(s,t,e)=>t==="top"||t==="left"?s[t]+e:s[t]-e,iy=(s,t)=>Math.min(t||s,s);function ny(s,t){let e=[],i=s.length/t,n=s.length,o=0;for(;o<n;o+=i)e.push(s[Math.floor(o)]);return e}function Dz(s,t,e){let i=s.ticks.length,n=Math.min(t,i-1),o=s._startPixel,r=s._endPixel,a=1e-6,l=s.getPixelForTick(n),c;if(!(e&&(i===1?c=Math.max(l-o,r-l):t===0?c=(s.getPixelForTick(1)-l)/2:c=(l-s.getPixelForTick(n-1))/2,l+=n<t?c:-c,l<o-a||l>r+a)))return l}function Pz(s,t){Nt(s,e=>{let i=e.gc,n=i.length/2,o;if(n>t){for(o=0;o<n;++o)delete e.data[i[o]];i.splice(0,n)}})}function jh(s){return s.drawTicks?s.tickLength:0}function sy(s,t){if(!s.display)return 0;let e=Re(s.font,t),i=Xe(s.padding);return(Zt(s.text)?s.text.length:1)*e.lineHeight+i.height}function Lz(s,t){return Qs(s,{scale:t,type:"scale"})}function Rz(s,t,e){return Qs(s,{tick:e,index:t,type:"tick"})}function Oz(s,t,e){let i=sp(s);return(e&&t!=="right"||!e&&t==="right")&&(i=kz(i)),i}function Vz(s,t,e,i){let{top:n,left:o,bottom:r,right:a,chart:l}=s,{chartArea:c,scales:h}=l,d=0,p,u,m,f=r-n,g=a-o;if(s.isHorizontal()){if(u=Ye(i,o,a),St(e)){let x=Object.keys(e)[0],y=e[x];m=h[x].getPixelForValue(y)+f-t}else e==="center"?m=(c.bottom+c.top)/2+f-t:m=ey(s,e,t);p=a-o}else{if(St(e)){let x=Object.keys(e)[0],y=e[x];u=h[x].getPixelForValue(y)-g+t}else e==="center"?u=(c.left+c.right)/2-g+t:u=ey(s,e,t);m=Ye(i,r,n),d=e==="left"?-_e:_e}return{titleX:u,titleY:m,maxWidth:p,rotation:d}}var da=class s extends Fn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:n}=this;return t=Li(t,Number.POSITIVE_INFINITY),e=Li(e,Number.NEGATIVE_INFINITY),i=Li(i,Number.POSITIVE_INFINITY),n=Li(n,Number.NEGATIVE_INFINITY),{min:Li(t,i),max:Li(e,n),minDefined:de(t),maxDefined:de(e)}}getMinMax(t){let{min:e,max:i,minDefined:n,maxDefined:o}=this.getUserBounds(),r;if(n&&o)return{min:e,max:i};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)r=a[l].controller.getMinMax(this,t),n||(e=Math.min(e,r.min)),o||(i=Math.max(i,r.max));return e=o&&e>i?i:e,i=n&&e>i?e:i,{min:Li(e,Li(i,e)),max:Li(i,Li(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Xt(this.options.beforeUpdate,[this])}update(t,e,i){let{beginAtZero:n,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=T7(this,o,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?ny(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=Mz(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Xt(this.options.afterUpdate,[this])}beforeSetDimensions(){Xt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Xt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Xt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Xt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,i,n,o;for(i=0,n=t.length;i<n;i++)o=t[i],o.label=Xt(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){Xt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Xt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,i=iy(this.ticks.length,t.ticks.maxTicksLimit),n=e.minRotation||0,o=e.maxRotation,r=n,a,l,c;if(!this._isVisible()||!e.display||n>=o||i<=1||!this.isHorizontal()){this.labelRotation=n;return}let h=this._getLabelSizes(),d=h.widest.width,p=h.highest.height,u=je(this.chart.width-d,0,this.maxWidth);a=t.offset?this.maxWidth/i:u/(i-1),d+6>a&&(a=u/(i-(t.offset?.5:1)),l=this.maxHeight-jh(t.grid)-e.padding-sy(t.title,this.chart.options.font),c=Math.sqrt(d*d+p*p),r=ip(Math.min(Math.asin(je((h.highest.height+6)/a,-1,1)),Math.asin(je(l/c,-1,1))-Math.asin(je(p/c,-1,1)))),r=Math.max(n,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){Xt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Xt(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:i,title:n,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){let l=sy(n,e.options.font);if(a?(t.width=this.maxWidth,t.height=jh(o)+l):(t.height=this.maxHeight,t.width=jh(o)+l),i.display&&this.ticks.length){let{first:c,last:h,widest:d,highest:p}=this._getLabelSizes(),u=i.padding*2,m=fn(this.labelRotation),f=Math.cos(m),g=Math.sin(m);if(a){let x=i.mirror?0:g*d.width+f*p.height;t.height=Math.min(this.maxHeight,t.height+x+u)}else{let x=i.mirror?0:f*d.width+g*p.height;t.width=Math.min(this.maxWidth,t.width+x+u)}this._calculatePadding(c,h,g,f)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,n){let{ticks:{align:o,padding:r},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let h=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),p=0,u=0;l?c?(p=n*t.width,u=i*e.height):(p=i*t.height,u=n*e.width):o==="start"?u=e.width:o==="end"?p=t.width:o!=="inner"&&(p=t.width/2,u=e.width/2),this.paddingLeft=Math.max((p-h+r)*this.width/(this.width-h),0),this.paddingRight=Math.max((u-d+r)*this.width/(this.width-d),0)}else{let h=e.height/2,d=t.height/2;o==="start"?(h=0,d=t.height):o==="end"&&(h=e.height,d=0),this.paddingTop=h+r,this.paddingBottom=d+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Xt(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Lt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,i=this.ticks;e<i.length&&(i=ny(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){let{ctx:n,_longestTextCache:o}=this,r=[],a=[],l=Math.floor(e/iy(e,i)),c=0,h=0,d,p,u,m,f,g,x,y,C,S,w;for(d=0;d<e;d+=l){if(m=t[d].label,f=this._resolveTickFontOptions(d),n.font=g=f.string,x=o[g]=o[g]||{data:{},gc:[]},y=f.lineHeight,C=S=0,!Lt(m)&&!Zt(m))C=Lh(n,x.data,x.gc,C,m),S=y;else if(Zt(m))for(p=0,u=m.length;p<u;++p)w=m[p],!Lt(w)&&!Zt(w)&&(C=Lh(n,x.data,x.gc,C,w),S+=y);r.push(C),a.push(S),c=Math.max(C,c),h=Math.max(S,h)}Pz(o,e);let I=r.indexOf(c),D=a.indexOf(h),E=F=>({width:r[F]||0,height:a[F]||0});return{first:E(0),last:E(e-1),widest:E(I),highest:E(D),widths:r,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return g7(this._alignToPixels?Go(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let i=e[t];return i.$context||(i.$context=Rz(this.getContext(),t,i))}return this.$context||(this.$context=Lz(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=fn(this.labelRotation),i=Math.abs(Math.cos(e)),n=Math.abs(Math.sin(e)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,a=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return this.isHorizontal()?l*i>a*n?a/i:l/n:l*n<a*i?l/i:a/n}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,i=this.chart,n=this.options,{grid:o,position:r,border:a}=n,l=o.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),p=jh(o),u=[],m=a.setContext(this.getContext()),f=m.display?m.width:0,g=f/2,x=function(O){return Go(i,O,f)},y,C,S,w,I,D,E,F,Q,st,ht,Ut;if(r==="top")y=x(this.bottom),D=this.bottom-p,F=y-g,st=x(t.top)+g,Ut=t.bottom;else if(r==="bottom")y=x(this.top),st=t.top,Ut=x(t.bottom)-g,D=y+g,F=this.top+p;else if(r==="left")y=x(this.right),I=this.right-p,E=y-g,Q=x(t.left)+g,ht=t.right;else if(r==="right")y=x(this.left),Q=t.left,ht=x(t.right)-g,I=y+g,E=this.left+p;else if(e==="x"){if(r==="center")y=x((t.top+t.bottom)/2+.5);else if(St(r)){let O=Object.keys(r)[0],j=r[O];y=x(this.chart.scales[O].getPixelForValue(j))}st=t.top,Ut=t.bottom,D=y+g,F=D+p}else if(e==="y"){if(r==="center")y=x((t.left+t.right)/2);else if(St(r)){let O=Object.keys(r)[0],j=r[O];y=x(this.chart.scales[O].getPixelForValue(j))}I=y-g,E=I-p,Q=t.left,ht=t.right}let Se=gt(n.ticks.maxTicksLimit,d),zt=Math.max(1,Math.ceil(d/Se));for(C=0;C<d;C+=zt){let O=this.getContext(C),j=o.setContext(O),ot=a.setContext(O),ut=j.lineWidth,ie=j.color,vi=ot.dash||[],Pe=ot.dashOffset,Ti=j.tickWidth,Ht=j.tickColor,Vo=j.tickBorderDash||[],Fs=j.tickBorderDashOffset;S=Dz(this,C,l),S!==void 0&&(w=Go(i,S,ut),c?I=E=Q=ht=w:D=F=st=Ut=w,u.push({tx1:I,ty1:D,tx2:E,ty2:F,x1:Q,y1:st,x2:ht,y2:Ut,width:ut,color:ie,borderDash:vi,borderDashOffset:Pe,tickWidth:Ti,tickColor:Ht,tickBorderDash:Vo,tickBorderDashOffset:Fs}))}return this._ticksLength=d,this._borderValue=y,u}_computeLabelItems(t){let e=this.axis,i=this.options,{position:n,ticks:o}=i,r=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:d}=o,p=jh(i.grid),u=p+h,m=d?-h:u,f=-fn(this.labelRotation),g=[],x,y,C,S,w,I,D,E,F,Q,st,ht,Ut="middle";if(n==="top")I=this.bottom-m,D=this._getXAxisLabelAlignment();else if(n==="bottom")I=this.top+m,D=this._getXAxisLabelAlignment();else if(n==="left"){let zt=this._getYAxisLabelAlignment(p);D=zt.textAlign,w=zt.x}else if(n==="right"){let zt=this._getYAxisLabelAlignment(p);D=zt.textAlign,w=zt.x}else if(e==="x"){if(n==="center")I=(t.top+t.bottom)/2+u;else if(St(n)){let zt=Object.keys(n)[0],O=n[zt];I=this.chart.scales[zt].getPixelForValue(O)+u}D=this._getXAxisLabelAlignment()}else if(e==="y"){if(n==="center")w=(t.left+t.right)/2-u;else if(St(n)){let zt=Object.keys(n)[0],O=n[zt];w=this.chart.scales[zt].getPixelForValue(O)}D=this._getYAxisLabelAlignment(p).textAlign}e==="y"&&(l==="start"?Ut="top":l==="end"&&(Ut="bottom"));let Se=this._getLabelSizes();for(x=0,y=a.length;x<y;++x){C=a[x],S=C.label;let zt=o.setContext(this.getContext(x));E=this.getPixelForTick(x)+o.labelOffset,F=this._resolveTickFontOptions(x),Q=F.lineHeight,st=Zt(S)?S.length:1;let O=st/2,j=zt.color,ot=zt.textStrokeColor,ut=zt.textStrokeWidth,ie=D;r?(w=E,D==="inner"&&(x===y-1?ie=this.options.reverse?"left":"right":x===0?ie=this.options.reverse?"right":"left":ie="center"),n==="top"?c==="near"||f!==0?ht=-st*Q+Q/2:c==="center"?ht=-Se.highest.height/2-O*Q+Q:ht=-Se.highest.height+Q/2:c==="near"||f!==0?ht=Q/2:c==="center"?ht=Se.highest.height/2-O*Q:ht=Se.highest.height-st*Q,d&&(ht*=-1),f!==0&&!zt.showLabelBackdrop&&(w+=Q/2*Math.sin(f))):(I=E,ht=(1-st)*Q/2);let vi;if(zt.showLabelBackdrop){let Pe=Xe(zt.backdropPadding),Ti=Se.heights[x],Ht=Se.widths[x],Vo=ht-Pe.top,Fs=0-Pe.left;switch(Ut){case"middle":Vo-=Ti/2;break;case"bottom":Vo-=Ti;break}switch(D){case"center":Fs-=Ht/2;break;case"right":Fs-=Ht;break;case"inner":x===y-1?Fs-=Ht:x>0&&(Fs-=Ht/2);break}vi={left:Fs,top:Vo,width:Ht+Pe.width,height:Ti+Pe.height,color:zt.backdropColor}}g.push({label:S,font:F,textOffset:ht,options:{rotation:f,color:j,strokeColor:ot,strokeWidth:ut,textAlign:ie,textBaseline:Ut,translation:[w,I],backdrop:vi}})}return g}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-fn(this.labelRotation))return t==="top"?"left":"right";let n="center";return e.align==="start"?n="left":e.align==="end"?n="right":e.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:i,mirror:n,padding:o}}=this.options,r=this._getLabelSizes(),a=t+o,l=r.widest.width,c,h;return e==="left"?n?(h=this.right+o,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h=this.left)):e==="right"?n?(h=this.left+o,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:i,top:n,width:o,height:r}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,n,o,r),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let n=this.ticks.findIndex(o=>o.value===t);return n>=0?e.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){let e=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),o,r,a=(l,c,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(e.display)for(o=0,r=n.length;o<r;++o){let l=n[o];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:i,grid:n}}=this,o=i.setContext(this.getContext()),r=i.display?o.width:0;if(!r)return;let a=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,h,d,p;this.isHorizontal()?(c=Go(t,this.left,r)-r/2,h=Go(t,this.right,a)+a/2,d=p=l):(d=Go(t,this.top,r)-r/2,p=Go(t,this.bottom,a)+a/2,c=h=l),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(c,d),e.lineTo(h,p),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let i=this.ctx,n=this._computeLabelArea();n&&Vh(i,n);let o=this.getLabelItems(t);for(let r of o){let a=r.options,l=r.font,c=r.label,h=r.textOffset;Wo(i,c,0,h,l,a)}n&&Bh(i)}drawTitle(){let{ctx:t,options:{position:e,title:i,reverse:n}}=this;if(!i.display)return;let o=Re(i.font),r=Xe(i.padding),a=i.align,l=o.lineHeight/2;e==="bottom"||e==="center"||St(e)?(l+=r.bottom,Zt(i.text)&&(l+=o.lineHeight*(i.text.length-1))):l+=r.top;let{titleX:c,titleY:h,maxWidth:d,rotation:p}=Vz(this,l,e,a);Wo(t,i.text,0,0,o,{color:i.color,maxWidth:d,rotation:p,textAlign:Oz(a,e,n),textBaseline:"middle",translation:[c,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,i=gt(t.grid&&t.grid.z,-1),n=gt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==s.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[],o,r;for(o=0,r=e.length;o<r;++o){let a=e[o];a[i]===this.id&&(!t||a.type===t)&&n.push(a)}return n}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return Re(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},Bl=class{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),i;Nz(e)&&(i=this.register(e));let n=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in n||(n[o]=t,Bz(t,r,i),this.override&&pe.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){let e=this.items,i=t.id,n=this.scope;i in e&&delete e[i],n&&i in pe[n]&&(delete pe[n][i],this.override&&delete Uo[i])}};function Bz(s,t,e){let i=Il(Object.create(null),[e?pe.get(e):{},pe.get(t),s.defaults]);pe.set(t,i),s.defaultRoutes&&Hz(t,s.defaultRoutes),s.descriptors&&pe.describe(t,s.descriptors)}function Hz(s,t){Object.keys(t).forEach(e=>{let i=e.split("."),n=i.pop(),o=[s].concat(i).join("."),r=t[e].split("."),a=r.pop(),l=r.join(".");pe.route(o,n,l,a)})}function Nz(s){return"id"in s&&"defaults"in s}var M4=class{constructor(){this.controllers=new Bl($o,"datasets",!0),this.elements=new Bl(Fn,"elements"),this.plugins=new Bl(Object,"plugins"),this.scales=new Bl(da,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(n=>{let o=i||this._getRegistryForType(n);i||o.isForType(n)||o===this.plugins&&n.id?this._exec(t,o,n):Nt(n,r=>{let a=i||this._getRegistryForType(r);this._exec(t,a,r)})})}_exec(t,e,i){let n=ep(t);Xt(i["before"+n],[],i),e[t](i),Xt(i["after"+n],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){let n=e.get(t);if(n===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return n}},vs=new M4,A4=class{constructor(){this._init=[]}notify(t,e,i,n){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let o=n?this._descriptors(t).filter(n):this._descriptors(t),r=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,e,i,n){n=n||{};for(let o of t){let r=o.plugin,a=r[i],l=[e,n,o.options];if(Xt(a,l,r)===!1&&n.cancelable)return!1}return!0}invalidate(){Lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let i=t&&t.config,n=gt(i.options&&i.options.plugins,{}),o=Fz(i);return n===!1&&!e?[]:Uz(t,o,n,e)}_notifyStateChanges(t){let e=this._oldCache||[],i=this._cache,n=(o,r)=>o.filter(a=>!r.some(l=>a.plugin.id===l.plugin.id));this._notify(n(e,i),t,"stop"),this._notify(n(i,e),t,"start")}};function Fz(s){let t={},e=[],i=Object.keys(vs.plugins.items);for(let o=0;o<i.length;o++)e.push(vs.getPlugin(i[o]));let n=s.plugins||[];for(let o=0;o<n.length;o++){let r=n[o];e.indexOf(r)===-1&&(e.push(r),t[r.id]=!0)}return{plugins:e,localIds:t}}function jz(s,t){return!t&&s===!1?null:s===!0?{}:s}function Uz(s,{plugins:t,localIds:e},i,n){let o=[],r=s.getContext();for(let a of t){let l=a.id,c=jz(i[l],n);c!==null&&o.push({plugin:a,options:Gz(s.config,{plugin:a,local:e[l]},c,r)})}return o}function Gz(s,{plugin:t,local:e},i,n){let o=s.pluginScopeKeys(t),r=s.getOptionScopes(i,o);return e&&t.defaults&&r.push(t.defaults),s.createResolver(r,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function T4(s,t){let e=pe.datasets[s]||{};return((t.datasets||{})[s]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Wz(s,t){let e=s;return s==="_index_"?e=t:s==="_value_"&&(e=t==="x"?"y":"x"),e}function qz(s,t){return s===t?"_index_":"_value_"}function oy(s){if(s==="x"||s==="y"||s==="r")return s}function Yz(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function I4(s,...t){if(oy(s))return s;for(let e of t){let i=e.axis||Yz(e.position)||s.length>1&&oy(s[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function ry(s,t,e){if(e[t+"AxisID"]===s)return{axis:t}}function Xz(s,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(i=>i.xAxisID===s||i.yAxisID===s);if(e.length)return ry(s,"x",e[0])||ry(s,"y",e[0])}return{}}function $z(s,t){let e=Uo[s.type]||{scales:{}},i=t.scales||{},n=T4(s.type,t),o=Object.create(null);return Object.keys(i).forEach(r=>{let a=i[r];if(!St(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);let l=I4(r,a,Xz(r,s),pe.scales[a.type]),c=qz(l,n),h=e.scales||{};o[r]=El(Object.create(null),[{axis:l},a,h[l],h[c]])}),s.data.datasets.forEach(r=>{let a=r.type||s.type,l=r.indexAxis||T4(a,t),h=(Uo[a]||{}).scales||{};Object.keys(h).forEach(d=>{let p=Wz(d,l),u=r[p+"AxisID"]||p;o[u]=o[u]||Object.create(null),El(o[u],[{axis:p},i[u],h[d]])})}),Object.keys(o).forEach(r=>{let a=o[r];El(a,[pe.scales[a.type],pe.scale])}),o}function Yy(s){let t=s.options||(s.options={});t.plugins=gt(t.plugins,{}),t.scales=$z(s,t)}function Xy(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function Qz(s){return s=s||{},s.data=Xy(s.data),Yy(s),s}var ay=new Map,$y=new Set;function mp(s,t){let e=ay.get(s);return e||(e=t(),ay.set(s,e),$y.add(e)),e}var Uh=(s,t,e)=>{let i=$s(t,e);i!==void 0&&s.add(i)},z4=class{constructor(t){this._config=Qz(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Xy(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),Yy(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return mp(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return mp(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return mp(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,i=this.type;return mp(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let i=this._scopeCache,n=i.get(t);return(!n||e)&&(n=new Map,i.set(t,n)),n}getOptionScopes(t,e,i){let{options:n,type:o}=this,r=this._cachedScopes(t,i),a=r.get(e);if(a)return a;let l=new Set;e.forEach(h=>{t&&(l.add(t),h.forEach(d=>Uh(l,t,d))),h.forEach(d=>Uh(l,n,d)),h.forEach(d=>Uh(l,Uo[o]||{},d)),h.forEach(d=>Uh(l,pe,d)),h.forEach(d=>Uh(l,op,d))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),$y.has(e)&&r.set(e,c),c}chartOptionScopes(){let{options:t,type:e}=this;return[t,Uo[e]||{},pe.datasets[e]||{},{type:e},pe,op]}resolveNamedOptions(t,e,i,n=[""]){let o={$shared:!0},{resolver:r,subPrefixes:a}=ly(this._resolverCache,t,n),l=r;if(Kz(r,e)){o.$shared=!1,i=Ys(i)?i():i;let c=this.createResolver(t,i,a);l=ra(r,i,c)}for(let c of e)o[c]=l[c];return o}createResolver(t,e,i=[""],n){let{resolver:o}=ly(this._resolverCache,t,i);return St(e)?ra(o,e,void 0,n):o}};function ly(s,t,e){let i=s.get(t);i||(i=new Map,s.set(t,i));let n=e.join(),o=i.get(n);return o||(o={resolver:lp(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(n,o)),o}var Zz=s=>St(s)&&Object.getOwnPropertyNames(s).some(t=>Ys(s[t]));function Kz(s,t){let{isScriptable:e,isIndexable:i}=e4(s);for(let n of t){let o=e(n),r=i(n),a=(r||o)&&s[n];if(o&&(Ys(a)||Zz(a))||r&&Zt(a))return!0}return!1}var Jz="4.4.3",tE=["top","bottom","left","right","chartArea"];function cy(s,t){return s==="top"||s==="bottom"||tE.indexOf(s)===-1&&t==="x"}function hy(s,t){return function(e,i){return e[s]===i[s]?e[t]-i[t]:e[s]-i[s]}}function dy(s){let t=s.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Xt(e&&e.onComplete,[s],t)}function eE(s){let t=s.chart,e=t.options.animation;Xt(e&&e.onProgress,[s],t)}function Qy(s){return cp()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}var bp={},py=s=>{let t=Qy(s);return Object.values(bp).filter(e=>e.canvas===t).pop()};function iE(s,t,e){let i=Object.keys(s);for(let n of i){let o=+n;if(o>=t){let r=s[n];delete s[n],(e>0||o>t)&&(s[o+e]=r)}}}function nE(s,t,e,i){return!e||s.type==="mouseout"?null:i?t:s}function fp(s,t,e){return s.options.clip?s[e]:t[e]}function sE(s,t){let{xScale:e,yScale:i}=s;return e&&i?{left:fp(e,t,"left"),right:fp(e,t,"right"),top:fp(i,t,"top"),bottom:fp(i,t,"bottom")}:t}var Tp=(()=>{class s{static defaults=pe;static instances=bp;static overrides=Uo;static registry=vs;static version=Jz;static getChart=py;static register(...e){vs.add(...e),uy()}static unregister(...e){vs.remove(...e),uy()}constructor(e,i){let n=this.config=new z4(i),o=Qy(e),r=py(o);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");let a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Sz(o)),this.platform.updateConfig(n);let l=this.platform.acquireContext(o,a.aspectRatio),c=l&&l.canvas,h=c&&c.height,d=c&&c.width;if(this.id=h7(),this.ctx=l,this.canvas=c,this.width=d,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new A4,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=_7(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],bp[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Zs.listen(this,"complete",dy),Zs.listen(this,"progress",eE),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:i},width:n,height:o,_aspectRatio:r}=this;return Lt(e)?i&&r?r:o?n/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return vs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():o4(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return K0(this.canvas,this.ctx),this}stop(){return Zs.stop(this),this}resize(e,i){Zs.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){let n=this.options,o=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,e,i,r),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,o4(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Xt(n.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};Nt(i,(n,o)=>{n.id=o})}buildOrUpdateScales(){let e=this.options,i=e.scales,n=this.scales,o=Object.keys(n).reduce((a,l)=>(a[l]=!1,a),{}),r=[];i&&(r=r.concat(Object.keys(i).map(a=>{let l=i[a],c=I4(a,l),h=c==="r",d=c==="x";return{options:l,dposition:h?"chartArea":d?"bottom":"left",dtype:h?"radialLinear":d?"category":"linear"}}))),Nt(r,a=>{let l=a.options,c=l.id,h=I4(c,l),d=gt(l.type,a.dtype);(l.position===void 0||cy(l.position,h)!==cy(a.dposition))&&(l.position=a.dposition),o[c]=!0;let p=null;if(c in n&&n[c].type===d)p=n[c];else{let u=vs.getScale(d);p=new u({id:c,type:d,ctx:this.ctx,chart:this}),n[p.id]=p}p.init(l,e)}),Nt(o,(a,l)=>{a||delete n[l]}),Nt(n,a=>{ei.configure(this,a,a.options),ei.addBox(this,a)})}_updateMetasets(){let e=this._metasets,i=this.data.datasets.length,n=e.length;if(e.sort((o,r)=>o.index-r.index),n>i){for(let o=i;o<n;++o)this._destroyDatasetMeta(o);e.splice(i,n-i)}this._sortedMetasets=e.slice(0).sort(hy("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((n,o)=>{i.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let e=[],i=this.data.datasets,n,o;for(this._removeUnreferencedMetasets(),n=0,o=i.length;n<o;n++){let r=i[n],a=this.getDatasetMeta(n),l=r.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=l,a.indexAxis=r.indexAxis||T4(l,this.options),a.order=r.order||0,a.index=n,a.label=""+r.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{let c=vs.getController(l),{datasetElementType:h,dataElementType:d}=pe.datasets[l];Object.assign(c,{dataElementType:vs.getElement(d),datasetElementType:h&&vs.getElement(h)}),a.controller=new c(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Nt(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let i=this.config;i.update();let n=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,d=this.data.datasets.length;h<d;h++){let{controller:p}=this.getDatasetMeta(h),u=!o&&r.indexOf(p)===-1;p.buildOrUpdateElements(u),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),o||Nt(r,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(hy("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Nt(this.scales,e=>{ei.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,i=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!H0(i,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(let{method:n,start:o,count:r}of i){let a=n==="_removeElements"?-r:r;iE(e,o,a)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let i=this.data.datasets.length,n=r=>new Set(e.filter(a=>a[0]===r).map((a,l)=>l+","+a.splice(1).join(","))),o=n(0);for(let r=1;r<i;r++)if(!H0(o,n(r)))return;return Array.from(o).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ei.update(this,this.width,this.height,e);let i=this.chartArea,n=i.width<=0||i.height<=0;this._layers=[],Nt(this.boxes,o=>{n&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,r)=>{o._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,n=this.data.datasets.length;i<n;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,n=this.data.datasets.length;i<n;++i)this._updateDataset(i,Ys(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){let n=this.getDatasetMeta(e),o={meta:n,index:e,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(n.controller._update(i),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Zs.has(this)?this.attached&&!Zs.running(this)&&Zs.start(this):(this.draw(),dy({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:n,height:o}=this._resizeBeforeDraw;this._resize(n,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let i=this._sortedMetasets,n=[],o,r;for(o=0,r=i.length;o<r;++o){let a=i[o];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let i=this.ctx,n=e._clip,o=!n.disabled,r=sE(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(o&&Vh(i,{left:n.left===!1?0:r.left-n.left,right:n.right===!1?this.width:r.right+n.right,top:n.top===!1?0:r.top-n.top,bottom:n.bottom===!1?this.height:r.bottom+n.bottom}),e.controller.draw(),o&&Bh(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return us(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,n,o){let r=oz.modes[i];return typeof r=="function"?r(this,e,n,o):[]}getDatasetMeta(e){let i=this.data.datasets[e],n=this._metasets,o=n.filter(r=>r&&r._dataset===i).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},n.push(o)),o}getContext(){return this.$context||(this.$context=Qs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let i=this.data.datasets[e];if(!i)return!1;let n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!i.hidden}setDatasetVisibility(e,i){let n=this.getDatasetMeta(e);n.hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,n){let o=n?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,o);kl(i)?(r.data[i].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(r,{visible:n}),this.update(l=>l.datasetIndex===e?o:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){let i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),Zs.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),K0(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete bp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,i=this.platform,n=(r,a)=>{i.addEventListener(this,r,a),e[r]=a},o=(r,a,l)=>{r.offsetX=a,r.offsetY=l,this._eventHandler(r)};Nt(this.options.events,r=>n(r,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,i=this.platform,n=(c,h)=>{i.addEventListener(this,c,h),e[c]=h},o=(c,h)=>{e[c]&&(i.removeEventListener(this,c,h),delete e[c])},r=(c,h)=>{this.canvas&&this.resize(c,h)},a,l=()=>{o("attach",l),this.attached=!0,this.resize(),n("resize",r),n("detach",a)};a=()=>{this.attached=!1,o("resize",r),this._stop(),this._resize(0,0),n("attach",l)},i.isAttached(this.canvas)?l():a()}unbindEvents(){Nt(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},Nt(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,n){let o=n?"set":"remove",r,a,l,c;for(i==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+o+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];let h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let i=this._active||[],n=e.map(({datasetIndex:r,index:a})=>{let l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[a],index:a}});!Rh(n,i)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,i))}notifyPlugins(e,i,n){return this._plugins.notify(this,e,i,n)}isPluginEnabled(e){return this._plugins._cache.filter(i=>i.plugin.id===e).length===1}_updateHoverStyles(e,i,n){let o=this.options.hover,r=(c,h)=>c.filter(d=>!h.some(p=>d.datasetIndex===p.datasetIndex&&d.index===p.index)),a=r(i,e),l=n?e:r(e,i);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(e,i){let n={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},o=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,o)===!1)return;let r=this._handleEvent(e,i,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,o),(r||n.changed)&&this.render(),this}_handleEvent(e,i,n){let{_active:o=[],options:r}=this,a=i,l=this._getActiveElements(e,o,n,a),c=u7(e),h=nE(e,this._lastEvent,n,c);n&&(this._lastEvent=null,Xt(r.onHover,[e,l,this],this),c&&Xt(r.onClick,[e,l,this],this));let d=!Rh(l,o);return(d||i)&&(this._active=l,this._updateHoverStyles(l,o,i)),this._lastEvent=h,d}_getActiveElements(e,i,n,o){if(e.type==="mouseout")return[];if(!n)return i;let r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,o)}}return s})();function uy(){return Nt(Tp.instances,s=>s._plugins.invalidate())}function oE(s,t,e){let{startAngle:i,pixelMargin:n,x:o,y:r,outerRadius:a,innerRadius:l}=t,c=n/a;s.beginPath(),s.arc(o,r,a,i-c,e+c),l>n?(c=n/l,s.arc(o,r,l,e+c,i-c,!0)):s.arc(o,r,n,e+_e,i-_e),s.closePath(),s.clip()}function rE(s){return ap(s,["outerStart","outerEnd","innerStart","innerEnd"])}function aE(s,t,e,i){let n=rE(s.options.borderRadius),o=(e-t)/2,r=Math.min(o,i*t/2),a=l=>{let c=(e-Math.min(o,l))*i/2;return je(l,0,Math.min(o,c))};return{outerStart:a(n.outerStart),outerEnd:a(n.outerEnd),innerStart:je(n.innerStart,0,r),innerEnd:je(n.innerEnd,0,r)}}function Vl(s,t,e,i){return{x:e+s*Math.cos(t),y:i+s*Math.sin(t)}}function Sp(s,t,e,i,n,o){let{x:r,y:a,startAngle:l,pixelMargin:c,innerRadius:h}=t,d=Math.max(t.outerRadius+i+e-c,0),p=h>0?h+i+e+c:0,u=0,m=n-l;if(i){let zt=h>0?h-i:0,O=d>0?d-i:0,j=(zt+O)/2,ot=j!==0?m*j/(j+i):m;u=(m-ot)/2}let f=Math.max(.001,m*d-e/Kt)/d,g=(m-f)/2,x=l+g+u,y=n-g-u,{outerStart:C,outerEnd:S,innerStart:w,innerEnd:I}=aE(t,p,d,y-x),D=d-C,E=d-S,F=x+C/D,Q=y-S/E,st=p+w,ht=p+I,Ut=x+w/st,Se=y-I/ht;if(s.beginPath(),o){let zt=(F+Q)/2;if(s.arc(r,a,d,F,zt),s.arc(r,a,d,zt,Q),S>0){let ut=Vl(E,Q,r,a);s.arc(ut.x,ut.y,S,Q,y+_e)}let O=Vl(ht,y,r,a);if(s.lineTo(O.x,O.y),I>0){let ut=Vl(ht,Se,r,a);s.arc(ut.x,ut.y,I,y+_e,Se+Math.PI)}let j=(y-I/p+(x+w/p))/2;if(s.arc(r,a,p,y-I/p,j,!0),s.arc(r,a,p,j,x+w/p,!0),w>0){let ut=Vl(st,Ut,r,a);s.arc(ut.x,ut.y,w,Ut+Math.PI,x-_e)}let ot=Vl(D,x,r,a);if(s.lineTo(ot.x,ot.y),C>0){let ut=Vl(D,F,r,a);s.arc(ut.x,ut.y,C,x-_e,F)}}else{s.moveTo(r,a);let zt=Math.cos(F)*d+r,O=Math.sin(F)*d+a;s.lineTo(zt,O);let j=Math.cos(Q)*d+r,ot=Math.sin(Q)*d+a;s.lineTo(j,ot)}s.closePath()}function lE(s,t,e,i,n){let{fullCircles:o,startAngle:r,circumference:a}=t,l=t.endAngle;if(o){Sp(s,t,e,i,l,n);for(let c=0;c<o;++c)s.fill();isNaN(a)||(l=r+(a%Jt||Jt))}return Sp(s,t,e,i,l,n),s.fill(),l}function cE(s,t,e,i,n){let{fullCircles:o,startAngle:r,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:h,borderDash:d,borderDashOffset:p}=l,u=l.borderAlign==="inner";if(!c)return;s.setLineDash(d||[]),s.lineDashOffset=p,u?(s.lineWidth=c*2,s.lineJoin=h||"round"):(s.lineWidth=c,s.lineJoin=h||"bevel");let m=t.endAngle;if(o){Sp(s,t,e,i,m,n);for(let f=0;f<o;++f)s.stroke();isNaN(a)||(m=r+(a%Jt||Jt))}u&&oE(s,t,m),o||(Sp(s,t,e,i,m,n),s.stroke())}var E4=class extends Fn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){let n=this.getProps(["x","y"],i),{angle:o,distance:r}=U0(n,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:h,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,m=gt(d,l-a)>=Jt||Pl(o,a,l),f=fs(r,c+p,h+p);return m&&f}getCenterPoint(t){let{x:e,y:i,startAngle:n,endAngle:o,innerRadius:r,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,h=(n+o)/2,d=(r+a+c+l)/2;return{x:e+Math.cos(h)*d,y:i+Math.sin(h)*d}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:i}=this,n=(e.offset||0)/4,o=(e.spacing||0)/2,r=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>Jt?Math.floor(i/Jt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*n,Math.sin(a)*n);let l=1-Math.sin(Math.min(Kt,i||0)),c=n*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,lE(t,this,c,o,r),cE(t,this,c,o,r),t.restore()}};function Zy(s,t,e=t){s.lineCap=gt(e.borderCapStyle,t.borderCapStyle),s.setLineDash(gt(e.borderDash,t.borderDash)),s.lineDashOffset=gt(e.borderDashOffset,t.borderDashOffset),s.lineJoin=gt(e.borderJoinStyle,t.borderJoinStyle),s.lineWidth=gt(e.borderWidth,t.borderWidth),s.strokeStyle=gt(e.borderColor,t.borderColor)}function hE(s,t,e){s.lineTo(e.x,e.y)}function dE(s){return s.stepped?M7:s.tension||s.cubicInterpolationMode==="monotone"?A7:hE}function Ky(s,t,e={}){let i=s.length,{start:n=0,end:o=i-1}=e,{start:r,end:a}=t,l=Math.max(n,r),c=Math.min(o,a),h=n<r&&o<r||n>a&&o>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!h?i+c-l:c-l}}function pE(s,t,e,i){let{points:n,options:o}=t,{count:r,start:a,loop:l,ilen:c}=Ky(n,e,i),h=dE(o),{move:d=!0,reverse:p}=i||{},u,m,f;for(u=0;u<=c;++u)m=n[(a+(p?c-u:u))%r],!m.skip&&(d?(s.moveTo(m.x,m.y),d=!1):h(s,f,m,p,o.stepped),f=m);return l&&(m=n[(a+(p?c:0))%r],h(s,f,m,p,o.stepped)),!!l}function uE(s,t,e,i){let n=t.points,{count:o,start:r,ilen:a}=Ky(n,e,i),{move:l=!0,reverse:c}=i||{},h=0,d=0,p,u,m,f,g,x,y=S=>(r+(c?a-S:S))%o,C=()=>{f!==g&&(s.lineTo(h,g),s.lineTo(h,f),s.lineTo(h,x))};for(l&&(u=n[y(0)],s.moveTo(u.x,u.y)),p=0;p<=a;++p){if(u=n[y(p)],u.skip)continue;let S=u.x,w=u.y,I=S|0;I===m?(w<f?f=w:w>g&&(g=w),h=(d*h+S)/++d):(C(),s.lineTo(S,w),m=I,d=0,f=g=w),x=w}C()}function k4(s){let t=s.options,e=t.borderDash&&t.borderDash.length;return!s._decimated&&!s._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?uE:pE}function mE(s){return s.stepped?R7:s.tension||s.cubicInterpolationMode==="monotone"?O7:jo}function fE(s,t,e,i){let n=t._path;n||(n=t._path=new Path2D,t.path(n,e,i)&&n.closePath()),Zy(s,t.options),s.stroke(n)}function gE(s,t,e,i){let{segments:n,options:o}=t,r=k4(t);for(let a of n)Zy(s,o,a.style),s.beginPath(),r(s,t,a,{start:e,end:e+i-1})&&s.closePath(),s.stroke()}var vE=typeof Path2D=="function";function xE(s,t,e,i){vE&&!t.options.segment?fE(s,t,e,i):gE(s,t,e,i)}var Ip=(()=>{class s extends Fn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){let n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){let o=n.spanGaps?this._loop:this._fullLoop;D7(this._points,n,e,o,i),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=B7(this,this.options.segment))}first(){let e=this.segments,i=this.points;return e.length&&i[e[0].start]}last(){let e=this.segments,i=this.points,n=e.length;return n&&i[e[n-1].end]}interpolate(e,i){let n=this.options,o=e[i],r=this.points,a=h4(this,{property:i,start:o,end:o});if(!a.length)return;let l=[],c=mE(n),h,d;for(h=0,d=a.length;h<d;++h){let{start:p,end:u}=a[h],m=r[p],f=r[u];if(m===f){l.push(m);continue}let g=Math.abs((o-m[i])/(f[i]-m[i])),x=c(m,f,g,n.stepped);x[i]=e[i],l.push(x)}return l.length===1?l[0]:l}pathSegment(e,i,n){return k4(this)(e,this,i,n)}path(e,i,n){let o=this.segments,r=k4(this),a=this._loop;i=i||0,n=n||this.points.length-i;for(let l of o)a&=r(e,this,l,{start:i,end:i+n-1});return!!a}draw(e,i,n,o){let r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),xE(e,this,n,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return s})();function my(s,t,e,i){let n=s.options,{[e]:o}=s.getProps([e],i);return Math.abs(t-o)<n.radius+n.hitRadius}var yE=(()=>{class s extends Fn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,n){let o=this.options,{x:r,y:a}=this.getProps(["x","y"],n);return Math.pow(e-r,2)+Math.pow(i-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,i){return my(this,e,"x",i)}inYRange(e,i){return my(this,e,"y",i)}getCenterPoint(e){let{x:i,y:n}=this.getProps(["x","y"],e);return{x:i,y:n}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);let n=i&&e.borderWidth||0;return(i+n)*2}draw(e,i){let n=this.options;this.skip||n.radius<.1||!us(this,i,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,rp(e,n,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return s})();function Jy(s,t){let{x:e,y:i,base:n,width:o,height:r}=s.getProps(["x","y","base","width","height"],t),a,l,c,h,d;return s.horizontal?(d=r/2,a=Math.min(e,n),l=Math.max(e,n),c=i-d,h=i+d):(d=o/2,a=e-d,l=e+d,c=Math.min(i,n),h=Math.max(i,n)),{left:a,top:c,right:l,bottom:h}}function Xo(s,t,e,i){return s?0:je(t,e,i)}function bE(s,t,e){let i=s.options.borderWidth,n=s.borderSkipped,o=t4(i);return{t:Xo(n.top,o.top,0,e),r:Xo(n.right,o.right,0,t),b:Xo(n.bottom,o.bottom,0,e),l:Xo(n.left,o.left,0,t)}}function _E(s,t,e){let{enableBorderRadius:i}=s.getProps(["enableBorderRadius"]),n=s.options.borderRadius,o=qo(n),r=Math.min(t,e),a=s.borderSkipped,l=i||St(n);return{topLeft:Xo(!l||a.top||a.left,o.topLeft,0,r),topRight:Xo(!l||a.top||a.right,o.topRight,0,r),bottomLeft:Xo(!l||a.bottom||a.left,o.bottomLeft,0,r),bottomRight:Xo(!l||a.bottom||a.right,o.bottomRight,0,r)}}function wE(s){let t=Jy(s),e=t.right-t.left,i=t.bottom-t.top,n=bE(s,e/2,i/2),o=_E(s,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+n.l,y:t.top+n.t,w:e-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,o.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(n.b,n.r))}}}}function v4(s,t,e,i){let n=t===null,o=e===null,a=s&&!(n&&o)&&Jy(s,i);return a&&(n||fs(t,a.left,a.right))&&(o||fs(e,a.top,a.bottom))}function CE(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function SE(s,t){s.rect(t.x,t.y,t.w,t.h)}function x4(s,t,e={}){let i=s.x!==e.x?-t:0,n=s.y!==e.y?-t:0,o=(s.x+s.w!==e.x+e.w?t:0)-i,r=(s.y+s.h!==e.y+e.h?t:0)-n;return{x:s.x+i,y:s.y+n,w:s.w+o,h:s.h+r,radius:s.radius}}var D4=class extends Fn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:i,backgroundColor:n}}=this,{inner:o,outer:r}=wE(this),a=CE(r.radius)?Rl:SE;t.save(),(r.w!==o.w||r.h!==o.h)&&(t.beginPath(),a(t,x4(r,e,o)),t.clip(),a(t,x4(o,-e,r)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,x4(o,e)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,e,i){return v4(this,t,e,i)}inXRange(t,e){return v4(this,t,null,e)}inYRange(t,e){return v4(this,null,t,e)}getCenterPoint(t){let{x:e,y:i,base:n,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+n)/2:e,y:o?i:(i+n)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},ME=Object.freeze({__proto__:null,ArcElement:E4,BarElement:D4,LineElement:Ip,PointElement:yE}),P4=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],fy=P4.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function tb(s){return P4[s%P4.length]}function eb(s){return fy[s%fy.length]}function AE(s,t){return s.borderColor=tb(t),s.backgroundColor=eb(t),++t}function TE(s,t){return s.backgroundColor=s.data.map(()=>tb(t++)),t}function IE(s,t){return s.backgroundColor=s.data.map(()=>eb(t++)),t}function zE(s){let t=0;return(e,i)=>{let n=s.getDatasetMeta(i).controller;n instanceof F4?t=TE(e,t):n instanceof jy?t=IE(e,t):n&&(t=AE(e,t))}}function gy(s){let t;for(t in s)if(s[t].borderColor||s[t].backgroundColor)return!0;return!1}function EE(s){return s&&(s.borderColor||s.backgroundColor)}var kE={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,t,e){if(!e.enabled)return;let{data:{datasets:i},options:n}=s.config,{elements:o}=n;if(!e.forceOverride&&(gy(i)||EE(n)||o&&gy(o)))return;let r=zE(s);i.forEach(r)}};function DE(s,t,e,i,n){let o=n.samples||i;if(o>=e)return s.slice(t,t+e);let r=[],a=(e-2)/(o-2),l=0,c=t+e-1,h=t,d,p,u,m,f;for(r[l++]=s[h],d=0;d<o-2;d++){let g=0,x=0,y,C=Math.floor((d+1)*a)+1+t,S=Math.min(Math.floor((d+2)*a)+1,e)+t,w=S-C;for(y=C;y<S;y++)g+=s[y].x,x+=s[y].y;g/=w,x/=w;let I=Math.floor(d*a)+1+t,D=Math.min(Math.floor((d+1)*a)+1,e)+t,{x:E,y:F}=s[h];for(u=m=-1,y=I;y<D;y++)m=.5*Math.abs((E-g)*(s[y].y-F)-(E-s[y].x)*(x-F)),m>u&&(u=m,p=s[y],f=y);r[l++]=p,h=f}return r[l++]=s[c],r}function PE(s,t,e,i){let n=0,o=0,r,a,l,c,h,d,p,u,m,f,g=[],x=t+e-1,y=s[t].x,S=s[x].x-y;for(r=t;r<t+e;++r){a=s[r],l=(a.x-y)/S*i,c=a.y;let w=l|0;if(w===h)c<m?(m=c,d=r):c>f&&(f=c,p=r),n=(o*n+a.x)/++o;else{let I=r-1;if(!Lt(d)&&!Lt(p)){let D=Math.min(d,p),E=Math.max(d,p);D!==u&&D!==I&&g.push(Pd(ls({},s[D]),{x:n})),E!==u&&E!==I&&g.push(Pd(ls({},s[E]),{x:n}))}r>0&&I!==u&&g.push(s[I]),g.push(a),h=w,o=0,m=f=c,d=p=u=r}}return g}function ib(s){if(s._decimated){let t=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function vy(s){s.data.datasets.forEach(t=>{ib(t)})}function LE(s,t){let e=t.length,i=0,n,{iScale:o}=s,{min:r,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(i=je(ps(t,o.axis,r).lo,0,e-1)),c?n=je(ps(t,o.axis,a).hi+1,i,e)-i:n=e-i,{start:i,count:n}}var RE={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,t,e)=>{if(!e.enabled){vy(s);return}let i=s.width;s.data.datasets.forEach((n,o)=>{let{_data:r,indexAxis:a}=n,l=s.getDatasetMeta(o),c=r||n.data;if(Ol([a,s.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let h=s.scales[l.xAxisID];if(h.type!=="linear"&&h.type!=="time"||s.options.parsing)return;let{start:d,count:p}=LE(l,c),u=e.threshold||4*i;if(p<=u){ib(n);return}Lt(r)&&(n._data=c,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(f){this._data=f}}));let m;switch(e.algorithm){case"lttb":m=DE(c,d,p,i,e);break;case"min-max":m=PE(c,d,p,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}n._decimated=m})},destroy(s){vy(s)}};function OE(s,t,e){let i=s.segments,n=s.points,o=t.points,r=[];for(let a of i){let{start:l,end:c}=a;c=j4(l,c,n);let h=L4(e,n[l],n[c],a.loop);if(!t.segments){r.push({source:a,target:h,start:n[l],end:n[c]});continue}let d=h4(t,h);for(let p of d){let u=L4(e,o[p.start],o[p.end],p.loop),m=c4(a,n,u);for(let f of m)r.push({source:f,target:p,start:{[e]:xy(h,u,"start",Math.max)},end:{[e]:xy(h,u,"end",Math.min)}})}}return r}function L4(s,t,e,i){if(i)return;let n=t[s],o=e[s];return s==="angle"&&(n=Pi(n),o=Pi(o)),{property:s,start:n,end:o}}function VE(s,t){let{x:e=null,y:i=null}=s||{},n=t.points,o=[];return t.segments.forEach(({start:r,end:a})=>{a=j4(r,a,n);let l=n[r],c=n[a];i!==null?(o.push({x:l.x,y:i}),o.push({x:c.x,y:i})):e!==null&&(o.push({x:e,y:l.y}),o.push({x:e,y:c.y}))}),o}function j4(s,t,e){for(;t>s;t--){let i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function xy(s,t,e,i){return s&&t?i(s[e],t[e]):s?s[e]:t?t[e]:0}function nb(s,t){let e=[],i=!1;return Zt(s)?(i=!0,e=s):e=VE(s,t),e.length?new Ip({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function yy(s){return s&&s.fill!==!1}function BE(s,t,e){let n=s[t].fill,o=[t],r;if(!e)return n;for(;n!==!1&&o.indexOf(n)===-1;){if(!de(n))return n;if(r=s[n],!r)return!1;if(r.visible)return n;o.push(n),n=r.fill}return!1}function HE(s,t,e){let i=UE(s);if(St(i))return isNaN(i.value)?!1:i;let n=parseFloat(i);return de(n)&&Math.floor(n)===n?NE(i[0],t,n,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function NE(s,t,e,i){return(s==="-"||s==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function FE(s,t){let e=null;return s==="start"?e=t.bottom:s==="end"?e=t.top:St(s)?e=t.getPixelForValue(s.value):t.getBasePixel&&(e=t.getBasePixel()),e}function jE(s,t,e){let i;return s==="start"?i=e:s==="end"?i=t.options.reverse?t.min:t.max:St(s)?i=s.value:i=t.getBaseValue(),i}function UE(s){let t=s.options,e=t.fill,i=gt(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function GE(s){let{scale:t,index:e,line:i}=s,n=[],o=i.segments,r=i.points,a=WE(t,e);a.push(nb({x:null,y:t.bottom},i));for(let l=0;l<o.length;l++){let c=o[l];for(let h=c.start;h<=c.end;h++)qE(n,r[h],a)}return new Ip({points:n,options:{}})}function WE(s,t){let e=[],i=s.getMatchingVisibleMetas("line");for(let n=0;n<i.length;n++){let o=i[n];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function qE(s,t,e){let i=[];for(let n=0;n<e.length;n++){let o=e[n],{first:r,last:a,point:l}=YE(o,t,"x");if(!(!l||r&&a)){if(r)i.unshift(l);else if(s.push(l),!a)break}}s.push(...i)}function YE(s,t,e){let i=s.interpolate(t,e);if(!i)return{};let n=i[e],o=s.segments,r=s.points,a=!1,l=!1;for(let c=0;c<o.length;c++){let h=o[c],d=r[h.start][e],p=r[h.end][e];if(fs(n,d,p)){a=n===d,l=n===p;break}}return{first:a,last:l,point:i}}var Mp=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){let{x:n,y:o,radius:r}=this;return e=e||{start:0,end:Jt},t.arc(n,o,r,e.end,e.start,!0),!i.bounds}interpolate(t){let{x:e,y:i,radius:n}=this,o=t.angle;return{x:e+Math.cos(o)*n,y:i+Math.sin(o)*n,angle:o}}};function XE(s){let{chart:t,fill:e,line:i}=s;if(de(e))return $E(t,e);if(e==="stack")return GE(s);if(e==="shape")return!0;let n=QE(s);return n instanceof Mp?n:nb(n,i)}function $E(s,t){let e=s.getDatasetMeta(t);return e&&s.isDatasetVisible(t)?e.dataset:null}function QE(s){return(s.scale||{}).getPointPositionForValue?KE(s):ZE(s)}function ZE(s){let{scale:t={},fill:e}=s,i=FE(e,t);if(de(i)){let n=t.isHorizontal();return{x:n?i:null,y:n?null:i}}return null}function KE(s){let{scale:t,fill:e}=s,i=t.options,n=t.getLabels().length,o=i.reverse?t.max:t.min,r=jE(e,t,o),a=[];if(i.grid.circular){let l=t.getPointPositionForValue(0,o);return new Mp({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(r)})}for(let l=0;l<n;++l)a.push(t.getPointPositionForValue(l,r));return a}function y4(s,t,e){let i=XE(t),{line:n,scale:o,axis:r}=t,a=n.options,l=a.fill,c=a.backgroundColor,{above:h=c,below:d=c}=l||{};i&&n.points.length&&(Vh(s,e),JE(s,{line:n,target:i,above:h,below:d,area:e,scale:o,axis:r}),Bh(s))}function JE(s,t){let{line:e,target:i,above:n,below:o,area:r,scale:a}=t,l=e._loop?"angle":t.axis;s.save(),l==="x"&&o!==n&&(by(s,i,r.top),_y(s,{line:e,target:i,color:n,scale:a,property:l}),s.restore(),s.save(),by(s,i,r.bottom)),_y(s,{line:e,target:i,color:o,scale:a,property:l}),s.restore()}function by(s,t,e){let{segments:i,points:n}=t,o=!0,r=!1;s.beginPath();for(let a of i){let{start:l,end:c}=a,h=n[l],d=n[j4(l,c,n)];o?(s.moveTo(h.x,h.y),o=!1):(s.lineTo(h.x,e),s.lineTo(h.x,h.y)),r=!!t.pathSegment(s,a,{move:r}),r?s.closePath():s.lineTo(d.x,e)}s.lineTo(t.first().x,e),s.closePath(),s.clip()}function _y(s,t){let{line:e,target:i,property:n,color:o,scale:r}=t,a=OE(e,i,n);for(let{source:l,target:c,start:h,end:d}of a){let{style:{backgroundColor:p=o}={}}=l,u=i!==!0;s.save(),s.fillStyle=p,tk(s,r,u&&L4(n,h,d)),s.beginPath();let m=!!e.pathSegment(s,l),f;if(u){m?s.closePath():wy(s,i,d,n);let g=!!i.pathSegment(s,c,{move:m,reverse:!0});f=m&&g,f||wy(s,i,h,n)}s.closePath(),s.fill(f?"evenodd":"nonzero"),s.restore()}}function tk(s,t,e){let{top:i,bottom:n}=t.chart.chartArea,{property:o,start:r,end:a}=e||{};o==="x"&&(s.beginPath(),s.rect(r,i,a-r,n-i),s.clip())}function wy(s,t,e,i){let n=t.interpolate(e,i);n&&s.lineTo(n.x,n.y)}var ek={id:"filler",afterDatasetsUpdate(s,t,e){let i=(s.data.datasets||[]).length,n=[],o,r,a,l;for(r=0;r<i;++r)o=s.getDatasetMeta(r),a=o.dataset,l=null,a&&a.options&&a instanceof Ip&&(l={visible:s.isDatasetVisible(r),index:r,fill:HE(a,r,i),chart:s,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,n.push(l);for(r=0;r<i;++r)l=n[r],!(!l||l.fill===!1)&&(l.fill=BE(n,r,e.propagate))},beforeDraw(s,t,e){let i=e.drawTime==="beforeDraw",n=s.getSortedVisibleDatasetMetas(),o=s.chartArea;for(let r=n.length-1;r>=0;--r){let a=n[r].$filler;a&&(a.line.updateControlPoints(o,a.axis),i&&a.fill&&y4(s.ctx,a,o))}},beforeDatasetsDraw(s,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let i=s.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n){let o=i[n].$filler;yy(o)&&y4(s.ctx,o,s.chartArea)}},beforeDatasetDraw(s,t,e){let i=t.meta.$filler;!yy(i)||e.drawTime!=="beforeDatasetDraw"||y4(s.ctx,i,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Cy=(s,t)=>{let{boxHeight:e=t,boxWidth:i=t}=s;return s.usePointStyle&&(e=Math.min(e,t),i=s.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},ik=(s,t)=>s!==null&&t!==null&&s.datasetIndex===t.datasetIndex&&s.index===t.index,Ap=class extends Fn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=Xt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,n)=>t.sort(i,n,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let i=t.labels,n=Re(i.font),o=n.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Cy(i,o),c,h;e.font=n.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(r,o,a,l)+10):(h=this.maxHeight,c=this._fitCols(r,n,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,n){let{ctx:o,maxWidth:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=n+a,d=t;o.textAlign="left",o.textBaseline="middle";let p=-1,u=-h;return this.legendItems.forEach((m,f)=>{let g=i+e/2+o.measureText(m.text).width;(f===0||c[c.length-1]+g+2*a>r)&&(d+=h,c[c.length-(f>0?0:1)]=0,u+=h,p++),l[f]={left:0,top:u,row:p,width:g,height:n},c[c.length-1]+=g+a}),d}_fitCols(t,e,i,n){let{ctx:o,maxHeight:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=r-t,d=a,p=0,u=0,m=0,f=0;return this.legendItems.forEach((g,x)=>{let{itemWidth:y,itemHeight:C}=nk(i,e,o,g,n);x>0&&u+C+2*a>h&&(d+=p+a,c.push({width:p,height:u}),m+=p+a,f++,p=u=0),l[x]={left:m,top:u,col:f,width:y,height:C},p=Math.max(p,y),u+=C+a}),d+=p,c.push({width:p,height:u}),d}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:n},rtl:o}}=this,r=la(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ye(i,this.left+n,this.right-this.lineWidths[a]);for(let c of e)a!==c.row&&(a=c.row,l=Ye(i,this.left+n,this.right-this.lineWidths[a])),c.top+=this.top+t+n,c.left=r.leftForLtr(r.x(l),c.width),l+=c.width+n}else{let a=0,l=Ye(i,this.top+t+n,this.bottom-this.columnSizes[a].height);for(let c of e)c.col!==a&&(a=c.col,l=Ye(i,this.top+t+n,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+n,c.left=r.leftForLtr(r.x(c.left),c.width),l+=c.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;Vh(t,this),this._draw(),Bh(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:i,ctx:n}=this,{align:o,labels:r}=t,a=pe.color,l=la(t.rtl,this.left,this.width),c=Re(r.font),{padding:h}=r,d=c.size,p=d/2,u;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=c.string;let{boxWidth:m,boxHeight:f,itemHeight:g}=Cy(r,d),x=function(I,D,E){if(isNaN(m)||m<=0||isNaN(f)||f<0)return;n.save();let F=gt(E.lineWidth,1);if(n.fillStyle=gt(E.fillStyle,a),n.lineCap=gt(E.lineCap,"butt"),n.lineDashOffset=gt(E.lineDashOffset,0),n.lineJoin=gt(E.lineJoin,"miter"),n.lineWidth=F,n.strokeStyle=gt(E.strokeStyle,a),n.setLineDash(gt(E.lineDash,[])),r.usePointStyle){let Q={radius:f*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:F},st=l.xPlus(I,m/2),ht=D+p;J0(n,Q,st,ht,r.pointStyleWidth&&m)}else{let Q=D+Math.max((d-f)/2,0),st=l.leftForLtr(I,m),ht=qo(E.borderRadius);n.beginPath(),Object.values(ht).some(Ut=>Ut!==0)?Rl(n,{x:st,y:Q,w:m,h:f,radius:ht}):n.rect(st,Q,m,f),n.fill(),F!==0&&n.stroke()}n.restore()},y=function(I,D,E){Wo(n,E.text,I,D+g/2,c,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},C=this.isHorizontal(),S=this._computeTitleHeight();C?u={x:Ye(o,this.left+h,this.right-i[0]),y:this.top+h+S,line:0}:u={x:this.left+h,y:Ye(o,this.top+S+h,this.bottom-e[0].height),line:0},a4(this.ctx,t.textDirection);let w=g+h;this.legendItems.forEach((I,D)=>{n.strokeStyle=I.fontColor,n.fillStyle=I.fontColor;let E=n.measureText(I.text).width,F=l.textAlign(I.textAlign||(I.textAlign=r.textAlign)),Q=m+p+E,st=u.x,ht=u.y;l.setWidth(this.width),C?D>0&&st+Q+h>this.right&&(ht=u.y+=w,u.line++,st=u.x=Ye(o,this.left+h,this.right-i[u.line])):D>0&&ht+w>this.bottom&&(st=u.x=st+e[u.line].width+h,u.line++,ht=u.y=Ye(o,this.top+S+h,this.bottom-e[u.line].height));let Ut=l.x(st);if(x(Ut,ht,I),st=w7(F,st+m+p,C?st+Q:this.right,t.rtl),y(l.x(st),ht,I),C)u.x+=Q+h;else if(typeof I.text!="string"){let Se=c.lineHeight;u.y+=sb(I,Se)+h}else u.y+=w}),l4(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,i=Re(e.font),n=Xe(e.padding);if(!e.display)return;let o=la(t.rtl,this.left,this.width),r=this.ctx,a=e.position,l=i.size/2,c=n.top+l,h,d=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),h=this.top+c,d=Ye(t.align,d,this.right-p);else{let m=this.columnSizes.reduce((f,g)=>Math.max(f,g.height),0);h=c+Ye(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}let u=Ye(a,d,d+p);r.textAlign=o.textAlign(sp(a)),r.textBaseline="middle",r.strokeStyle=e.color,r.fillStyle=e.color,r.font=i.string,Wo(r,e.text,u,h,i)}_computeTitleHeight(){let t=this.options.title,e=Re(t.font),i=Xe(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,n,o;if(fs(t,this.left,this.right)&&fs(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(n=o[i],fs(t,n.left,n.left+n.width)&&fs(e,n.top,n.top+n.height))return this.legendItems[i]}return null}handleEvent(t){let e=this.options;if(!rk(t.type,e))return;let i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let n=this._hoveredItem,o=ik(n,i);n&&!o&&Xt(e.onLeave,[t,n,this],this),this._hoveredItem=i,i&&!o&&Xt(e.onHover,[t,i,this],this)}else i&&Xt(e.onClick,[t,i,this],this)}};function nk(s,t,e,i,n){let o=sk(i,s,t,e),r=ok(n,i,t.lineHeight);return{itemWidth:o,itemHeight:r}}function sk(s,t,e,i){let n=s.text;return n&&typeof n!="string"&&(n=n.reduce((o,r)=>o.length>r.length?o:r)),t+e.size/2+i.measureText(n).width}function ok(s,t,e){let i=s;return typeof t.text!="string"&&(i=sb(t,e)),i}function sb(s,t){let e=s.text?s.text.length:0;return t*e}function rk(s,t){return!!((s==="mousemove"||s==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(s==="click"||s==="mouseup"))}var ak={id:"legend",_element:Ap,start(s,t,e){let i=s.legend=new Ap({ctx:s.ctx,options:e,chart:s});ei.configure(s,i,e),ei.addBox(s,i)},stop(s){ei.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,t,e){let i=s.legend;ei.configure(s,i,e),i.options=e},afterUpdate(s){let t=s.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(s,t){t.replay||s.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,t,e){let i=t.datasetIndex,n=e.chart;n.isDatasetVisible(i)?(n.hide(i),t.hidden=!0):(n.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){let t=s.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:n,color:o,useBorderRadius:r,borderRadius:a}}=s.legend.options;return s._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(e?0:void 0),h=Xe(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:n||c.textAlign,borderRadius:r&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}},Yh=class extends Fn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let n=Zt(i.text)?i.text.length:1;this._padding=Xe(i.padding);let o=n*Re(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:i,bottom:n,right:o,options:r}=this,a=r.align,l=0,c,h,d;return this.isHorizontal()?(h=Ye(a,i,o),d=e+t,c=o-i):(r.position==="left"?(h=i+t,d=Ye(a,n,e),l=Kt*-.5):(h=o-t,d=Ye(a,e,n),l=Kt*.5),c=n-e),{titleX:h,titleY:d,maxWidth:c,rotation:l}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let i=Re(e.font),o=i.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);Wo(t,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:c,textAlign:sp(e.align),textBaseline:"middle",translation:[r,a]})}};function lk(s,t){let e=new Yh({ctx:s.ctx,options:t,chart:s});ei.configure(s,e,t),ei.addBox(s,e),s.titleBlock=e}var ck={id:"title",_element:Yh,start(s,t,e){lk(s,e)},stop(s){let t=s.titleBlock;ei.removeBox(s,t),delete s.titleBlock},beforeUpdate(s,t,e){let i=s.titleBlock;ei.configure(s,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},gp=new WeakMap,hk={id:"subtitle",start(s,t,e){let i=new Yh({ctx:s.ctx,options:e,chart:s});ei.configure(s,i,e),ei.addBox(s,i),gp.set(s,i)},stop(s){ei.removeBox(s,gp.get(s)),gp.delete(s)},beforeUpdate(s,t,e){let i=gp.get(s);ei.configure(s,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Wh={average(s){if(!s.length)return!1;let t,e,i=new Set,n=0,o=0;for(t=0,e=s.length;t<e;++t){let a=s[t].element;if(a&&a.hasValue()){let l=a.tooltipPosition();i.add(l.x),n+=l.y,++o}}return{x:[...i].reduce((a,l)=>a+l)/i.size,y:n/o}},nearest(s,t){if(!s.length)return!1;let e=t.x,i=t.y,n=Number.POSITIVE_INFINITY,o,r,a;for(o=0,r=s.length;o<r;++o){let l=s[o].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),h=Jd(t,c);h<n&&(n=h,a=l)}}if(a){let l=a.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function gs(s,t){return t&&(Zt(t)?Array.prototype.push.apply(s,t):s.push(t)),s}function Ks(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function dk(s,t){let{element:e,datasetIndex:i,index:n}=t,o=s.getDatasetMeta(i).controller,{label:r,value:a}=o.getLabelAndValue(n);return{chart:s,label:r,parsed:o.getParsed(n),raw:s.data.datasets[i].data[n],formattedValue:a,dataset:o.getDataset(),dataIndex:n,datasetIndex:i,element:e}}function Sy(s,t){let e=s.chart.ctx,{body:i,footer:n,title:o}=s,{boxWidth:r,boxHeight:a}=t,l=Re(t.bodyFont),c=Re(t.titleFont),h=Re(t.footerFont),d=o.length,p=n.length,u=i.length,m=Xe(t.padding),f=m.height,g=0,x=i.reduce((S,w)=>S+w.before.length+w.lines.length+w.after.length,0);if(x+=s.beforeBody.length+s.afterBody.length,d&&(f+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),x){let S=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;f+=u*S+(x-u)*l.lineHeight+(x-1)*t.bodySpacing}p&&(f+=t.footerMarginTop+p*h.lineHeight+(p-1)*t.footerSpacing);let y=0,C=function(S){g=Math.max(g,e.measureText(S).width+y)};return e.save(),e.font=c.string,Nt(s.title,C),e.font=l.string,Nt(s.beforeBody.concat(s.afterBody),C),y=t.displayColors?r+2+t.boxPadding:0,Nt(i,S=>{Nt(S.before,C),Nt(S.lines,C),Nt(S.after,C)}),y=0,e.font=h.string,Nt(s.footer,C),e.restore(),g+=m.width,{width:g,height:f}}function pk(s,t){let{y:e,height:i}=t;return e<i/2?"top":e>s.height-i/2?"bottom":"center"}function uk(s,t,e,i){let{x:n,width:o}=i,r=e.caretSize+e.caretPadding;if(s==="left"&&n+o+r>t.width||s==="right"&&n-o-r<0)return!0}function mk(s,t,e,i){let{x:n,width:o}=e,{width:r,chartArea:{left:a,right:l}}=s,c="center";return i==="center"?c=n<=(a+l)/2?"left":"right":n<=o/2?c="left":n>=r-o/2&&(c="right"),uk(c,s,t,e)&&(c="center"),c}function My(s,t,e){let i=e.yAlign||t.yAlign||pk(s,e);return{xAlign:e.xAlign||t.xAlign||mk(s,t,e,i),yAlign:i}}function fk(s,t){let{x:e,width:i}=s;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function gk(s,t,e){let{y:i,height:n}=s;return t==="top"?i+=e:t==="bottom"?i-=n+e:i-=n/2,i}function Ay(s,t,e,i){let{caretSize:n,caretPadding:o,cornerRadius:r}=s,{xAlign:a,yAlign:l}=e,c=n+o,{topLeft:h,topRight:d,bottomLeft:p,bottomRight:u}=qo(r),m=fk(t,a),f=gk(t,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(h,p)+n:a==="right"&&(m+=Math.max(d,u)+n),{x:je(m,0,i.width-t.width),y:je(f,0,i.height-t.height)}}function vp(s,t,e){let i=Xe(e.padding);return t==="center"?s.x+s.width/2:t==="right"?s.x+s.width-i.right:s.x+i.left}function Ty(s){return gs([],Ks(s))}function vk(s,t,e){return Qs(s,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Iy(s,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?s.override(e):s}var ob={beforeTitle:ms,title(s){if(s.length>0){let t=s[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:ms,beforeBody:ms,beforeLabel:ms,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let t=s.dataset.label||"";t&&(t+=": ");let e=s.formattedValue;return Lt(e)||(t+=e),t},labelColor(s){let e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){let e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ms,afterBody:ms,beforeFooter:ms,footer:ms,afterFooter:ms};function Ri(s,t,e,i){let n=s[t].call(e,i);return typeof n>"u"?ob[t].call(e,i):n}var zy=(()=>{class s extends Fn{static positioners=Wh;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let i=this.chart,n=this.options.setContext(this.getContext()),o=n.enabled&&i.options.animation&&n.animations,r=new _p(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=vk(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){let{callbacks:n}=i,o=Ri(n,"beforeTitle",this,e),r=Ri(n,"title",this,e),a=Ri(n,"afterTitle",this,e),l=[];return l=gs(l,Ks(o)),l=gs(l,Ks(r)),l=gs(l,Ks(a)),l}getBeforeBody(e,i){return Ty(Ri(i.callbacks,"beforeBody",this,e))}getBody(e,i){let{callbacks:n}=i,o=[];return Nt(e,r=>{let a={before:[],lines:[],after:[]},l=Iy(n,r);gs(a.before,Ks(Ri(l,"beforeLabel",this,r))),gs(a.lines,Ri(l,"label",this,r)),gs(a.after,Ks(Ri(l,"afterLabel",this,r))),o.push(a)}),o}getAfterBody(e,i){return Ty(Ri(i.callbacks,"afterBody",this,e))}getFooter(e,i){let{callbacks:n}=i,o=Ri(n,"beforeFooter",this,e),r=Ri(n,"footer",this,e),a=Ri(n,"afterFooter",this,e),l=[];return l=gs(l,Ks(o)),l=gs(l,Ks(r)),l=gs(l,Ks(a)),l}_createItems(e){let i=this._active,n=this.chart.data,o=[],r=[],a=[],l=[],c,h;for(c=0,h=i.length;c<h;++c)l.push(dk(this.chart,i[c]));return e.filter&&(l=l.filter((d,p,u)=>e.filter(d,p,u,n))),e.itemSort&&(l=l.sort((d,p)=>e.itemSort(d,p,n))),Nt(l,d=>{let p=Iy(e.callbacks,d);o.push(Ri(p,"labelColor",this,d)),r.push(Ri(p,"labelPointStyle",this,d)),a.push(Ri(p,"labelTextColor",this,d))}),this.labelColors=o,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(e,i){let n=this.options.setContext(this.getContext()),o=this._active,r,a=[];if(!o.length)this.opacity!==0&&(r={opacity:0});else{let l=Wh[n.position].call(this,o,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);let c=this._size=Sy(this,n),h=Object.assign({},l,c),d=My(this.chart,n,h),p=Ay(n,h,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,r={opacity:1,x:p.x,y:p.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,n,o){let r=this.getCaretPosition(e,n,o);i.lineTo(r.x1,r.y1),i.lineTo(r.x2,r.y2),i.lineTo(r.x3,r.y3)}getCaretPosition(e,i,n){let{xAlign:o,yAlign:r}=this,{caretSize:a,cornerRadius:l}=n,{topLeft:c,topRight:h,bottomLeft:d,bottomRight:p}=qo(l),{x:u,y:m}=e,{width:f,height:g}=i,x,y,C,S,w,I;return r==="center"?(w=m+g/2,o==="left"?(x=u,y=x-a,S=w+a,I=w-a):(x=u+f,y=x+a,S=w-a,I=w+a),C=x):(o==="left"?y=u+Math.max(c,d)+a:o==="right"?y=u+f-Math.max(h,p)-a:y=this.caretX,r==="top"?(S=m,w=S-a,x=y-a,C=y+a):(S=m+g,w=S+a,x=y+a,C=y-a),I=S),{x1:x,x2:y,x3:C,y1:S,y2:w,y3:I}}drawTitle(e,i,n){let o=this.title,r=o.length,a,l,c;if(r){let h=la(n.rtl,this.x,this.width);for(e.x=vp(this,n.titleAlign,n),i.textAlign=h.textAlign(n.titleAlign),i.textBaseline="middle",a=Re(n.titleFont),l=n.titleSpacing,i.fillStyle=n.titleColor,i.font=a.string,c=0;c<r;++c)i.fillText(o[c],h.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===r&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,i,n,o,r){let a=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:h}=r,d=Re(r.bodyFont),p=vp(this,"left",r),u=o.x(p),m=c<d.lineHeight?(d.lineHeight-c)/2:0,f=i.y+m;if(r.usePointStyle){let g={radius:Math.min(h,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},x=o.leftForLtr(u,h)+h/2,y=f+c/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,rp(e,g,x,y),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,rp(e,g,x,y)}else{e.lineWidth=St(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let g=o.leftForLtr(u,h),x=o.leftForLtr(o.xPlus(u,1),h-2),y=qo(a.borderRadius);Object.values(y).some(C=>C!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Rl(e,{x:g,y:f,w:h,h:c,radius:y}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Rl(e,{x,y:f+1,w:h-2,h:c-2,radius:y}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(g,f,h,c),e.strokeRect(g,f,h,c),e.fillStyle=a.backgroundColor,e.fillRect(x,f+1,h-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,i,n){let{body:o}=this,{bodySpacing:r,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:h,boxPadding:d}=n,p=Re(n.bodyFont),u=p.lineHeight,m=0,f=la(n.rtl,this.x,this.width),g=function(F){i.fillText(F,f.x(e.x+m),e.y+u/2),e.y+=u+r},x=f.textAlign(a),y,C,S,w,I,D,E;for(i.textAlign=a,i.textBaseline="middle",i.font=p.string,e.x=vp(this,x,n),i.fillStyle=n.bodyColor,Nt(this.beforeBody,g),m=l&&x!=="right"?a==="center"?h/2+d:h+2+d:0,w=0,D=o.length;w<D;++w){for(y=o[w],C=this.labelTextColors[w],i.fillStyle=C,Nt(y.before,g),S=y.lines,l&&S.length&&(this._drawColorBox(i,e,w,f,n),u=Math.max(p.lineHeight,c)),I=0,E=S.length;I<E;++I)g(S[I]),u=p.lineHeight;Nt(y.after,g)}m=0,u=p.lineHeight,Nt(this.afterBody,g),e.y-=r}drawFooter(e,i,n){let o=this.footer,r=o.length,a,l;if(r){let c=la(n.rtl,this.x,this.width);for(e.x=vp(this,n.footerAlign,n),e.y+=n.footerMarginTop,i.textAlign=c.textAlign(n.footerAlign),i.textBaseline="middle",a=Re(n.footerFont),i.fillStyle=n.footerColor,i.font=a.string,l=0;l<r;++l)i.fillText(o[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,i,n,o){let{xAlign:r,yAlign:a}=this,{x:l,y:c}=e,{width:h,height:d}=n,{topLeft:p,topRight:u,bottomLeft:m,bottomRight:f}=qo(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(l+p,c),a==="top"&&this.drawCaret(e,i,n,o),i.lineTo(l+h-u,c),i.quadraticCurveTo(l+h,c,l+h,c+u),a==="center"&&r==="right"&&this.drawCaret(e,i,n,o),i.lineTo(l+h,c+d-f),i.quadraticCurveTo(l+h,c+d,l+h-f,c+d),a==="bottom"&&this.drawCaret(e,i,n,o),i.lineTo(l+m,c+d),i.quadraticCurveTo(l,c+d,l,c+d-m),a==="center"&&r==="left"&&this.drawCaret(e,i,n,o),i.lineTo(l,c+p),i.quadraticCurveTo(l,c,l+p,c),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){let i=this.chart,n=this.$animations,o=n&&n.x,r=n&&n.y;if(o||r){let a=Wh[e.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=Sy(this,e),c=Object.assign({},a,this._size),h=My(i,e,c),d=Ay(e,c,h,i);(o._to!==d.x||r._to!==d.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){let i=this.options.setContext(this.getContext()),n=this.opacity;if(!n)return;this._updateAnimationTarget(i);let o={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;let a=Xe(i.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,o,i),a4(e,i.textDirection),r.y+=a.top,this.drawTitle(r,e,i),this.drawBody(r,e,i),this.drawFooter(r,e,i),l4(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){let n=this._active,o=e.map(({datasetIndex:l,index:c})=>{let h=this.chart.getDatasetMeta(l);if(!h)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:h.data[c],index:c}}),r=!Rh(n,o),a=this._positionChanged(o,i);(r||a)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,n=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,r=this._active||[],a=this._getActiveElements(e,r,i,n),l=this._positionChanged(a,e),c=i||!Rh(a,r)||l;return c&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),c}_getActiveElements(e,i,n,o){let r=this.options;if(e.type==="mouseout")return[];if(!o)return i.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&a.reverse(),a}_positionChanged(e,i){let{caretX:n,caretY:o,options:r}=this,a=Wh[r.position].call(this,e,i);return a!==!1&&(n!==a.x||o!==a.y)}}return s})(),xk={id:"tooltip",_element:zy,positioners:Wh,afterInit(s,t,e){e&&(s.tooltip=new zy({chart:s,options:e}))},beforeUpdate(s,t,e){s.tooltip&&s.tooltip.initialize(e)},reset(s,t,e){s.tooltip&&s.tooltip.initialize(e)},afterDraw(s){let t=s.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(s.notifyPlugins("beforeTooltipDraw",Pd(ls({},e),{cancelable:!0}))===!1)return;t.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",e)}},afterEvent(s,t){if(s.tooltip){let e=t.replay;s.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,t)=>t.bodyFont.size,boxWidth:(s,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ob},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},yk=Object.freeze({__proto__:null,Colors:kE,Decimation:RE,Filler:ek,Legend:ak,SubTitle:hk,Title:ck,Tooltip:xk}),bk=(s,t,e,i)=>(typeof t=="string"?(e=s.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function _k(s,t,e,i){let n=s.indexOf(t);if(n===-1)return bk(s,t,e,i);let o=s.lastIndexOf(t);return n!==o?e:n}var wk=(s,t)=>s===null?null:je(Math.round(s),0,t);function Ey(s){let t=this.getLabels();return s>=0&&s<t.length?t[s]:s}var Ck=(()=>{class s extends da{static id="category";static defaults={ticks:{callback:Ey}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let i=this._addedLabels;if(i.length){let n=this.getLabels();for(let{index:o,label:r}of i)n[o]===r&&n.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(Lt(e))return null;let n=this.getLabels();return i=isFinite(i)&&n[i]===e?i:_k(n,e,gt(i,e),this._addedLabels),wk(i,n.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:n,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),i||(o=this.getLabels().length-1)),this.min=n,this.max=o}buildTicks(){let e=this.min,i=this.max,n=this.options.offset,o=[],r=this.getLabels();r=e===0&&i===r.length-1?r:r.slice(e,i+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=i;a++)o.push({value:a});return o}getLabelForValue(e){return Ey.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return s})();function Sk(s,t){let e=[],{bounds:n,step:o,min:r,max:a,precision:l,count:c,maxTicks:h,maxDigits:d,includeBounds:p}=s,u=o||1,m=h-1,{min:f,max:g}=t,x=!Lt(r),y=!Lt(a),C=!Lt(c),S=(g-f)/(d+1),w=N0((g-f)/m/u)*u,I,D,E,F;if(w<1e-14&&!x&&!y)return[{value:f},{value:g}];F=Math.ceil(g/w)-Math.floor(f/w),F>m&&(w=N0(F*w/m/u)*u),Lt(l)||(I=Math.pow(10,l),w=Math.ceil(w*I)/I),n==="ticks"?(D=Math.floor(f/w)*w,E=Math.ceil(g/w)*w):(D=f,E=g),x&&y&&o&&f7((a-r)/o,w/1e3)?(F=Math.round(Math.min((a-r)/w,h)),w=(a-r)/F,D=r,E=a):C?(D=x?r:D,E=y?a:E,F=c-1,w=(E-D)/F):(F=(E-D)/w,Dl(F,Math.round(F),w/1e3)?F=Math.round(F):F=Math.ceil(F));let Q=Math.max(j0(w),j0(D));I=Math.pow(10,Lt(l)?Q:l),D=Math.round(D*I)/I,E=Math.round(E*I)/I;let st=0;for(x&&(p&&D!==r?(e.push({value:r}),D<r&&st++,Dl(Math.round((D+st*w)*I)/I,r,ky(r,S,s))&&st++):D<r&&st++);st<F;++st){let ht=Math.round((D+st*w)*I)/I;if(y&&ht>a)break;e.push({value:ht})}return y&&p&&E!==a?e.length&&Dl(e[e.length-1].value,a,ky(a,S,s))?e[e.length-1].value=a:e.push({value:a}):(!y||E===a)&&e.push({value:E}),e}function ky(s,t,{horizontal:e,minRotation:i}){let n=fn(i),o=(e?Math.sin(n):Math.cos(n))||.001,r=.75*t*(""+s).length;return Math.min(t/o,r)}var Hl=class extends da{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Lt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:n,max:o}=this,r=l=>n=e?n:l,a=l=>o=i?o:l;if(t){let l=Nn(n),c=Nn(o);l<0&&c<0?a(0):l>0&&c>0&&r(0)}if(n===o){let l=o===0?1:Math.abs(o*.05);a(o+l),t||r(n-l)}this.min=n,this.max=o}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:i}=t,n;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),e=e||11),e&&(n=Math.min(e,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,i=this.getTickLimit();i=Math.max(2,i);let n={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,r=Sk(n,o);return t.bounds==="ticks"&&F0(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){let t=this.ticks,e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){let n=(i-e)/Math.max(t.length-1,1)/2;e-=n,i+=n}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Ll(t,this.chart.options.locale,this.options.ticks.format)}},R4=class extends Hl{static id="linear";static defaults={ticks:{callback:Oh.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=de(t)?t:0,this.max=de(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,i=fn(this.options.ticks.minRotation),n=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},Xh=s=>Math.floor(Xs(s)),ha=(s,t)=>Math.pow(10,Xh(s)+t);function Dy(s){return s/Math.pow(10,Xh(s))===1}function Py(s,t,e){let i=Math.pow(10,e),n=Math.floor(s/i);return Math.ceil(t/i)-n}function Mk(s,t){let e=t-s,i=Xh(e);for(;Py(s,t,i)>10;)i++;for(;Py(s,t,i)<10;)i--;return Math.min(i,Xh(s))}function Ak(s,{min:t,max:e}){t=Li(s.min,t);let i=[],n=Xh(t),o=Mk(t,e),r=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),l=n>o?Math.pow(10,n):0,c=Math.round((t-l)*r)/r,h=Math.floor((t-l)/a/10)*a*10,d=Math.floor((c-h)/Math.pow(10,o)),p=Li(s.min,Math.round((l+h+d*Math.pow(10,o))*r)/r);for(;p<e;)i.push({value:p,major:Dy(p),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,r=o>=0?1:r),p=Math.round((l+h+d*Math.pow(10,o))*r)/r;let u=Li(s.max,p);return i.push({value:u,major:Dy(u),significand:d}),i}var O4=class extends da{static id="logarithmic";static defaults={ticks:{callback:Oh.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let i=Hl.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return de(i)&&i>0?i:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=de(t)?Math.max(0,t):null,this.max=de(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!de(this._userMin)&&(this.min=t===ha(this.min,0)?ha(this.min,-1):ha(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),i=this.min,n=this.max,o=a=>i=t?i:a,r=a=>n=e?n:a;i===n&&(i<=0?(o(1),r(10)):(o(ha(i,-1)),r(ha(n,1)))),i<=0&&o(ha(n,-1)),n<=0&&r(ha(i,1)),this.min=i,this.max=n}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},i=Ak(e,this);return t.bounds==="ticks"&&F0(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Ll(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Xs(t),this._valueRange=Xs(this.max)-Xs(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Xs(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function V4(s){let t=s.ticks;if(t.display&&s.display){let e=Xe(t.backdropPadding);return gt(t.font&&t.font.size,pe.font.size)+e.height}return 0}function Tk(s,t,e){return e=Zt(e)?e:[e],{w:S7(s,t.string,e),h:e.length*t.lineHeight}}function Ly(s,t,e,i,n){return s===i||s===n?{start:t-e/2,end:t+e/2}:s<i||s>n?{start:t-e,end:t}:{start:t,end:t+e}}function Ik(s){let t={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},e=Object.assign({},t),i=[],n=[],o=s._pointLabels.length,r=s.options.pointLabels,a=r.centerPointLabels?Kt/o:0;for(let l=0;l<o;l++){let c=r.setContext(s.getPointLabelContext(l));n[l]=c.padding;let h=s.getPointPosition(l,s.drawingArea+n[l],a),d=Re(c.font),p=Tk(s.ctx,d,s._pointLabels[l]);i[l]=p;let u=Pi(s.getIndexAngle(l)+a),m=Math.round(ip(u)),f=Ly(m,h.x,p.w,0,180),g=Ly(m,h.y,p.h,90,270);zk(e,t,u,f,g)}s.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),s._pointLabelItems=Dk(s,i,n)}function zk(s,t,e,i,n){let o=Math.abs(Math.sin(e)),r=Math.abs(Math.cos(e)),a=0,l=0;i.start<t.l?(a=(t.l-i.start)/o,s.l=Math.min(s.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/o,s.r=Math.max(s.r,t.r+a)),n.start<t.t?(l=(t.t-n.start)/r,s.t=Math.min(s.t,t.t-l)):n.end>t.b&&(l=(n.end-t.b)/r,s.b=Math.max(s.b,t.b+l))}function Ek(s,t,e){let i=s.drawingArea,{extra:n,additionalAngle:o,padding:r,size:a}=e,l=s.getPointPosition(t,i+n+r,o),c=Math.round(ip(Pi(l.angle+_e))),h=Rk(l.y,a.h,c),d=Pk(c),p=Lk(l.x,a.w,d);return{visible:!0,x:l.x,y:h,textAlign:d,left:p,top:h,right:p+a.w,bottom:h+a.h}}function kk(s,t){if(!t)return!0;let{left:e,top:i,right:n,bottom:o}=s;return!(us({x:e,y:i},t)||us({x:e,y:o},t)||us({x:n,y:i},t)||us({x:n,y:o},t))}function Dk(s,t,e){let i=[],n=s._pointLabels.length,o=s.options,{centerPointLabels:r,display:a}=o.pointLabels,l={extra:V4(o)/2,additionalAngle:r?Kt/n:0},c;for(let h=0;h<n;h++){l.padding=e[h],l.size=t[h];let d=Ek(s,h,l);i.push(d),a==="auto"&&(d.visible=kk(d,c),d.visible&&(c=d))}return i}function Pk(s){return s===0||s===180?"center":s<180?"left":"right"}function Lk(s,t,e){return e==="right"?s-=t:e==="center"&&(s-=t/2),s}function Rk(s,t,e){return e===90||e===270?s-=t/2:(e>270||e<90)&&(s-=t),s}function Ok(s,t,e){let{left:i,top:n,right:o,bottom:r}=e,{backdropColor:a}=t;if(!Lt(a)){let l=qo(t.borderRadius),c=Xe(t.backdropPadding);s.fillStyle=a;let h=i-c.left,d=n-c.top,p=o-i+c.width,u=r-n+c.height;Object.values(l).some(m=>m!==0)?(s.beginPath(),Rl(s,{x:h,y:d,w:p,h:u,radius:l}),s.fill()):s.fillRect(h,d,p,u)}}function Vk(s,t){let{ctx:e,options:{pointLabels:i}}=s;for(let n=t-1;n>=0;n--){let o=s._pointLabelItems[n];if(!o.visible)continue;let r=i.setContext(s.getPointLabelContext(n));Ok(e,r,o);let a=Re(r.font),{x:l,y:c,textAlign:h}=o;Wo(e,s._pointLabels[n],l,c+a.lineHeight/2,a,{color:r.color,textAlign:h,textBaseline:"middle"})}}function rb(s,t,e,i){let{ctx:n}=s;if(e)n.arc(s.xCenter,s.yCenter,t,0,Jt);else{let o=s.getPointPosition(0,t);n.moveTo(o.x,o.y);for(let r=1;r<i;r++)o=s.getPointPosition(r,t),n.lineTo(o.x,o.y)}}function Bk(s,t,e,i,n){let o=s.ctx,r=t.circular,{color:a,lineWidth:l}=t;!r&&!i||!a||!l||e<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(n.dash),o.lineDashOffset=n.dashOffset,o.beginPath(),rb(s,e,r,i),o.closePath(),o.stroke(),o.restore())}function Hk(s,t,e){return Qs(s,{label:e,index:t,type:"pointLabel"})}var B4=class extends Hl{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Oh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=Xe(V4(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=de(t)&&!isNaN(t)?t:0,this.max=de(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/V4(this.options))}generateTickLabels(t){Hl.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{let n=Xt(this.options.pointLabels.callback,[e,i],this);return n||n===0?n:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){let t=this.options;t.display&&t.pointLabels.display?Ik(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,n){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,n))}getIndexAngle(t){let e=Jt/(this._pointLabels.length||1),i=this.options.startAngle||0;return Pi(t*e+fn(i))}getDistanceFromCenterForValue(t){if(Lt(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Lt(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let i=e[t];return Hk(this.getContext(),t,i)}}getPointPosition(t,e,i=0){let n=this.getIndexAngle(t)-_e+i;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter,angle:n}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:i,right:n,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:n,bottom:o}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let i=this.ctx;i.save(),i.beginPath(),rb(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:i,grid:n,border:o}=e,r=this._pointLabels.length,a,l,c;if(e.pointLabels.display&&Vk(this,r),n.display&&this.ticks.forEach((h,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(h.value);let p=this.getContext(d),u=n.setContext(p),m=o.setContext(p);Bk(this,u,l,r,m)}}),i.display){for(t.save(),a=r-1;a>=0;a--){let h=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:p}=h;!p||!d||(t.lineWidth=p,t.strokeStyle=d,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;let n=this.getIndexAngle(0),o,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;let c=i.setContext(this.getContext(l)),h=Re(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=h.string,r=t.measureText(a.label).width,t.fillStyle=c.backdropColor;let d=Xe(c.backdropPadding);t.fillRect(-r/2-d.left,-o-h.size/2-d.top,r+d.width,h.size+d.height)}Wo(t,a.label,0,-o,h,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}},zp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Oi=Object.keys(zp);function Ry(s,t){return s-t}function Oy(s,t){if(Lt(t))return null;let e=s._adapter,{parser:i,round:n,isoWeekday:o}=s._parseOpts,r=t;return typeof i=="function"&&(r=i(r)),de(r)||(r=typeof i=="string"?e.parse(r,i):e.parse(r)),r===null?null:(n&&(r=n==="week"&&(aa(o)||o===!0)?e.startOf(r,"isoWeek",o):e.startOf(r,n)),+r)}function Vy(s,t,e,i){let n=Oi.length;for(let o=Oi.indexOf(s);o<n-1;++o){let r=zp[Oi[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((e-t)/(a*r.size))<=i)return Oi[o]}return Oi[n-1]}function Nk(s,t,e,i,n){for(let o=Oi.length-1;o>=Oi.indexOf(e);o--){let r=Oi[o];if(zp[r].common&&s._adapter.diff(n,i,r)>=t-1)return r}return Oi[e?Oi.indexOf(e):0]}function Fk(s){for(let t=Oi.indexOf(s)+1,e=Oi.length;t<e;++t)if(zp[Oi[t]].common)return Oi[t]}function By(s,t,e){if(!e)s[t]=!0;else if(e.length){let{lo:i,hi:n}=np(e,t),o=e[i]>=t?e[i]:e[n];s[o]=!0}}function jk(s,t,e,i){let n=s._adapter,o=+n.startOf(t[0].value,i),r=t[t.length-1].value,a,l;for(a=o;a<=r;a=+n.add(a,1,i))l=e[a],l>=0&&(t[l].major=!0);return t}function Hy(s,t,e){let i=[],n={},o=t.length,r,a;for(r=0;r<o;++r)a=t[r],n[a]=r,i.push({value:a,major:!1});return o===0||!e?i:jk(s,i,n,e)}var H4=(()=>{class s extends da{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){let n=e.time||(e.time={}),o=this._adapter=new tz._date(e.adapters.date);o.init(i),El(n.displayFormats,o.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return e===void 0?null:Oy(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,i=this._adapter,n=e.time.unit||"day",{min:o,max:r,minDefined:a,maxDefined:l}=this.getUserBounds();function c(h){!a&&!isNaN(h.min)&&(o=Math.min(o,h.min)),!l&&!isNaN(h.max)&&(r=Math.max(r,h.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),o=de(o)&&!isNaN(o)?o:+i.startOf(Date.now(),n),r=de(r)&&!isNaN(r)?r:+i.endOf(Date.now(),n)+1,this.min=Math.min(o,r-1),this.max=Math.max(o+1,r)}_getLabelBounds(){let e=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],n=e[e.length-1]),{min:i,max:n}}buildTicks(){let e=this.options,i=e.time,n=e.ticks,o=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let r=this.min,a=this.max,l=x7(o,r,a);return this._unit=i.unit||(n.autoSkip?Vy(i.minUnit,this.min,this.max,this._getLabelCapacity(r)):Nk(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Fk(this._unit),this.initOffsets(o),e.reverse&&l.reverse(),Hy(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let i=0,n=0,o,r;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?i=1-o:i=(this.getDecimalForValue(e[1])-o)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?n=r:n=(r-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;i=je(i,0,a),n=je(n,0,a),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){let e=this._adapter,i=this.min,n=this.max,o=this.options,r=o.time,a=r.unit||Vy(r.minUnit,i,n,this._getLabelCapacity(i)),l=gt(o.ticks.stepSize,1),c=a==="week"?r.isoWeekday:!1,h=aa(c)||c===!0,d={},p=i,u,m;if(h&&(p=+e.startOf(p,"isoWeek",c)),p=+e.startOf(p,h?"day":a),e.diff(n,i,a)>1e5*l)throw new Error(i+" and "+n+" are too far apart with stepSize of "+l+" "+a);let f=o.ticks.source==="data"&&this.getDataTimestamps();for(u=p,m=0;u<n;u=+e.add(u,l,a),m++)By(d,u,f);return(u===n||o.bounds==="ticks"||m===1)&&By(d,u,f),Object.keys(d).sort(Ry).map(g=>+g)}getLabelForValue(e){let i=this._adapter,n=this.options.time;return n.tooltipFormat?i.format(e,n.tooltipFormat):i.format(e,n.displayFormats.datetime)}format(e,i){let o=this.options.time.displayFormats,r=this._unit,a=i||o[r];return this._adapter.format(e,a)}_tickFormatFunction(e,i,n,o){let r=this.options,a=r.ticks.callback;if(a)return Xt(a,[e,i,n],this);let l=r.time.displayFormats,c=this._unit,h=this._majorUnit,d=c&&l[c],p=h&&l[h],u=n[i],m=h&&p&&u&&u.major;return this._adapter.format(e,o||(m?p:d))}generateTickLabels(e){let i,n,o;for(i=0,n=e.length;i<n;++i)o=e[i],o.label=this._tickFormatFunction(o.value,i,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let i=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+n)*i.factor)}getValueForPixel(e){let i=this._offsets,n=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){let i=this.options.ticks,n=this.ctx.measureText(e).width,o=fn(this.isHorizontal()?i.maxRotation:i.minRotation),r=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:n*r+l*a,h:n*a+l*r}}_getLabelCapacity(e){let i=this.options.time,n=i.displayFormats,o=n[i.unit]||n.millisecond,r=this._tickFormatFunction(e,0,Hy(this,[e],this._majorUnit),o),a=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],i,n;if(e.length)return e;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,n=o.length;i<n;++i)e=e.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],i,n;if(e.length)return e;let o=this.getLabels();for(i=0,n=o.length;i<n;++i)e.push(Oy(this,o[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return W0(e.sort(Ry))}}return s})();function xp(s,t,e){let i=0,n=s.length-1,o,r,a,l;e?(t>=s[i].pos&&t<=s[n].pos&&({lo:i,hi:n}=ps(s,"pos",t)),{pos:o,time:a}=s[i],{pos:r,time:l}=s[n]):(t>=s[i].time&&t<=s[n].time&&({lo:i,hi:n}=ps(s,"time",t)),{time:o,pos:a}=s[i],{time:r,pos:l}=s[n]);let c=r-o;return c?a+(l-a)*(t-o)/c:a}var N4=class extends H4{static id="timeseries";static defaults=H4.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=xp(e,this.min),this._tableRange=xp(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:i}=this,n=[],o=[],r,a,l,c,h;for(r=0,a=t.length;r<a;++r)c=t[r],c>=e&&c<=i&&n.push(c);if(n.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(r=0,a=n.length;r<a;++r)h=n[r+1],l=n[r-1],c=n[r],Math.round((h+l)/2)!==c&&o.push({time:c,pos:r/(a-1)});return o}_generate(){let t=this.min,e=this.max,i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((n,o)=>n-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(xp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return xp(this._table,i*this._tableRange+this._minPos,!0)}},Uk=Object.freeze({__proto__:null,CategoryScale:Ck,LinearScale:R4,LogarithmicScale:O4,RadialLinearScale:B4,TimeScale:H4,TimeSeriesScale:N4}),ab=[JI,ME,yk,Uk];Tp.register(...ab);var Ep=Tp;var Gk=["chart"],lb=(()=>{let t=class t{constructor(){}ngAfterViewInit(){this.chart=new Ep(this.chartRef.nativeElement,{type:"line",data:{labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"# of Votes",data:[12,19,3,5,2,3],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1}})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=xt({type:t,selectors:[["app-products"]],viewQuery:function(n,o){if(n&1&&ti(Gk,5),n&2){let r;ce(r=he())&&(o.chartRef=r.first)}},decls:9,vars:0,consts:[["chart",""],[1,"row","pt-4"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["id","chart",2,"width","100%","height","400px"]],template:function(n,o){n&1&&(P(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h5",5),X(5,"chart1"),L()(),P(6,"div",6),et(7,"canvas",7,0),L()()()())}});let s=t;return s})();var cb=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=xt({type:t,selectors:[["app-reports"]],decls:2,vars:0,template:function(n,o){n&1&&(P(0,"p"),X(1,"reports works!"),L())}});let s=t;return s})();var hb=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=xt({type:t,selectors:[["app-not-found"]],decls:2,vars:0,template:function(n,o){n&1&&(P(0,"p"),X(1,"not-found works!"),L())}});let s=t;return s})();var U4;try{U4=typeof Intl<"u"&&Intl.v8BreakIterator}catch{U4=!1}var db=(()=>{let t=class t{constructor(i){this._platformId=i,this.isBrowser=this._platformId?Bd(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||U4)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(n){return new(n||t)(Bt(Rd))},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"root"});let s=t;return s})();var qk=["chart_line"],Yk=["chart_bar"];function Xk(s,t){if(s&1&&(P(0,"div",23)(1,"div",4)(2,"div",24)(3,"div")(4,"table",25)(5,"thead")(6,"th"),X(7," Name "),L(),P(8,"th"),X(9,"Percent Complete"),L()(),P(10,"tbody")(11,"tr")(12,"td")(13,"ul",26)(14,"li",27),et(15,"img",28),X(16),L()()(),P(17,"td",29)(18,"div",30),et(19,"div",31),L(),P(20,"small"),X(21),L()()()()()(),P(22,"div")(23,"table",32)(24,"thead")(25,"th"),X(26,"Position"),L(),P(27,"th"),X(28,"Office"),L(),P(29,"th"),X(30,"Age"),L(),P(31,"th"),X(32,"Start Date"),L()(),P(33,"tbody")(34,"tr")(35,"td"),X(36),L(),P(37,"td"),X(38),L(),P(39,"td"),X(40),L(),P(41,"td"),X(42),L()()()()()(),P(43,"div",33)(44,"button",34),X(45," View More "),L()()()()),s&2){let e=t.$implicit,i=t.index;N(15),w0("src","assets/img/avatar",i+1,".png",_l),N(),ia(" ",e.Name," "),N(3),wl("width",e.Status.Progress,"%"),Te("aria-valuenow",e.Status.Progress),N(2),be(e.Status.ProgressText),N(15),be(e.Position),N(2),be(e.Office),N(2),be(e.Age),N(2),be(e.Start_Date)}}function $k(s,t){if(s&1&&(P(0,"div",10)(1,"div",11)(2,"h2",12),X(3,"User Details"),L(),P(4,"div",13)(5,"button",14),et(6,"img",15),L(),P(7,"button",14),et(8,"img",16),L(),P(9,"button",14),et(10,"img",17),L(),P(11,"button",14),et(12,"img",18),L()()(),P(13,"div",19)(14,"div",20)(15,"div",21),mt(16,Xk,46,11,"div",22),L()()()()),s&2){let e=it();N(16),V("ngForOf",e.tableData)}}function Qk(s,t){if(s&1&&(P(0,"tr")(1,"td")(2,"ul",26)(3,"li",27),et(4,"img",28),X(5),L()()(),P(6,"td"),X(7),L(),P(8,"td"),X(9),L(),P(10,"td"),X(11),L(),P(12,"td"),X(13),L(),P(14,"td"),X(15),L(),P(16,"td",29)(17,"div",30),et(18,"div",31),L(),P(19,"small"),X(20),L()(),P(21,"td")(22,"button",14),et(23,"i",38),L()()()),s&2){let e=t.$implicit,i=t.index;N(4),w0("src","assets/img/avatar",i+1,".png",_l),N(),ia(" ",e.Name," "),N(2),be(e.Position),N(2),be(e.Office),N(2),be(e.Age),N(2),be(e.Start_Date),N(2),be(e.Salary),N(3),wl("width",e.Status.Progress,"%"),Te("aria-valuenow",e.Status.Progress),N(2),be(e.Status.ProgressText)}}function Zk(s,t){if(s&1&&(P(0,"div",35)(1,"div",19)(2,"div",11)(3,"h3",12),X(4,"User Details"),L(),P(5,"div",13)(6,"button",14),et(7,"img",15),L(),P(8,"button",14),et(9,"img",16),L(),P(10,"button",14),et(11,"img",17),L(),P(12,"button",14),et(13,"img",18),L()()(),P(14,"div",36)(15,"table",25)(16,"thead")(17,"tr")(18,"th"),X(19,"Name"),L(),P(20,"th"),X(21,"Position"),L(),P(22,"th"),X(23,"Office"),L(),P(24,"th"),X(25,"Age"),L(),P(26,"th"),X(27,"Start Date"),L(),P(28,"th"),X(29,"Salary"),L(),P(30,"th"),X(31,"Percent Complete"),L(),P(32,"th"),X(33,"Action"),L()()(),P(34,"tbody"),mt(35,Qk,24,12,"tr",37),L()()()()()),s&2){let e=it();N(35),V("ngForOf",e.tableData)}}var pb=(()=>{let t=class t{constructor(i,n){this.platformId=i,this.platform=n,this.isMobileOrTablet=!1,this.chartsTypes=["line","bar"],this.charts=[],this.tableData=[],this.isMobileOrTablet=!1}ngOnInit(){this.tableData=[{Name:"Subhash",Position:"System Architect",Office:"New York",Age:43,Start_Date:"2024-04-21",Salary:23232,Status:{Progress:57,ProgressText:"57% Complete"}},{Name:"John",Position:"Software Engineer",Office:"Los Angeles",Age:35,Start_Date:"2023-09-15",Salary:18e3,Status:{Progress:85,ProgressText:"85% Complete"}},{Name:"Emily",Position:"UI/UX Designer",Office:"San Francisco",Age:28,Start_Date:"2024-01-10",Salary:21e3,Status:{Progress:100,ProgressText:"100% Complete"}}]}onResize(i){this.checkScreenSize()}checkScreenSize(){let i=window.innerWidth;this.isMobileOrTablet=i<=1024}ngAfterViewInit(){if(Bd(this.platformId)){let i=["line","bar"];for(let n=0;n<i.length;n++){let o=this["chart_"+i[n]]?.nativeElement;o&&this.initializeChart(i[n],o)}}}initializeChart(i,n){let o=n.getContext("2d");o&&new Ep(o,{type:i,data:{labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"Dataset 1",data:[12,19,3,5,2,3],backgroundColor:"#FF6060",borderColor:"#FF6060",tension:.4,borderRadius:10,barPercentage:.3},{label:"Dataset 2",data:[8,15,7,12,6,9],backgroundColor:"#16DBCC",borderColor:"#16DBCC",tension:.4,borderRadius:10,barPercentage:.3}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{colors:{enabled:!0,forceOverride:!1},title:{display:!0,text:`${i.toUpperCase()} CHART`,position:"top",align:"start",color:"white",font:{size:13,weight:500}},legend:{display:!0,position:"top",align:"center",labels:{usePointStyle:!0,boxWidth:5,boxHeight:5,color:"white"},title:{padding:3,color:"white",font:{size:12}}}},scales:{x:{border:{display:!1},grid:{display:!1},pointLabels:{color:"#FFFFFF80"},ticks:{color:"#FFFFFF80"},beginAtZero:!0},y:{border:{display:!1},grid:{color:"#FFFFFF80",lineWidth:.1},ticks:{color:"#FFFFFF80",maxTicksLimit:10},beginAtZero:!0}},layout:{padding:{left:1,right:1,top:1,bottom:1}}}})}};t.\u0275fac=function(n){return new(n||t)(Z(Rd),Z(db))},t.\u0275cmp=xt({type:t,selectors:[["app-dashboard"]],viewQuery:function(n,o){if(n&1&&(ti(qk,5),ti(Yk,5)),n&2){let r;ce(r=he())&&(o.chart_line=r.first),ce(r=he())&&(o.chart_bar=r.first)}},hostBindings:function(n,o){n&1&&Fe("resize",function(a){return o.onResize(a)},!1,M9)},decls:13,vars:2,consts:[["chart_line",""],["chart_bar",""],[1,"row","pt-4"],[1,"col-md-6","chart"],[1,"card"],[1,"card-body","rounded-2"],["data-type","line",1,"chart",2,"width","100%","height","300px"],["data-type","bar",1,"chart",2,"width","100%","height","300px"],["class","col-md-12 isMobile",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"col-md-12","isMobile"],[1,"card-header"],[1,"card-title"],[1,"card-tools","d-flex","flex-wrap","align-content-center"],["type","button",1,"btn","btn-tool"],["src","assets/icons/print.svg"],["src","assets/icons/copy.svg"],["src","assets/icons/download.svg"],["src","assets/icons/refresh.svg"],[1,"card","rounded-2"],[1,"card-body","p-4"],[1,"row"],["class","col-md-6 col-sm-12",4,"ngFor","ngForOf"],[1,"col-md-6","col-sm-12"],[1,"card-body"],[1,"table","projects"],[1,"list-inline"],[1,"list-inline-item"],["alt","Avatar",1,"table-avatar",3,"src"],[1,"project_progress"],[1,"progress","progress-sm"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-green"],[1,"table","card-table-0"],[1,"card-footer","text-center"],["type","submit",1,"btn","btn-outline-primary","btn-block"],[1,"col-md-12"],[1,"card-body","p-0","table-responsive"],[4,"ngFor","ngForOf"],["tooltip","See More",1,"fas","fa-eye","text-primary"]],template:function(n,o){n&1&&(P(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),et(4,"canvas",6,0),L()()(),P(6,"div",3)(7,"div",4)(8,"div",5),et(9,"canvas",7,1),L()()(),mt(11,$k,17,1,"div",8)(12,Zk,36,1,"div",9),L()),n&2&&(N(11),V("ngIf",o.isMobileOrTablet),N(),V("ngIf",!o.isMobileOrTablet))},dependencies:[Ho,qe],styles:[".isMobile[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .isMobile[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0rem;border-top:0px;max-width:100px;font-size:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.isMobile[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:0px}.isMobile[_ngcontent-%COMP%]   .card-table-0[_ngcontent-%COMP%]{border:none;border-collapse:collapse}.isMobile[_ngcontent-%COMP%]   .card-table-0[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .isMobile[_ngcontent-%COMP%]   .card-table-0[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-left:1px solid rgba(0,0,0,.2117647059);padding-left:8px!important}.isMobile[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-bottom:0px}.isMobile[_ngcontent-%COMP%]   .card-table-0[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .isMobile[_ngcontent-%COMP%]   .card-table-0[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-left:none;padding-left:0!important}.btn-outline-primary[_ngcontent-%COMP%]{border:2px solid #13377F;color:#13377f;font-weight:600}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#13377f;color:#fff}.bg-green[_ngcontent-%COMP%]{background-color:#00ceff!important}"]});let s=t;return s})();var ub=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=xt({type:t,selectors:[["app-sample-table"]],decls:2,vars:0,template:function(n,o){n&1&&(P(0,"p"),X(1,"sample-table works!"),L())}});let s=t;return s})();var Kk=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"login",loadChildren:()=>import("./chunk-ONQJPT6Q.js").then(s=>s.AccountModule)},{path:"",component:q9,children:[{path:"dashboard",component:pb},{path:"products",component:lb},{path:"reports",component:cb},{path:"simple-table",component:ub}]},{path:"**",component:hb}],mb=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ae({type:t}),t.\u0275inj=Me({imports:[I0.forRoot(Kk),I0]});let s=t;return s})();var fb=(()=>{let t=class t{constructor(){this.title="devotail_poc"}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=xt({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,o){n&1&&et(0,"router-outlet")},dependencies:[Nd]});let s=t;return s})();var G4=()=>typeof window<"u";var W4={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)(\.(\d+(\.\d+)?))?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},Jk={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},q4={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},tD={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},gb=(s,t,e)=>{for(let i in t)if(t.hasOwnProperty(i)&&t[i].test(s))return i;return e!==void 0?e:s},Y4=s=>{let t,e=[];for(let i in W4)if(W4.hasOwnProperty(i)){if(e=s.match(W4[i]),!e)continue;if(i==="windows"&&"plugins"in window.navigator)return null;let n={};return n.device=i,n.browser=gb(s,tD,"default"),n.name=gb(i,Jk),n[n.name]=!0,n.majorVersion=e[2],n.minorVersion=e[3]?e[3].replace("_","."):".0",t=n.minorVersion.replace(".","").substr(0,2),n.flatVersion=n.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),n.cordova=typeof window.PhoneGap!==void 0||typeof window.cordova!==void 0,n.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||n.cordova,n}return null},X4=s=>{let t=null,e=[];for(let i in q4)if(q4.hasOwnProperty(i)&&(e=s.match(q4[i]),e)){t={},t[i]=!0,t[e[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||e[2],10);break}return t},kp=G4()&&window.navigator?window.navigator.userAgent:null,Qh=kp?X4(kp):null,eD=kp?Y4(kp):null,iD=G4()&&"ontouchstart"in window,nD=Qh&&!Qh.chrome&&window.MSPointerEvent,sD=Qh&&!Qh.chrome&&window.PointerEvent;var rD={};rD.undefined=s=>s;var aD={};aD.undefined=s=>s;var ae=()=>typeof document<"u";var Z4=s=>s&&s.observers.length>0;var K4=s=>s!=null;var xb=(s,t,e)=>{for(;s&&s!==e&&!t(s);)s=s.parentNode;if(s!==e)return s};var Pp=class{constructor(t){this.resizeBatchService=t,this.resize=new ye,this.acceptedSize=!1,this.state=0}acceptSize(t=this.measure()){this.lastWidth=t.width,this.lastHeight=t.height,this.acceptedSize=!0}checkChanges(){ae()&&this.state===0&&(this.state=1,this.resizeBatchService.schedule(this,this.init))}destroy(){this.resizeBatchService.cancel(this)}checkSize(){if(!this.parentElement)return!1;let{width:t,height:e}=this.measure();return t===this.lastWidth&&e===this.lastHeight?!1:(this.lastWidth=t,this.lastHeight=e,this.acceptedSize=!1,this.resize.emit(),!0)}initSize(){let t=this.measure();this.lastWidth=t.width,this.lastHeight=t.height}measure(){let t=0,e=0;return this.parentElement&&(e=this.parentElement.offsetHeight,t=this.parentElement.offsetWidth),{height:e,width:t}}},Dp=s=>{let t=document.createElement("div");return t.style.cssText=s,t},lD=(s,t)=>getComputedStyle(s,null).getPropertyValue(t),$4="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;",yb="position: absolute; left: 0; top: 0; transition: 0s;",cD=yb+"width: 200%; height: 200%;",Q4=class extends Pp{constructor(t,e,i){super(t),this.element=e,this.ngZone=i}checkChanges(){if(this.state===2){this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize);return}super.checkChanges()}destroy(){if(super.destroy(),this.subscription&&this.subscription.unsubscribe(),this.expand){let t=this.element?.nativeElement;t.removeChild(this.expand),t.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}}checkSize(){return super.checkSize()?(this.reset(),!0):!1}init(){let t=this.parentElement=this.element?.nativeElement.parentElement;lD(t,"position")==="static"&&(t.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()}render(){let t=this.element?.nativeElement;t.style.cssText=$4,t.setAttribute("dir","ltr"),this.expand=Dp($4),this.expandChild=Dp(yb),this.expand.appendChild(this.expandChild),t.appendChild(this.expand),this.shrink=Dp($4);let e=Dp(cD);this.shrink.appendChild(e),t.appendChild(this.shrink)}reset(){let t=this.expandChild;t.style.width="100000px",t.style.height="100000px";let e=this.expand;e.scrollLeft=1e5,e.scrollTop=1e5;let i=this.shrink;i.scrollLeft=1e5,i.scrollTop=1e5}subscribe(){this.ngZone.runOutsideAngular(()=>{this.subscription=Jr(Gs(this.shrink,"scroll"),Gs(this.expand,"scroll")).subscribe(()=>{this.checkSize()})})}},hD=typeof ResizeObserver<"u",Lp=class extends Pp{constructor(t,e,i){super(t),this.element=e,this.ngZone=i}static supported(){return hD}destroy(){super.destroy(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null}init(){this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular(()=>{this.resizeObserver=new ResizeObserver(()=>{this.checkSize()}),this.resizeObserver.observe(this.parentElement)})}},bb=(()=>{class s{constructor(e){this.ngZone=e,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}schedule(e,i){this.scheduled.push({instance:e,method:i}),this.subscription||this.ngZone.runOutsideAngular(()=>{this.subscription=Ld(this.resolvedPromise).subscribe(this.flush)})}isScheduled(e){return!!this.scheduled.find(i=>i.instance===e)}cancel(e){let i=this.scheduled,n=i.length;for(let o=0;o<n;o++)if(i[o].instance===e){i.splice(o,1),i.length||this.unsubscribe();return}}ngOnDestroy(){this.unsubscribe()}unsubscribe(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}flush(){this.scheduled.forEach(e=>{e.method.call(e.instance)}),this.scheduled=[],this.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(Bt(Ue))},s.\u0275prov=qt({token:s,factory:s.\u0275fac}),s})(),vb=10,Nl=(()=>{class s{constructor(e,i,n){this.rateLimit=vb,this.resize=new ye;let o=Lp.supported()?Lp:Q4;this.resizeService=new o(e,i,n);let r=1e3/(this.rateLimit||vb);this.subscription=this.resizeService.resize.pipe(ta(r)).subscribe(()=>{this.resizeService.acceptedSize||this.resize.emit()})}ngAfterViewChecked(){this.resizeService.checkChanges()}ngOnDestroy(){this.subscription.unsubscribe(),this.resizeService.destroy()}acceptSize(e){this.resizeService.acceptSize(e)}}return s.\u0275fac=function(e){return new(e||s)(Z(bb),Z(xe),Z(Ue))},s.\u0275cmp=xt({type:s,selectors:[["kendo-resize-sensor"]],inputs:{rateLimit:"rateLimit"},outputs:{resize:"resize"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),s})();var pa=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Ae({type:s}),s.\u0275inj=Me({providers:[bb]}),s})();var Qo=function(s){return s[s.Alt=18]="Alt",s[s.ArrowDown=40]="ArrowDown",s[s.ArrowLeft=37]="ArrowLeft",s[s.ArrowRight=39]="ArrowRight",s[s.ArrowUp=38]="ArrowUp",s[s.Backspace=8]="Backspace",s[s.Control=17]="Control",s[s.Delete=46]="Delete",s[s.Digit0=48]="Digit0",s[s.Digit1=49]="Digit1",s[s.Digit2=50]="Digit2",s[s.Digit3=51]="Digit3",s[s.Digit4=52]="Digit4",s[s.Digit5=53]="Digit5",s[s.Digit6=54]="Digit6",s[s.Digit7=55]="Digit7",s[s.Digit8=56]="Digit8",s[s.Digit9=57]="Digit9",s[s.End=35]="End",s[s.Enter=13]="Enter",s[s.Escape=27]="Escape",s[s.F1=112]="F1",s[s.F2=113]="F2",s[s.F10=121]="F10",s[s.Home=36]="Home",s[s.Insert=45]="Insert",s[s.KeyA=65]="KeyA",s[s.KeyB=66]="KeyB",s[s.KeyC=67]="KeyC",s[s.KeyD=68]="KeyD",s[s.KeyE=69]="KeyE",s[s.KeyF=70]="KeyF",s[s.KeyG=71]="KeyG",s[s.KeyH=72]="KeyH",s[s.KeyI=73]="KeyI",s[s.KeyJ=74]="KeyJ",s[s.KeyK=75]="KeyK",s[s.KeyL=76]="KeyL",s[s.KeyM=77]="KeyM",s[s.KeyN=78]="KeyN",s[s.KeyO=79]="KeyO",s[s.KeyP=80]="KeyP",s[s.KeyQ=81]="KeyQ",s[s.KeyR=82]="KeyR",s[s.KeyS=83]="KeyS",s[s.KeyT=84]="KeyT",s[s.KeyU=85]="KeyU",s[s.KeyV=86]="KeyV",s[s.KeyW=87]="KeyW",s[s.KeyX=88]="KeyX",s[s.KeyY=89]="KeyY",s[s.KeyZ=90]="KeyZ",s[s.NumpadDecimal=110]="NumpadDecimal",s[s.PageDown=34]="PageDown",s[s.PageUp=33]="PageUp",s[s.Shift=16]="Shift",s[s.Space=32]="Space",s[s.Tab=9]="Tab",s}(Qo||{}),_b=['a[href]:not([tabindex^="-"]):not([disabled])','area[href]:not([tabindex^="-"]):not([disabled])','input:not([tabindex^="-"]):not([disabled])','select:not([tabindex^="-"]):not([disabled])','textarea:not([tabindex^="-"]):not([disabled])','button:not([tabindex^="-"]):not([disabled])','iframe:not([tabindex^="-"]):not([disabled])','object:not([tabindex^="-"]):not([disabled])','embed:not([tabindex^="-"]):not([disabled])','*[tabindex]:not([tabindex^="-"]):not([disabled])','*[contenteditable]:not([tabindex^="-"]):not([disabled]):not([contenteditable="false"])'].join(",");var J4=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Ae({type:s}),s.\u0275inj=Me({imports:[[qi]]}),s})();var Sb=["z2v0vgLTzq==","ww91CIbSAwnLBNnLigv4CgLYzwqGB24G","zgf0yq==","uhjVz3jLC3mG","AgvmshG=","u2vLia==","ChjVzhvJDenVzgvZ","C2nYAxb0s2v5","D3rmuhm=","rKjcwKG=","tM8GBgLJzw5ZzsbMB3vUzc4k","CgfJA2fNzu5HBwu=","qvfYAMq=","CgfYC2u=","ChjVzhvJDhm=","igzVCIbTB3jLigLUzM9YBwf0Aw9UlGO=","sgr5sMW=","rg9iAwe=","zxDJr2C=","Du9wCuK=","z2v0rNvSBfLLyxi=","lcb0AguGCgfJA2fNzsb3yxmGChvIBgLZAgvKig9Uia==","C2v0","zxrNsxC=","C29YDa==","EeXMBLu=","AgfZ","s0XeCe8=","rM1Ttxy=","tNvstvG=","ww91CIb0CMLHBcbSAwnLBNnLigv4CgLYzwqGB24G","z2v0rgf0zq==","BgvUz3rO","txPHwe8=","BgLJzw5Zzuv4CgLYyxrPB25eyxrL","DhjPywW=","vejxq3K=","r2Ltv1q=","uhPWBva=","z2v0","vgHLihbYB2r1y3qGAxmGBM90igLUy2X1zgvKigLUihrOzsbSAwnLBNnLlGO=","z2v0tw9UDgG=","s2DnDfK=","DMvYC2LVBG==","rKj6sum=","DgLTzxn0yw1W","B2jQzwn0","DhLWzq==","BgLJzw5ZAw5Nrg9JC1vYBa==","BMfTzq==","DwTXAeq=","zg9JC1vYBa==","z3jVDxbfBMq=","z3jVDxa=","yuDyzhy=","zMLUza==","D2fYBG==","zNvUy3rPB24=","Dw5KzwzPBMvK","ChjVzhvJDe5HBwu=","y29Uy2f0","ChvIBgLZAerHDgu=","zxHWAxj5rgf0zq==","CeDhAfu=","y29Kzq==","Dg9mB2nHBgvtDhjPBMC=","tgLJzw5ZzsbHy3rPDMf0Aw9UigzHAwXLzcbMB3iG"];(function(s,t){var e=function(i){for(;--i;)s.push(s.shift())};e(++t)})(Sb,439);var A=function(s,t){s=s-0;var e=Sb[s];if(A.aWziBr===void 0){var i=function(o){for(var r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=",a=String(o).replace(/=+$/,""),l="",c=0,h,d,p=0;d=a.charAt(p++);~d&&(h=c%4?h*64+d:d,c++%4)?l+=String.fromCharCode(255&h>>(-2*c&6)):0)d=r.indexOf(d);return l};A.XjGMHe=function(o){for(var r=i(o),a=[],l=0,c=r.length;l<c;l++)a+="%"+("00"+r.charCodeAt(l).toString(16)).slice(-2);return decodeURIComponent(a)},A.XQgCdR={},A.aWziBr=!0}var n=A.XQgCdR[s];return n===void 0?(e=A.XjGMHe(e),A.XQgCdR[s]=e):e=n,e},dD={data:'  {"timestamp":1715248160,"products":[{"trial":false,"code":"KENDOUIREACT","licenseExpirationDate":1681444286},{"trial":false,"code":"KENDOUICOMPLETE","licenseExpirationDate":1681444286},{"trial":false,"code":"KENDOUIVUE","licenseExpirationDate":1681444286},{"trial":false,"code":"KENDOUIANGULAR","licenseExpirationDate":1681444286}],"integrity":"4edq0QZPm+28u84NZFfkGWlxZ9Q="}  '},t6=new Map;function Js(s){if(t6[A("0x38")](s[A("0xc")]))if(A("0x3a")!==A("0x3a"))var d=function(){_0x55416e[A("0x10")](_0x394293)};else return t6[A("0x2")](s[A("0xc")]);var t=s[A("0x6")]?" v"+s[A("0x6")]:"",e=s[A("0xc")]+t,i=JSON[A("0x2b")](dD[A("0x20")]),n=!i[A("0x25")]&&!i[A("0x8")],o=i[A("0x25")]&&typeof KendoLicensing===A("0x15"),r=uD(i,s[A("0x24")]),a;if(n||o)if(A("0x2a")===A("0x2f"))var p=function(){var I=A("0x21")[A("0x17")](_0x1ec4d4[A("0x16")]),D=typeof _0x5077fd[A("0x10")]===A("0x14");D?_0x1cbf22[A("0x10")](I):_0x52c64a[A("0x13")](I),_0x19add1[A("0x13")](_0x2bf2c1(_0x2b5d62)),D&&_0x210919[A("0xf")]()};else a={type:0,packageName:e,docsUrl:s[A("0xb")]};else if(A("0x39")===A("0x39"))if(r){if(r[A("0x41")]===!0&&Cb(mD(),r[A("0x40")]))if(A("0x0")===A("0x0"))a={type:3,packageName:e,expiryDate:Rp(r[A("0x40")]),docsUrl:s[A("0xb")]};else var m=function(){return new _0x538141(_0x6547c3*1e3)};else if(Cb(s[A("0x18")],r[A("0x40")]))if(A("0x22")!==A("0x22"))var f=function(){_0xff686d+=A("0x28")};else a={type:2,packageName:e,publishDate:Rp(s[A("0x18")]),expiryDate:Rp(r[A("0x40")]),docsUrl:s[A("0xb")]}}else if(A("0x1a")!==A("0x1a"))var u=function(){return _0x388bef[A("0x38")](_0x14b8a6[A("0x1b")])};else a={type:1,packageName:e,docsUrl:s[A("0xb")]};else var g=function(){_0x4e0ecf={type:0,packageName:_0x1a2fc4,docsUrl:_0x281109[A("0xb")]}};if(a&&typeof console===A("0x9"))if(A("0x5")!==A("0x5"))var x=function(){_0x23dc27[A("0xf")]()};else{var l=A("0x21")[A("0x17")](s[A("0x16")]),c=typeof console[A("0x10")]===A("0x14");if(c)if(A("0x2e")===A("0x2e"))console[A("0x10")](l);else var y=function(){_0x3e4ff8?_0x15d67c[A("0x41")]===!0&&_0x3b51a9(_0x102df8(),_0x3171d7[A("0x40")])?_0x1e0cab={type:3,packageName:_0x2724db,expiryDate:_0x33ff27(_0x4eb9e1[A("0x40")]),docsUrl:_0x2a3029[A("0xb")]}:_0x2a1aff(_0x3a6131[A("0x18")],_0x30ed8b[A("0x40")])&&(_0x36826b={type:2,packageName:_0x2a7f61,publishDate:_0x19d46e(_0x3f1d0c[A("0x18")]),expiryDate:_0x18bd78(_0x3231eb[A("0x40")]),docsUrl:_0x265a7c[A("0xb")]}):_0x37b223={type:1,packageName:_0x36e726,docsUrl:_0x3f80b8[A("0xb")]}};else if(A("0x30")!==A("0x7"))console[A("0x13")](l);else var C=function(){_0x283aa0+=A("0x3c")[A("0x17")](_0x111d35[A("0x19")][A("0x1c")](),`.
`)};if(console[A("0x13")](pD(a)),c)if(A("0xd")!==A("0xd"))var S=function(){_0x2b9264={type:1,packageName:_0x346bb2,docsUrl:_0x2e7146[A("0xb")]}};else console[A("0xf")]()}var h=!a;return t6[A("0x34")](s[A("0xc")],h),h}function pD(s){var t=A("0x1d")[A("0x17")](s[A("0x29")],`
`);if(s[A("0xa")]===2)if(A("0x3f")!==A("0x1"))t+=A("0x1f")[A("0x17")](s[A("0x19")][A("0x1c")](),A("0x33"))[A("0x17")](s[A("0x18")][A("0x1c")](),`.
`);else var e=function(){_0x339f11={type:3,packageName:_0x324919,expiryDate:_0x301701(_0xaf8b40[A("0x40")]),docsUrl:_0x5b91f9[A("0xb")]}};if(s[A("0xa")]===3)if(A("0x11")===A("0x11"))t+=A("0x3c")[A("0x17")](s[A("0x19")][A("0x1c")](),`.
`);else var i=function(){_0x3f28ec+=A("0x1f")[A("0x17")](_0x4667d4[A("0x19")][A("0x1c")](),A("0x33"))[A("0x17")](_0x23b5da[A("0x18")][A("0x1c")](),`.
`)};else if(s[A("0xa")]===0)if(A("0x35")===A("0x35"))t+=A("0x28");else var n=function(){_0x5ccb08+=A("0x3")};else if(s[A("0xa")]===1)if(A("0x26")!==A("0x26"))var o=function(){var a=_0x465bb0(_0x2ba0db),l=new _0x4a6023(a[A("0x32")](),a[A("0x4")](),a[A("0x3d")]()+1),c=l[A("0x1e")]()/1e3;return _0x2f1bc7>c};else t+=A("0x3");return t+=A("0x23")[A("0x17")](s[A("0xe")],A("0x2d")),t}function uD(s,t){var e=s[A("0x2c")];if(!e||!e[A("0x3e")]){if(A("0x27")!==A("0x37"))return null;var n=function(){return _0x25dc8b[A("0x2")](_0xcce210[A("0xc")])}}var i=new Set(t);return e[A("0x36")](function(o,r){if(A("0x42")!==A("0x31"))return r[A("0x40")]-o[A("0x40")];var a=function(){return null}})[A("0x12")](function(o){if(A("0x3b")===A("0x3b"))return i[A("0x38")](o[A("0x1b")]);var r=function(){return _0x22688d[A("0x40")]-_0x522bbc[A("0x40")]}})}function Rp(s){return new Date(s*1e3)}function mD(){return new Date()[A("0x1e")]()/1e3}function Cb(s,t){var e=Rp(t),i=new Date(e[A("0x32")](),e[A("0x4")](),e[A("0x3d")]()+1),n=i[A("0x1e")]()/1e3;return s>n}var fD=(()=>{class s{constructor(){this.changes=new Us({rtl:void 0})}notify(e){this.changes.next({rtl:e})}get(e){}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=qt({token:s,factory:s.\u0275fac}),s})();var gD=new cs("Kendo UI Right-to-Left token"),Fl=new cs("Localization key prefix"),jn=(()=>{class s{constructor(e,i,n){this.prefix=e,this.messageService=i,this._rtl=n,this.changes=new Us({rtl:this._rtl}),this.dictionary={},i&&(this.subscription=i.changes.pipe(Gi(({rtl:o})=>o!==void 0?o:this._rtl),Ah(o=>this._rtl=o)).subscribe(o=>{this.dictionary={},this.changes.next({rtl:o})}))}get rtl(){return this._rtl}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}get(e){let i=this.key(e);return this.dictionary[i]}register(e,i,n=!1){let o=this.key(e),r=i;if(!n){if(Object.hasOwnProperty.call(this.dictionary,o))return;r=this.defaultValue(o,i)}this.dictionary[o]=r}notifyChanges(){this.changes.next({rtl:this.rtl})}key(e){return this.prefix+"."+e}defaultValue(e,i){if(!this.messageService)return i;let n=this.messageService.get(e);return n===void 0?i:n}}return s.\u0275fac=function(e){return new(e||s)(Bt(Fl),Bt(fD,8),Bt(gD,8))},s.\u0275prov=qt({token:s,factory:s.\u0275fac}),s})();var gn="arc",e6="ArrowUp",i6="ArrowDown",n6="ArrowLeft",s6="ArrowRight",Mb="Tab",o6="aria-activedescendant",Ab="axisLabelClick",ft="#000",lt="bottom",$="center",ne="circle";var jl="cross",ii="date",Op="12px sans-serif";var Ul="end",r6=/\{\d+:?/,ua="height";var Vp="inside",Bp="inherit",K="left",yt=Number.MAX_VALUE,Tt=-Number.MAX_VALUE,Hp="none",Tb="noteClick",Ib="noteHover",zb="noteLeave",to="object",Gl="outside",dt="right",Np="roundedRect",ma="start",Wl="string",nt="top",Eb="triangle",kb="square",Db="rect",$e="value",ct="#fff",fa="width",B="x",H="y",a6=1,Zh="pointer",Kh="horizontal",Pb="vertical";function kt(s){return Array.isArray(s)}function bt(s,t){let e=kt(t)?t:[t];for(let i=0;i<e.length;i++){let n=e[i];s.className.indexOf(n)===-1&&(s.className+=" "+n)}}var xD=/\s+/g;function ga(s,t){s&&s.className&&(s.className=s.className.replace(t,"").replace(xD," "))}var _={};yl(_,{Animation:()=>v_,AnimationFactory:()=>Kp,Arc:()=>h_,BaseNode:()=>ws,Circle:()=>Gb,Element:()=>Ge,Gradient:()=>ec,GradientStop:()=>S2,Group:()=>wn,HasObservers:()=>te,Image:()=>p_,Layout:()=>u_,LinearGradient:()=>ic,MultiPath:()=>_a,OptionsStore:()=>Ql,Path:()=>oo,PathParser:()=>x_,QuadNode:()=>bu,RadialGradient:()=>nc,Rect:()=>m_,ShapesQuadTree:()=>T2,Surface:()=>T_,SurfaceFactory:()=>I2,Text:()=>d_,align:()=>q6,canvas:()=>Kg,exportImage:()=>Jg,exportSVG:()=>tv,fit:()=>K6,parsePath:()=>Jl,stack:()=>X6,svg:()=>Zg,util:()=>x6,vAlign:()=>Y6,vStack:()=>$6,vWrap:()=>Z6,wrap:()=>Q6});var z=class{};var l6=class extends z{constructor(){super(),this._events={}}bind(t,e,i){let n=Rb(t),o=Lb(e),r=n.length;if(e===void 0){for(let a in t)this.bind(a,t[a]);return this}for(let a=0;a<r;a++){let l=n[a],c=o?e:e[l];if(c){if(i){let d=c;c=()=>{this.unbind(l,c),d.apply(this,arguments)},c.original=d}(this._events[l]=this._events[l]||[]).push(c)}}return this}one(t,e){return this.bind(t,e,!0)}first(t,e){let i=Rb(t),n=Lb(e);for(let o=0,r=i.length;o<r;o++){let a=i[o],l=n?e:e[a];l&&(this._events[a]=this._events[a]||[]).unshift(l)}return this}trigger(t,e={}){let i=this._events[t];if(i){let n=i.length;e.sender=this,e._defaultPrevented=!1,e.preventDefault=yD,e.isDefaultPrevented=bD,i=i.slice();for(let o=0;o<n;o++)i[o].call(this,e);return e._defaultPrevented===!0}return!1}unbind(t,e){let i=this._events[t];if(t===void 0)this._events={};else if(i)if(e)for(let n=i.length-1;n>=0;n--)(i[n]===e||i[n].original===e)&&i.splice(n,1);else this._events[t]=[];return this}};function Lb(s){return typeof s=="function"}function Rb(s){return typeof s=="string"?[s]:s}function yD(){this._defaultPrevented=!0}function bD(){return this._defaultPrevented===!0}var Fp=l6;var c6=s=>{let t=typeof window<"u"?window:{},e=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(i){setTimeout(i,1e3/60)};c6=i=>e.call(t,i),c6(s)},ql=c6;var _D=/&/g,wD=/</g,CD=/"/g,SD=/'/g,MD=/>/g;function Yi(s){return String(s).replace(_D,"&amp;").replace(wD,"&lt;").replace(MD,"&gt;").replace(CD,"&quot;").replace(SD,"&#39;")}function Zo(s){let t=window.console;typeof t<"u"&&t.log&&t.log(s)}function AD(s){let t={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+))/i},e={};for(let i in t)if(t.hasOwnProperty(i)){let n=s.match(t[i]);if(n){e[i]=!0,e[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,e.version=parseInt(document.documentMode||n[2],10);break}}return e}var jp=null,TD={get browser(){return typeof window>"u"||jp||(jp=AD(window.navigator.userAgent)),jp}},Xi=TD;var ID=Date.now||function(){return new Date().getTime()},Ko=ID;function Un(s,t){let e=0,i;if(!t||t<=0)return s;let n=function(){let o=Ko()-e,r=arguments,a=function(){s.apply(null,r),e=Ko()};if(!e)return a();i&&clearTimeout(i),o>t?a():i=setTimeout(a,t-o)};return n.cancel=function(){clearTimeout(i)},n}var zD={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},Yl=zD;var Ob=Xi.browser,Bb=s=>{let t=Object.keys(Yl);t.push("transparent");let e=new RegExp("^("+t.join("|")+")(\\W|$)","i");return Bb=i=>e.exec(i),e.exec(s)},Xl=class extends z{constructor(){super()}toHSV(){return this}toRGB(){return this}toHex(t){return this.toBytes().toHex(t)}toBytes(){return this}toCss(t){return"#"+this.toHex(t)}toCssRgba(){let t=this.toBytes();return`rgba(${t.r}, ${t.g}, ${t.b}, ${parseFloat(Number(this.a).toFixed(3))})`}toDisplay(){return Ob.msie&&Ob.version<9?this.toCss():this.toCssRgba()}equals(t){return t===this||t!=null&&this.toCssRgba()===eo(t).toCssRgba()}diff(t){if(t===null)return NaN;let e=this.toBytes(),i=t.toBytes();return Math.sqrt(Math.pow((e.r-i.r)*.3,2)+Math.pow((e.g-i.g)*.59,2)+Math.pow((e.b-i.b)*.11,2))}clone(){let t=this.toBytes();return t===this&&(t=new vn(t.r,t.g,t.b,t.a)),t}},Gn=class extends Xl{constructor(t,e,i,n){super(),this.r=t,this.g=e,this.b=i,this.a=n}toHSV(){let{r:t,g:e,b:i}=this,n=Math.min(t,e,i),o=Math.max(t,e,i),r=o-n,a=o,l,c;return r===0?new $l(0,0,a,this.a):(o!==0?(c=r/o,t===o?l=(e-i)/r:e===o?l=2+(i-t)/r:l=4+(t-e)/r,l*=60,l<0&&(l+=360)):(c=0,l=-1),new $l(l,c,a,this.a))}toHSL(){let{r:t,g:e,b:i}=this,n=Math.max(t,e,i),o=Math.min(t,e,i),r,a,l=(n+o)/2;if(n===o)r=a=0;else{let c=n-o;switch(a=l>.5?c/(2-n-o):c/(n+o),n){case t:r=(e-i)/c+(e<i?6:0);break;case e:r=(i-t)/c+2;break;case i:r=(t-e)/c+4;break;default:break}}return new Jh(r*60,a*100,l*100,this.a)}toBytes(){return new vn(this.r*255,this.g*255,this.b*255,this.a)}},vn=class extends Gn{constructor(t,e,i,n){super(Math.round(t),Math.round(e),Math.round(i),n)}toRGB(){return new Gn(this.r/255,this.g/255,this.b/255,this.a)}toHSV(){return this.toRGB().toHSV()}toHSL(){return this.toRGB().toHSL()}toHex(t){let e=Up(this.r,2)+Up(this.g,2)+Up(this.b,2);return t&&t.alpha&&(e+=Up(Math.round(this.a*255),2)),e}toBytes(){return this}};function Up(s,t,e="0"){let i=s.toString(16);for(;t>i.length;)i=e+i;return i}var $l=class extends Xl{constructor(t,e,i,n){super(),this.h=t,this.s=e,this.v=i,this.a=n}toRGB(){let{h:t,s:e,v:i}=this,n,o,r;if(e===0)n=o=r=i;else{t/=60;let a=Math.floor(t),l=t-a,c=i*(1-e),h=i*(1-e*l),d=i*(1-e*(1-l));switch(a){case 0:n=i,o=d,r=c;break;case 1:n=h,o=i,r=c;break;case 2:n=c,o=i,r=d;break;case 3:n=c,o=h,r=i;break;case 4:n=d,o=c,r=i;break;default:n=i,o=c,r=h;break}}return new Gn(n,o,r,this.a)}toHSL(){return this.toRGB().toHSL()}toBytes(){return this.toRGB().toBytes()}},Jh=class extends Xl{constructor(t,e,i,n){super(),this.h=t,this.s=e,this.l=i,this.a=n}toRGB(){let t=this.h/360,e=this.s/100,i=this.l/100,n,o,r;if(e===0)n=o=r=i;else{let a=i<.5?i*(1+e):i+e-i*e,l=2*i-a;n=h6(l,a,t+1/3),o=h6(l,a,t),r=h6(l,a,t-1/3)}return new Gn(n,o,r,this.a)}toHSV(){return this.toRGB().toHSV()}toBytes(){return this.toRGB().toBytes()}};function h6(s,t,e){let i=e;return i<0&&(i+=1),i>1&&(i-=1),i<1/6?s+(t-s)*6*i:i<1/2?t:i<2/3?s+(t-s)*(2/3-i)*6:s}function Vb(s){return parseFloat(parseFloat(parseInt(s,16)/255).toFixed(3))}function eo(s,t){let e,i;if(s==null||s==="none")return null;if(s instanceof Xl)return s;let n=s.toLowerCase();if(e=Bb(n))return e[1]==="transparent"?n=new Gn(1,1,1,0):n=eo(Yl[e[1]],t),n.match=[e[1]],n;if((e=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(n))?i=new vn(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1):(e=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(n))?i=new vn(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),1):(e=/^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(n))?i=new vn(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),Vb(e[4]+e[4])):(e=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(n))?i=new vn(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),Vb(e[4])):(e=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(n))?i=new vn(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),1):(e=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(n))?i=new vn(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4])):(e=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(n))?i=new Gn(parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])/100,1):(e=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(n))&&(i=new Gn(parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])/100,parseFloat(e[4]))),i)i.match=e;else if(!t)throw new Error("Cannot parse color: "+n);return i}var ED=180,kD=(()=>{class s extends z{constructor(e){if(super(),arguments.length===1){let i=s.formats,n=this.resolveColor(e);for(let o=0;o<i.length;o++){let r=i[o].re,a=i[o].process,l=r.exec(n);if(l){let c=a(l);this.r=c[0],this.g=c[1],this.b=c[2]}}}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)}toHex(){let e=this.padDigit,i=this.r.toString(16),n=this.g.toString(16),o=this.b.toString(16);return"#"+e(i)+e(n)+e(o)}resolveColor(e){let i=e||"black";return i.charAt(0)==="#"&&(i=i.substr(1,6)),i=i.replace(/ /g,""),i=i.toLowerCase(),i=s.namedColors[i]||i,i}normalizeByte(e){return e<0||isNaN(e)?0:e>255?255:e}padDigit(e){return e.length===1?"0"+e:e}brightness(e){let i=Math.round;return this.r=i(this.normalizeByte(this.r*e)),this.g=i(this.normalizeByte(this.g*e)),this.b=i(this.normalizeByte(this.b*e)),this}percBrightness(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}isDark(){return this.percBrightness()<ED}static fromBytes(e,i,n,o){return new vn(e,i,n,o??1)}static fromRGB(e,i,n,o){return new Gn(e,i,n,o??1)}static fromHSV(e,i,n,o){return new $l(e,i,n,o??1)}static fromHSL(e,i,n,o){return new Jh(e,i,n,o??1)}}return s.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],s.namedColors=Yl,s})(),Oe=kD;var d6=class extends z{observers(){return this._observers=this._observers||[],this._observers}addObserver(t){return this._observers?this._observers.push(t):this._observers=[t],this}removeObserver(t){let e=this.observers(),i=e.indexOf(t);return i!==-1&&e.splice(i,1),this}trigger(t,e){let i=this._observers;if(i&&!this._suspended)for(let n=0;n<i.length;n++){let o=i[n];o[t]&&o[t](e)}return this}optionsChange(t={}){t.element=this,this.trigger("optionsChange",t)}geometryChange(){this.trigger("geometryChange",{element:this})}suspend(){return this._suspended=(this._suspended||0)+1,this}resume(){return this._suspended=Math.max((this._suspended||0)-1,0),this}_observerField(t,e){this[t]&&this[t].removeObserver(this),this[t]=e,e.addObserver(this)}},te=d6;var x6={};yl(x6,{DEG_TO_RAD:()=>t2,LRUCache:()=>Wp,MAX_NUM:()=>tr,MIN_NUM:()=>er,TextMetrics:()=>qp,append:()=>xs,arabicToRoman:()=>p6,bindEvents:()=>va,createPromise:()=>ys,defined:()=>U,definitionId:()=>Jo,deg:()=>$i,elementOffset:()=>o2,elementPadding:()=>r2,elementScale:()=>l2,elementSize:()=>no,elementStyles:()=>io,encodeBase64:()=>e2,eventCoordinates:()=>i2,eventElement:()=>n2,hashKey:()=>g6,isTransparent:()=>xn,last:()=>ue,limitValue:()=>ir,measureText:()=>d2,mergeSort:()=>u6,normalizeText:()=>c2,now:()=>Ko,objectKey:()=>f6,promiseAll:()=>s2,rad:()=>ni,round:()=>Ct,unbindEvents:()=>xa,valueOrDefault:()=>nr});function xs(s,t){return s.push.apply(s,t),s}var DD={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function p6(s){let t=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],e="";for(;s>0;)s<t[0]?t.shift():(e+=DD[t[0]],s-=t[0]);return e}function ys(){let s,t,e=new Promise((i,n)=>{s=o=>(e._state="resolved",i(o),e),t=o=>(e._state="rejected",n(o),e)});return e._state="pending",e.resolve=s,e.reject=t,e.state=()=>e._state,e}var PD="undefined";function U(s){return typeof s!==PD}var LD=1;function Jo(){return"kdef"+LD++}var t2=Math.PI/180,tr=Number.MAX_VALUE,er=-Number.MAX_VALUE;function $i(s){return s/t2}var bs=String.fromCharCode;function Hb(s){let t="";for(let e=0;e<s.length;e++){let i=s.charCodeAt(e);if(55296<=i&&i<=56319){let n=i,o=s.charCodeAt(++e);isNaN(o)||(i=(n-55296)*1024+(o-56320)+65536)}i<128?t+=bs(i):i<2048?(t+=bs(192|i>>>6),t+=bs(128|i&63)):i<65536?(t+=bs(224|i>>>12),t+=bs(128|i>>>6&63),t+=bs(128|i&63)):i<1114111&&(t+=bs(240|i>>>18),t+=bs(128|i>>>12&63),t+=bs(128|i>>>6&63),t+=bs(128|i&63))}return t}var Gp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function e2(s){let t="",e=0,i=Hb(s);for(;e<i.length;){let n=i.charCodeAt(e++),o=i.charCodeAt(e++),r=i.charCodeAt(e++),a=n>>2,l=(n&3)<<4|o>>4,c=(o&15)<<2|r>>6,h=r&63;isNaN(o)?c=h=64:isNaN(r)&&(h=64),t=t+Gp.charAt(a)+Gp.charAt(l)+Gp.charAt(c)+Gp.charAt(h)}return t}function i2(s){return U((s.x||{}).location)?{x:s.x.location,y:s.y.location}:{x:s.pageX||s.clientX||0,y:s.pageY||s.clientY||0}}function n2(s={}){return s.touch?s.touch.initialTouch:s.target}function xn(s){return s===""||s===null||s==="none"||s==="transparent"||!U(s)}function ue(s){if(s)return s[s.length-1]}function ir(s,t,e){return Math.max(Math.min(s,e),t)}function u6(s,t){if(s.length<2)return s.slice();function e(i,n){for(var o=[],r=0,a=0,l=0;r<i.length&&a<n.length;)t(i[r],n[a])<=0?o[l++]=i[r++]:o[l++]=n[a++];return r<i.length&&o.push.apply(o,i.slice(r)),a<n.length&&o.push.apply(o,n.slice(a)),o}return function i(n){if(n.length<=1)return n;var o=Math.floor(n.length/2),r=n.slice(0,o),a=n.slice(o);return r=i(r),a=i(a),e(r,a)}(s)}function s2(s){return Promise.all(s)}function ni(s){return s*t2}function RD(s){return s?Math.pow(10,s):1}function Ct(s,t){let e=RD(t);return Math.round(s*e)/e}function nr(s,t){return U(s)?s:t}function va(s,t){for(let e in t){let i=e.trim().split(" ");for(let n=0;n<i.length;n++)s.addEventListener(i[n],t[e],!1)}}function o2(s){let t=s.getBoundingClientRect(),e=document.documentElement;return{top:t.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}}function io(s,t){let e={},i=window.getComputedStyle(s)||{},n=Array.isArray(t)?t:[t];for(let o=0;o<n.length;o++){let r=n[o];e[r]=i[r]}return e}function Nb(s){return isNaN(s)?s:s+"px"}function no(s,t){if(t){let{width:e,height:i}=t;U(e)&&(s.style.width=Nb(e)),U(i)&&(s.style.height=Nb(i))}else{let e=io(s,["width","height"]);return{width:parseInt(e.width,10),height:parseInt(e.height,10)}}}function xa(s,t={}){for(let e in t){let i=e.trim().split(" ");for(let n=0;n<i.length;n++)s.removeEventListener(i[n],t[e],!1)}}function r2(s){let{paddingLeft:t,paddingTop:e}=io(s,["paddingLeft","paddingTop"]);return{top:parseFloat(e),left:parseFloat(t)}}var a2=class s extends z{constructor(t=0,e=0,i=0,n=0,o=0,r=0){super(),this.a=t,this.b=e,this.c=i,this.d=n,this.e=o,this.f=r}multiplyCopy(t){return new s(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)}invert(){let{a:t,b:e,c:i,d:n,e:o,f:r}=this,a=t*n-e*i;return a===0?null:new s(n/a,-e/a,-i/a,t/a,(i*r-n*o)/a,(e*o-t*r)/a)}clone(){return new s(this.a,this.b,this.c,this.d,this.e,this.f)}equals(t){return t?this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f:!1}round(t){return this.a=Ct(this.a,t),this.b=Ct(this.b,t),this.c=Ct(this.c,t),this.d=Ct(this.d,t),this.e=Ct(this.e,t),this.f=Ct(this.f,t),this}toArray(t){let e=[this.a,this.b,this.c,this.d,this.e,this.f];if(U(t))for(let i=0;i<e.length;i++)e[i]=Ct(e[i],t);return e}toString(t,e=","){return this.toArray(t).join(e)}static translate(t,e){return new s(1,0,0,1,t,e)}static unit(){return new s(1,0,0,1,0,0)}static rotate(t,e,i){let n=new s;return n.a=Math.cos(ni(t)),n.b=Math.sin(ni(t)),n.c=-n.b,n.d=n.a,n.e=e-e*n.a+i*n.b||0,n.f=i-i*n.a-e*n.b||0,n}static scale(t,e){return new s(t,0,0,e,0,0)}};a2.IDENTITY=a2.unit();var Ve=a2;var OD=/matrix\((.*)\)/;function VD(s){let t=s.match(OD);if(t===null||t.length!==2)return Ve.unit();let e=t[1].split(",").map(i=>parseFloat(i));return new Ve(...e)}function Fb(s){let t=getComputedStyle(s).transform;return t==="none"?Ve.unit():VD(t)}function l2(s){if(!s)return Ve.unit();let t=Fb(s),e=s.parentElement;for(;e;){let i=Fb(e);t=t.multiplyCopy(i),e=e.parentElement}return t.b=t.c=t.e=t.f=0,t}var m6=class extends z{constructor(t){super(),this._size=t,this._length=0,this._map={}}put(t,e){let i=this._map,n={key:t,value:e};i[t]=n,this._head?(this._tail.newer=n,n.older=this._tail,this._tail=n):this._head=this._tail=n,this._length>=this._size?(i[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++}get(t){let e=this._map[t];if(e)return e===this._head&&e!==this._tail&&(this._head=e.newer,this._head.older=null),e!==this._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=this._tail,e.newer=null,this._tail.newer=e,this._tail=e),e.value}},Wp=m6;var BD=/\r?\n|\r|\t/g,HD=" ";function c2(s){return String(s).replace(BD,HD)}function f6(s){let t=[];for(let e in s)t.push(e+s[e]);return t.sort().join("")}function g6(s){let t=2166136261;for(let e=0;e<s.length;++e)t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t^=s.charCodeAt(e);return t>>>0}function jb(){return{width:0,height:0,baseline:0}}var ND={baselineMarkerSize:1},v6;typeof document<"u"&&(v6=document.createElement("div"),v6.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");var h2=class extends z{constructor(t){super(),this._cache=new Wp(1e3),this.options=Object.assign({},ND,t)}measure(t,e,i={}){if(typeof t>"u"||t===null)return jb();let n=f6(e),o=g6(t+n),r=this._cache.get(o);if(r)return r;let a=jb(),l=i.box||v6,c=this._baselineMarker().cloneNode(!1);for(let d in e){let p=e[d];typeof p<"u"&&(l.style[d]=p)}let h=i.normalizeText!==!1?c2(t):String(t);return l.textContent=h,l.appendChild(c),document.body.appendChild(l),h.length&&(a.width=l.offsetWidth-this.options.baselineMarkerSize,a.height=l.offsetHeight,a.baseline=c.offsetTop+this.options.baselineMarkerSize),a.width>0&&a.height>0&&this._cache.put(o,a),l.parentNode.removeChild(l),a}_baselineMarker(){let t=document.createElement("div");return t.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",t}};h2.current=new h2;var qp=h2;function d2(s,t,e){return qp.current.measure(s,t,e)}var FD={}.toString,y6=class s extends te{constructor(t,e=""){super(),this.prefix=e;for(let i in t){let n=t[i];n=this._wrap(n,i),this[i]=n}}get(t){let e=t.split("."),i=this;for(;e.length&&i;){let n=e.shift();i=i[n]}return i}set(t,e){this.get(t)!==e&&(this._set(t,this._wrap(e,t)),this.optionsChange({field:this.prefix+t,value:e}))}_set(t,e){let i=t.indexOf(".")>=0,n=this,o=t;if(i){let r=o.split("."),a=this.prefix;for(;r.length>1;){o=r.shift(),a+=o+".";let l=n[o];l||(l=new s({},a),l.addObserver(this),n[o]=l),n=l}o=r[0]}n._clear(o),n[o]=e}_clear(t){let e=this[t];e&&e.removeObserver&&e.removeObserver(this)}_wrap(t,e){let i=FD.call(t),n=t;return n!==null&&U(n)&&i==="[object Object]"&&(!(t instanceof s)&&!(t instanceof z)&&(n=new s(n,this.prefix+e+".")),n.addObserver(this)),n}},Ql=y6;function jD(s){return function(t){return this[s]!==t&&(this[s]=t,this.geometryChange()),this}}function UD(s){return function(){return this[s]}}function GD(s,t){for(let e=0;e<t.length;e++){let i=t[e],n=i.charAt(0).toUpperCase()+i.substring(1,i.length);s["set"+n]=jD(i),s["get"+n]=UD(i)}}var WD=(s,t)=>{let e=class extends s{};return GD(e.prototype,t),e},sr=WD;function si(s){return s&&typeof s.matrix=="function"?s.matrix():s}var b6=class s extends sr(te,["x","y"]){constructor(t,e){super(),this.x=t||0,this.y=e||0}equals(t){return t&&t.x===this.x&&t.y===this.y}clone(){return new s(this.x,this.y)}rotate(t,e){let i=s.create(e)||s.ZERO;return this.transform(Ve.rotate(t,i.x,i.y))}translate(t,e){return this.x+=t,this.y+=e,this.geometryChange(),this}translateWith(t){return this.translate(t.x,t.y)}move(t,e){return this.x=this.y=0,this.translate(t,e)}scale(t,e=t){return this.x*=t,this.y*=e,this.geometryChange(),this}scaleCopy(t,e){return this.clone().scale(t,e)}transform(t){let e=si(t),{x:i,y:n}=this;return this.x=e.a*i+e.c*n+e.e,this.y=e.b*i+e.d*n+e.f,this.geometryChange(),this}transformCopy(t){let e=this.clone();return t&&e.transform(t),e}distanceTo(t){let e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)}round(t){return this.x=Ct(this.x,t),this.y=Ct(this.y,t),this.geometryChange(),this}toArray(t){let e=U(t),i=e?Ct(this.x,t):this.x,n=e?Ct(this.y,t):this.y;return[i,n]}toString(t,e=" "){let{x:i,y:n}=this;return U(t)&&(i=Ct(i,t),n=Ct(n,t)),i+e+n}static create(t,e){if(U(t))return t instanceof s?t:arguments.length===1&&t.length===2?new s(t[0],t[1]):new s(t,e)}static min(){let t=tr,e=tr;for(let i=0;i<arguments.length;i++){let n=arguments[i];t=Math.min(n.x,t),e=Math.min(n.y,e)}return new s(t,e)}static max(){let t=er,e=er;for(let i=0;i<arguments.length;i++){let n=arguments[i];t=Math.max(n.x,t),e=Math.max(n.y,e)}return new s(t,e)}static minPoint(){return new s(er,er)}static maxPoint(){return new s(tr,tr)}static get ZERO(){return new s(0,0)}},G=b6;var _6=class s extends sr(te,["width","height"]){constructor(t,e){super(),this.width=t||0,this.height=e||0}equals(t){return t&&t.width===this.width&&t.height===this.height}clone(){return new s(this.width,this.height)}toArray(t){let e=U(t),i=e?Ct(this.width,t):this.width,n=e?Ct(this.height,t):this.height;return[i,n]}static create(t,e){if(U(t))return t instanceof s?t:arguments.length===1&&t.length===2?new s(t[0],t[1]):new s(t,e)}static get ZERO(){return new s(0,0)}},_s=_6;var w6=class s extends te{constructor(t=new G,e=new _s,i=0){super(),this.setOrigin(t),this.setSize(e),this.setCornerRadius(i)}clone(){return new s(this.origin.clone(),this.size.clone())}equals(t){return t&&t.origin.equals(this.origin)&&t.size.equals(this.size)}setOrigin(t){return this._observerField("origin",G.create(t)),this.geometryChange(),this}getOrigin(){return this.origin}setCornerRadius(t){return this.cornerRadius=Array.isArray(t)?t:[t,t],this.geometryChange(),this}getCornerRadius(){return this.cornerRadius}setSize(t){return this._observerField("size",_s.create(t)),this.geometryChange(),this}getSize(){return this.size}width(){return this.size.width}height(){return this.size.height}topLeft(){return this.origin.clone()}bottomRight(){return this.origin.clone().translate(this.width(),this.height())}topRight(){return this.origin.clone().translate(this.width(),0)}bottomLeft(){return this.origin.clone().translate(0,this.height())}center(){return this.origin.clone().translate(this.width()/2,this.height()/2)}bbox(t){let e=this.topLeft().transformCopy(t),i=this.topRight().transformCopy(t),n=this.bottomRight().transformCopy(t),o=this.bottomLeft().transformCopy(t);return s.fromPoints(e,i,n,o)}transformCopy(t){return s.fromPoints(this.topLeft().transform(t),this.bottomRight().transform(t))}expand(t,e=t){return this.size.width+=2*t,this.size.height+=2*e,this.origin.translate(-t,-e),this}expandCopy(t,e){return this.clone().expand(t,e)}containsPoint(t){let e=this.origin,i=this.bottomRight();return!(t.x<e.x||t.y<e.y||i.x<t.x||i.y<t.y)}_isOnPath(t,e){let i=this.expandCopy(e,e),n=this.expandCopy(-e,-e);return i.containsPoint(t)&&!n.containsPoint(t)}static fromPoints(){let t=G.min.apply(null,arguments),e=G.max.apply(null,arguments),i=new _s(e.x-t.x,e.y-t.y);return new s(t,i)}static union(t,e){return s.fromPoints(G.min(t.topLeft(),e.topLeft()),G.max(t.bottomRight(),e.bottomRight()))}static intersect(t,e){let i={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y},n={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y};if(i.left<=n.right&&n.left<=i.right&&i.top<=n.bottom&&n.top<=i.bottom)return s.fromPoints(new G(Math.max(i.left,n.left),Math.max(i.top,n.top)),new G(Math.min(i.right,n.right),Math.min(i.bottom,n.bottom)))}},Rt=w6;var C6=class s extends te{constructor(t=Ve.unit()){super(),this._matrix=t}clone(){return new s(this._matrix.clone())}equals(t){return t&&t._matrix.equals(this._matrix)}translate(t,e){return this._matrix=this._matrix.multiplyCopy(Ve.translate(t,e)),this._optionsChange(),this}scale(t,e=t,i=null){let n=i;return n&&(n=G.create(n),this._matrix=this._matrix.multiplyCopy(Ve.translate(n.x,n.y))),this._matrix=this._matrix.multiplyCopy(Ve.scale(t,e)),n&&(this._matrix=this._matrix.multiplyCopy(Ve.translate(-n.x,-n.y))),this._optionsChange(),this}rotate(t,e){let i=G.create(e)||G.ZERO;return this._matrix=this._matrix.multiplyCopy(Ve.rotate(t,i.x,i.y)),this._optionsChange(),this}multiply(t){let e=si(t);return this._matrix=this._matrix.multiplyCopy(e),this._optionsChange(),this}matrix(t){return t?(this._matrix=t,this._optionsChange(),this):this._matrix}_optionsChange(){this.optionsChange({field:"transform",value:this})}},p2=C6;function $t(s){return s===null?null:s instanceof p2?s:new p2(s)}var S6=class extends te{get nodeType(){return"Rect"}constructor(t){super(),this._initOptions(t)}_initOptions(t={}){let{clip:e,transform:i}=t;i&&(t.transform=$t(i)),e&&!e.id&&(e.id=Jo()),this.options=new Ql(t),this.options.addObserver(this)}transform(t){if(U(t))this.options.set("transform",$t(t));else return this.options.get("transform")}parentTransform(){let t=this,e;for(;t.parent;){t=t.parent;let i=t.transform();i&&(e=i.matrix().multiplyCopy(e||Ve.unit()))}if(e)return $t(e)}currentTransform(t=this.parentTransform()){let e=this.transform(),i=si(e),n=si(t),o;if(i&&n?o=n.multiplyCopy(i):o=i||n,o)return $t(o)}visible(t){return U(t)?(this.options.set("visible",t),this):this.options.get("visible")!==!1}clip(t){let e=this.options;return U(t)?(t&&!t.id&&(t.id=Jo()),e.set("clip",t),this):e.get("clip")}opacity(t){return U(t)?(this.options.set("opacity",t),this):nr(this.options.get("opacity"),1)}className(t){return U(t)?(this.options.set("className",t),this):this.options.get("className")}clippedBBox(t){let e=this._clippedBBox(t);if(e){let i=this.clip();return i?Rt.intersect(e,i.bbox(t)):e}}containsPoint(t,e){if(this.visible()){let i=this.currentTransform(e),n=t;return i&&(n=t.transformCopy(i.matrix().invert())),this._hasFill()&&this._containsPoint(n)||this._isOnPath&&this._hasStroke()&&this._isOnPath(n)}return!1}_hasFill(){let t=this.options.fill;return t&&!xn(t.color)}_hasStroke(){let t=this.options.stroke;return t&&t.width>0&&!xn(t.color)}_clippedBBox(t){return this.bbox(t)}},Ge=S6;function u2(s,t,e,i){let n=0,o=0;return i&&(n=Math.atan2(i.c*e,i.a*t),i.b!==0&&(o=Math.atan2(i.d*e,i.b*t))),{x:n,y:o}}var Ub=Math.PI/2,M6=class s extends sr(te,["radius"]){constructor(t=new G,e=0){super(),this.setCenter(t),this.setRadius(e)}setCenter(t){return this._observerField("center",G.create(t)),this.geometryChange(),this}getCenter(){return this.center}equals(t){return t&&t.center.equals(this.center)&&t.radius===this.radius}clone(){return new s(this.center.clone(),this.radius)}pointAt(t){return this._pointAt(ni(t))}bbox(t){let e=u2(this.center,this.radius,this.radius,t),i=G.maxPoint(),n=G.minPoint();for(let o=0;o<4;o++){let r=this._pointAt(e.x+o*Ub).transformCopy(t),a=this._pointAt(e.y+o*Ub).transformCopy(t),l=new G(r.x,a.y);i=G.min(i,l),n=G.max(n,l)}return Rt.fromPoints(i,n)}_pointAt(t){let{center:e,radius:i}=this;return new G(e.x+i*Math.cos(t),e.y+i*Math.sin(t))}containsPoint(t){let{center:e,radius:i}=this;return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(i,2)}_isOnPath(t,e){let{center:i,radius:n}=this,o=i.distanceTo(t);return n-e<=o&&o<=n+e}},Yp=M6;var qD="Gradient",YD=s=>class extends s{fill(t,e){let i=this.options;if(U(t)){if(t&&t.nodeType!==qD){let n={color:t};U(e)&&(n.opacity=e),i.set("fill",n)}else i.set("fill",t);return this}return i.get("fill")}stroke(t,e,i){return U(t)?(this.options.set("stroke.color",t),U(e)&&this.options.set("stroke.width",e),U(i)&&this.options.set("stroke.opacity",i),this):this.options.get("stroke")}},Wn=YD;var XD=Ve.IDENTITY.toString(),$D=s=>class extends s{bbox(t){let e=si(this.currentTransform(t)),i=e?e.toString():XD,n;this._bboxCache&&this._matrixHash===i?n=this._bboxCache.clone():(n=this._bbox(e),this._bboxCache=n?n.clone():null,this._matrixHash=i);let o=this.options.get("stroke.width");return o&&n&&n.expand(o/2),n}geometryChange(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}},so=$D;function QD(s){let t="_"+s;return function(e){return U(e)?(this._observerField(t,e),this.geometryChange(),this):this[t]}}function ZD(s,t){for(let e=0;e<t.length;e++)s[t[e]]=QD(t[e])}var KD=(s,t=["geometry"])=>{let e=class extends s{};return ZD(e.prototype,t),e},or=KD;var JD="#000",A6=class extends Wn(so(or(Ge))){get nodeType(){return"Circle"}constructor(t=new Yp,e={}){super(e),this.geometry(t),U(this.options.stroke)||this.stroke(JD)}rawBBox(){return this._geometry.bbox()}_bbox(t){return this._geometry.bbox(t)}_containsPoint(t){return this.geometry().containsPoint(t)}_isOnPath(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)}},Gb=A6;function m2(s,t,e=10){return Ct(Math.abs(s-t),e)===0}function f2(s,t,e){return s<t||m2(s,t,e)}function T6(s,t,e,i){let n=t.x-s.x,o=i.x-e.x,r=t.y-s.y,a=i.y-e.y,l=s.x-e.x,c=s.y-e.y,h=n*a-o*r,d=(n*c-r*l)/h,p=(o*c-a*l)/h;if(d>=0&&d<=1&&p>=0&&p<=1)return new G(s.x+p*n,s.y+p*r)}var tP=45,Xp=Math.pow,eP=["radiusX","radiusY","startAngle","endAngle","anticlockwise"],I6=class s extends sr(te,eP){constructor(t=new G,e={}){super(),this.setCenter(t),this.radiusX=e.radiusX,this.radiusY=e.radiusY||e.radiusX,this.startAngle=e.startAngle,this.endAngle=e.endAngle,this.anticlockwise=e.anticlockwise||!1,this.xRotation=e.xRotation}clone(){return new s(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})}setCenter(t){return this._observerField("center",G.create(t)),this.geometryChange(),this}getCenter(){return this.center}pointAt(t){let e=this.center,i=ni(t);return new G(e.x+this.radiusX*Math.cos(i),e.y+this.radiusY*Math.sin(i))}curvePoints(){let t=this.startAngle,e=this.anticlockwise?-1:1,i=[this.pointAt(t)],n=this._arcInterval(),o=n.endAngle-n.startAngle,r=Math.ceil(o/tP),a=o/r,l=t,c;this.xRotation&&(c=$t().rotate(this.xRotation,this.center));for(let h=1;h<=r;h++){let d=l+e*a,p=this._intervalCurvePoints(l,d,c);i.push(p.cp1,p.cp2,p.p2),l=d}return i}bbox(t){let e=this._arcInterval(),i=e.startAngle,n=e.endAngle,o=u2(this.center,this.radiusX,this.radiusY,t),r=$i(o.x),a=$i(o.y),l=this.pointAt(n).transformCopy(t),c=qb(r,i),h=qb(a,i),d=this.pointAt(i).transformCopy(t),p=G.min(d,l),u=G.max(d,l);for(;c<n||h<n;){let m;c<n&&(m=this.pointAt(c).transformCopy(t),c+=90);let f;h<n&&(f=this.pointAt(h).transformCopy(t),h+=90),d=new G(m.x,f.y),p=G.min(p,d),u=G.max(u,d)}return Rt.fromPoints(p,u)}_arcInterval(){let{startAngle:t,endAngle:e,anticlockwise:i}=this;if(i){let n=t;t=e,e=n}return(t>e||i&&t===e)&&(e+=360),{startAngle:t,endAngle:e}}_intervalCurvePoints(t,e,i){let n=this.pointAt(t),o=this.pointAt(e),r=this._derivativeAt(t),a=this._derivativeAt(e),l=(ni(e)-ni(t))/3,c=new G(n.x+l*r.x,n.y+l*r.y),h=new G(o.x-l*a.x,o.y-l*a.y);return i&&(n.transform(i),o.transform(i),c.transform(i),h.transform(i)),{p1:n,cp1:c,cp2:h,p2:o}}_derivativeAt(t){let e=ni(t);return new G(-this.radiusX*Math.sin(e),this.radiusY*Math.cos(e))}containsPoint(t){let e=this._arcInterval(),i=e.endAngle-e.startAngle,{center:n,radiusX:o,radiusY:r}=this,a=n.distanceTo(t),l=Math.atan2(t.y-n.y,t.x-n.x),c=o*r/Math.sqrt(Xp(o,2)*Xp(Math.sin(l),2)+Xp(r,2)*Xp(Math.cos(l),2)),h=this.pointAt(this.startAngle).round(10),d=this.pointAt(this.endAngle).round(10),p=T6(n,t.round(10),h,d),u;if(i<180)u=p&&f2(n.distanceTo(p),a)&&f2(a,c);else{let m=Wb(n.x,n.y,o,r,t.x,t.y);m!==360&&(m=(360+m)%360);let f=e.startAngle<=m&&m<=e.endAngle;u=f&&f2(a,c)||!f&&(!p||p.equals(t))}return u}_isOnPath(t,e){let i=this._arcInterval(),n=this.center,o=Wb(n.x,n.y,this.radiusX,this.radiusY,t.x,t.y);return o!==360&&(o=(360+o)%360),i.startAngle<=o&&o<=i.endAngle&&this.pointAt(o).distanceTo(t)<=e}static fromPoints(t,e,i,n,o,r,a){let l=iP({x1:t.x,y1:t.y,x2:e.x,y2:e.y,rx:i,ry:n,largeArc:o,swipe:r,rotation:a});return new s(l.center,{startAngle:l.startAngle,endAngle:l.endAngle,radiusX:l.radiusX,radiusY:l.radiusY,xRotation:l.xRotation,anticlockwise:r===0})}};function Wb(s,t,e,i,n,o){let r=Ct((n-s)/e,3),a=Ct((o-t)/i,3);return Ct($i(Math.atan2(a,r)))}function iP(s){let{x1:t,y1:e,x2:i,y2:n,rx:o,ry:r,largeArc:a,swipe:l,rotation:c=0}=s,h=ni(c),d=Math.cos(h),p=Math.sin(h),u=d*(t-i)/2+p*(e-n)/2,m=-p*(t-i)/2+d*(e-n)/2,f=a!==l?1:-1,g=Math.pow(u,2),x=Math.pow(m,2),y=Math.pow(o,2),C=Math.pow(r,2),S=g/y+x/C;S>1&&(S=Math.sqrt(g/y+x/C),o=S*o,y=Math.pow(o,2),r=S*r,C=Math.pow(r,2));let w=f*Math.sqrt((y*C-y*x-C*g)/(y*x+C*g));isNaN(w)&&(w=0);let I=w*(o*m)/r,D=-w*(r*u)/o,E=d*I-p*D+(t+i)/2,F=p*I+d*D+(e+n)/2,Q=(u-I)/o,st=(m-D)/r,ht=-(u+I)/o,Ut=-(m+D)/r,Se=(st>=0?1:-1)*$i(Math.acos(Q/Math.sqrt(Q*Q+st*st))),zt=Ct((Q*ht+st*Ut)/(Math.sqrt(Q*Q+st*st)*Math.sqrt(ht*ht+Ut*Ut)),10),O=(Q*Ut-st*ht>=0?1:-1)*$i(Math.acos(zt));!l&&O>0&&(O-=360),l&&O<0&&(O+=360);let j=Se+O,ot=j>=0?1:-1;return j=Math.abs(j)%360*ot,{center:new G(E,F),startAngle:Se,endAngle:j,radiusX:o,radiusY:r,xRotation:c}}function qb(s,t){let e=s;for(;e<t;)e+=90;return e}var ya=I6;var nP=[].push,sP=[].pop,oP=[].splice,rP=[].shift,Yb=[].slice,aP=[].unshift,z6=class extends te{constructor(t=[]){super(),this.length=0,this._splice(0,t.length,t)}elements(t){return t?(this._splice(0,this.length,t),this._change(),this):this.slice(0)}push(){let t=arguments,e=nP.apply(this,t);return this._add(t),e}slice(){return Yb.call(this)}pop(){let t=this.length,e=sP.apply(this);return t&&this._remove([e]),e}splice(t,e){let i=Yb.call(arguments,2),n=this._splice(t,e,i);return this._change(),n}shift(){let t=this.length,e=rP.apply(this);return t&&this._remove([e]),e}unshift(){let t=arguments,e=aP.apply(this,t);return this._add(t),e}indexOf(t){let e=this.length;for(let i=0;i<e;i++)if(this[i]===t)return i;return-1}_splice(t,e,i){let n=oP.apply(this,[t,e].concat(i));return this._clearObserver(n),this._setObserver(i),n}_add(t){this._setObserver(t),this._change()}_remove(t){this._clearObserver(t),this._change()}_setObserver(t){for(let e=0;e<t.length;e++)t[e].addObserver(this)}_clearObserver(t){for(let e=0;e<t.length;e++)t[e].removeObserver(this)}_change(){}},$p=z6;var E6=class extends $p{_change(){this.geometryChange()}},k6=E6;var T={};yl(T,{Arc:()=>ya,Circle:()=>Yp,Matrix:()=>Ve,Point:()=>G,Rect:()=>Rt,Segment:()=>yn,Size:()=>_s,Transformation:()=>p2,toMatrix:()=>si,transform:()=>$t});function Qp(s,t,e){let i=$i(Math.atan2(t.y-s.y,t.x-s.x));return e.transformCopy($t().rotate(-i,s)).x<s.x}function ar(s,t,e){let i=1-s;return Math.pow(i,3)*e[0][t]+3*Math.pow(i,2)*s*e[1][t]+3*Math.pow(s,2)*i*e[2][t]+Math.pow(s,3)*e[3][t]}function g2(s,t){return[-s[0][t]+3*s[1][t]-3*s[2][t]+s[3][t],3*(s[0][t]-2*s[1][t]+s[2][t]),3*(-s[0][t]+s[1][t]),s[0][t]]}var D6=class s extends z{constructor(t=0,e=0){super(),this.real=t,this.img=e}add(t){return new s(Ct(this.real+t.real,10),Ct(this.img+t.img,10))}addConstant(t){return new s(this.real+t,this.img)}negate(){return new s(-this.real,-this.img)}multiply(t){return new s(this.real*t.real-this.img*t.img,this.real*t.img+this.img*t.real)}multiplyConstant(t){return new s(this.real*t,this.img*t)}nthRoot(t){let e=Math.atan2(this.img,this.real),i=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),n=Math.pow(i,1/t);return new s(n*Math.cos(e/t),n*Math.sin(e/t))}equals(t){return this.real===t.real&&this.img===t.img}isReal(){return this.img===0}},Zl=D6;function Xb(s){return s<0?-1:1}function lP(s,t,e){let i=Math.sqrt(Math.pow(t,2)-4*s*e);return[(-t+i)/(2*s),(-t-i)/(2*s)]}function v2(s,t,e,i){if(s===0)return lP(t,e,i);let n=(3*s*e-Math.pow(t,2))/(3*Math.pow(s,2)),o=(2*Math.pow(t,3)-9*s*t*e+27*Math.pow(s,2)*i)/(27*Math.pow(s,3)),r=Math.pow(n/3,3)+Math.pow(o/2,2),a=new Zl(0,1),l=-t/(3*s),c,h,d,p,u,m,f;r<0?(c=new Zl(-o/2,Math.sqrt(-r)).nthRoot(3),h=new Zl(-o/2,-Math.sqrt(-r)).nthRoot(3)):(c=-o/2+Math.sqrt(r),c=new Zl(Xb(c)*Math.pow(Math.abs(c),1/3)),h=-o/2-Math.sqrt(r),h=new Zl(Xb(h)*Math.pow(Math.abs(h),1/3))),d=c.add(h),m=c.add(h).multiplyConstant(-1/2),f=c.add(h.negate()).multiplyConstant(Math.sqrt(3)/2),p=m.add(a.multiply(f)),u=m.add(a.negate().multiply(f));let g=[];return d.isReal()&&g.push(Ct(d.real+l,10)),p.isReal()&&g.push(Ct(p.real+l,10)),u.isReal()&&g.push(Ct(u.real+l,10)),g}function Kl(s,t,e,i,n){let o=g2(s,i),r=v2(o[0],o[1],o[2],o[3]-t[i]),a;for(let l=0;l<r.length;l++)if(0<=r[l]&&r[l]<=1&&(a=ar(r[l],e,s),Math.abs(a-t[e])<=n))return!0}function P6(s,t,e){let i=g2(s,"x"),n=v2(i[0],i[1],i[2],i[3]-t.x),o,r,a=0;for(let l=0;l<n.length;l++)o=ar(n[l],"y",s),r=m2(o,t.y)||o>t.y,r&&((n[l]===0||n[l]===1)&&e.bottomRight().x>t.x||0<n[l]&&n[l]<1)&&a++;return a}function x2(s,t,e){let i;if(s.x!==t.x){let n=Math.min(s.x,t.x),o=Math.max(s.x,t.x),r=Math.min(s.y,t.y),a=Math.max(s.y,t.y),l=n<=e.x&&e.x<o;r===a?i=e.y<=r&&l:i=l&&(a-r)*((s.x-t.x)*(s.y-t.y)>0?e.x-n:o-e.x)/(o-n)+r-e.y>=0}return i?1:0}function cP(s){let t="_"+s;return function(e){return U(e)?(this._observerField(t,G.create(e)),this.geometryChange(),this):this[t]}}function hP(s,t){for(let e=0;e<t.length;e++)s[t[e]]=cP(t[e])}var dP=(s,t)=>{let e=class extends s{};return hP(e.prototype,t),e},lr=dP;var pP=["anchor","controlIn","controlOut"],L6=class extends lr(te,pP){constructor(t,e,i){super(),this.anchor(t||new G),this.controlIn(e),this.controlOut(i)}bboxTo(t,e){let i=this.anchor().transformCopy(e),n=t.anchor().transformCopy(e),o;return this.controlOut()&&t.controlIn()?o=this._curveBoundingBox(i,this.controlOut().transformCopy(e),t.controlIn().transformCopy(e),n):o=this._lineBoundingBox(i,n),o}_lineBoundingBox(t,e){return Rt.fromPoints(t,e)}_curveBoundingBox(t,e,i,n){let o=[t,e,i,n],r=this._curveExtremesFor(o,"x"),a=this._curveExtremesFor(o,"y"),l=$b([r.min,r.max,t.x,n.x]),c=$b([a.min,a.max,t.y,n.y]);return Rt.fromPoints(new G(l.min,c.min),new G(l.max,c.max))}_curveExtremesFor(t,e){let i=this._curveExtremes(t[0][e],t[1][e],t[2][e],t[3][e]);return{min:ar(i.min,e,t),max:ar(i.max,e,t)}}_curveExtremes(t,e,i,n){let o=t-3*e+3*i-n,r=-2*(t-2*e+i),a=t-e,l=Math.sqrt(r*r-4*o*a),c=0,h=1;o===0?r!==0&&(c=h=-a/r):isNaN(l)||(c=(-r+l)/(2*o),h=(-r-l)/(2*o));let d=Math.max(Math.min(c,h),0);(d<0||d>1)&&(d=0);let p=Math.min(Math.max(c,h),1);return(p>1||p<0)&&(p=1),{min:d,max:p}}_intersectionsTo(t,e){let i;return this.controlOut()&&t.controlIn()?i=P6([this.anchor(),this.controlOut(),t.controlIn(),t.anchor()],e,this.bboxTo(t)):i=x2(this.anchor(),t.anchor(),e),i}_isOnCurveTo(t,e,i,n){if(this.bboxTo(t).expand(i,i).containsPoint(e)){let r=this.anchor(),a=this.controlOut(),l=t.controlIn(),c=t.anchor();if(n==="start"&&r.distanceTo(e)<=i)return!Qp(r,a,e);if(n==="end"&&c.distanceTo(e)<=i)return!Qp(c,l,e);let h=[r,a,l,c];if(Kl(h,e,"x","y",i)||Kl(h,e,"y","x",i))return!0;let d=$t().rotate(45,e),p=[r.transformCopy(d),a.transformCopy(d),l.transformCopy(d),c.transformCopy(d)];return Kl(p,e,"x","y",i)||Kl(p,e,"y","x",i)}}_isOnLineTo(t,e,i){let n=this.anchor(),o=t.anchor(),r=$i(Math.atan2(o.y-n.y,o.x-n.x));return new Rt([n.x,n.y-i/2],[n.distanceTo(o),i]).containsPoint(e.transformCopy($t().rotate(-r,n)))}_isOnPathTo(t,e,i,n){let o;return this.controlOut()&&t.controlIn()?o=this._isOnCurveTo(t,e,i/2,n):o=this._isOnLineTo(t,e,i),o}};function $b(s){let t=s.length,e=tr,i=er;for(let n=0;n<t;n++)i=Math.max(i,s[n]),e=Math.min(e,s[n]);return{min:e,max:i}}var yn=L6;var t_=.333,uP=.01,bn="x",_n="y";function e_(s,t){let e=s.slice(0),i=[],n=e.length;if(n>2&&(Qb(0,e),n=e.length),n<2||n===2&&e[0].equals(e[1]))return i;let o=e[0],r=e[1],a=e[2];for(i.push(new yn(o));o.equals(e[n-1]);)t=!0,e.pop(),n--;if(n===2){let d=y2(o,r,bn,_n);return ue(i).controlOut(O6(d,o,r,bn,_n)),i.push(new yn(r,V6(d,o,r,bn,_n))),i}let l,c;if(t){o=e[n-1],r=e[0],a=e[1];let d=R6(o,r,a);l=d[1],c=d[0]}else{let d=y2(o,r,bn,_n);l=O6(d,o,r,bn,_n)}let h=l;for(let d=0;d<=n-3;d++)if(Qb(d,e),n=e.length,d+3<=n){o=e[d],r=e[d+1],a=e[d+2];let p=R6(o,r,a);ue(i).controlOut(h),h=p[1];let u=p[0];i.push(new yn(r,u))}if(t){o=e[n-2],r=e[n-1],a=e[0];let d=R6(o,r,a);ue(i).controlOut(h),i.push(new yn(r,d[0])),ue(i).controlOut(d[1]),i.push(new yn(a,c))}else{let d=y2(r,a,bn,_n);ue(i).controlOut(h),i.push(new yn(a,V6(d,r,a,bn,_n)))}return i}function Qb(s,t){for(;t[s+1]&&(t[s].equals(t[s+1])||t[s+1].equals(t[s+2]));)t.splice(s+1,1)}function mP(s,t,e){let i=!1;if(s.x===t.x)i=!0;else if(t.x===e.x)(t.y<e.y&&s.y<=t.y||e.y<t.y&&t.y<=s.y)&&(i=!0);else{let n=i_(s,t),o=s_(n,e.x);!(s.y<=t.y&&e.y<=o)&&!(t.y<=s.y&&e.y>=o)&&(i=!0)}return i}function fP(s,t,e){let i=i_(s,t),n=s_(i,e.x);return s.x===t.x&&t.x===e.x||Ct(n,1)===Ct(e.y,1)}function i_(s,t){let e=(t.y-s.y)/(t.x-s.x);return[s.y-e*s.x,e]}function R6(s,t,e){let i=bn,n=_n,o=!1,r=!1,a;if(fP(s,t,e))a=y2(s,t,bn,_n);else{let h={x:Kb(s,t,e,bn),y:Kb(s,t,e,_n)};if(h.x&&h.y)a=y2(s,e,bn,_n),o=!0;else if(mP(s,t,e)&&(i=_n,n=bn),h[i])a=0;else{let d;e[n]<s[n]&&s[n]<=t[n]||s[n]<e[n]&&t[n]<=s[n]?d=Jb((e[n]-s[n])*(t[i]-s[i])):d=-Jb((e[i]-s[i])*(t[n]-s[n])),a=uP*d,r=!0}}let l=V6(a,s,t,i,n);if(r){let h=i;i=n,n=h}let c=O6(a,t,e,i,n);return o&&(Zb(s,t,l,a),Zb(t,e,c,a)),[l,c]}function Zb(s,t,e,i){s.y<t.y?t.y<e.y?(e.x=s.x+(t.y-s.y)/i,e.y=t.y):e.y<s.y&&(e.x=t.x-(t.y-s.y)/i,e.y=s.y):e.y<t.y?(e.x=s.x-(s.y-t.y)/i,e.y=t.y):s.y<e.y&&(e.x=t.x+(s.y-t.y)/i,e.y=s.y)}function y2(s,t,e,i){let n=t[e]-s[e],o=t[i]-s[i],r;return n===0?r=0:r=o/n,r}function Kb(s,t,e,i){return e[i]>t[i]&&t[i]>s[i]||e[i]<t[i]&&t[i]<s[i]}function O6(s,t,e,i,n){let o=t[i],a=(e[i]-o)*t_;return n_(o+a,t[n]+a*s,i,n)}function V6(s,t,e,i,n){let o=t[i],r=e[i],a=(r-o)*t_;return n_(r-a,e[n]-a*s,i,n)}function n_(s,t,e,i){let n=new G;return n[e]=s,n[i]=t,n}function s_(s,t){let e=s.length,i=0;for(let n=0;n<e;n++)i+=Math.pow(t,n)*s[n];return i}function Jb(s){return s<=0?-1:1}var gP={l:function(s,t){let{parameters:e,position:i}=t;for(let n=0;n<e.length;n+=2){let o=new G(e[n],e[n+1]);t.isRelative&&o.translateWith(i),s.lineTo(o.x,o.y),i.x=o.x,i.y=o.y}},c:function(s,t){let{parameters:e,position:i}=t;for(let n=0;n<e.length;n+=6){let o=new G(e[n],e[n+1]),r=new G(e[n+2],e[n+3]),a=new G(e[n+4],e[n+5]);t.isRelative&&(r.translateWith(i),o.translateWith(i),a.translateWith(i)),s.curveTo(o,r,a),i.x=a.x,i.y=a.y}},v:function(s,t){let e=t.isRelative?0:t.position.x;o_(t.parameters,!0,e),this.l(s,t)},h:function(s,t){let e=t.isRelative?0:t.position.y;o_(t.parameters,!1,e),this.l(s,t)},a:function(s,t){let{parameters:e,position:i}=t;for(let n=0;n<e.length;n+=7){let o=e[n],r=e[n+1],a=e[n+2],l=e[n+3],c=e[n+4],h=new G(e[n+5],e[n+6]);t.isRelative&&h.translateWith(i),(i.x!==h.x||i.y!==h.y)&&(s.arcTo(h,o,r,l,c,a),i.x=h.x,i.y=h.y)}},s:function(s,t){let{parameters:e,position:i,previousCommand:n}=t,o;(n==="s"||n==="c")&&(o=ue(ue(s.paths).segments).controlIn());for(let r=0;r<e.length;r+=4){let a=new G(e[r],e[r+1]),l=new G(e[r+2],e[r+3]),c;t.isRelative&&(a.translateWith(i),l.translateWith(i)),o?c=r_(o,i):c=i.clone(),o=a,s.curveTo(c,a,l),i.x=l.x,i.y=l.y}},q:function(s,t){let{parameters:e,position:i}=t;for(let n=0;n<e.length;n+=4){let o=new G(e[n],e[n+1]),r=new G(e[n+2],e[n+3]);t.isRelative&&(o.translateWith(i),r.translateWith(i));let a=l_(i,o,r);s.curveTo(a.controlOut,a.controlIn,r),i.x=r.x,i.y=r.y}},t:function(s,t){let{parameters:e,position:i,previousCommand:n}=t,o;(n==="q"||n==="t")&&(o=ue(ue(s.paths).segments).controlIn().clone().translateWith(i.scaleCopy(-1/3)).scale(3/2));for(let r=0;r<e.length;r+=2){let a=new G(e[r],e[r+1]);t.isRelative&&a.translateWith(i),o?o=r_(o,i):o=i.clone();let l=l_(i,o,a);s.curveTo(l.controlOut,l.controlIn,a),i.x=a.x,i.y=a.y}}};function o_(s,t,e){let i=t?0:1;for(let n=0;n<s.length;n+=2)s.splice(n+i,0,e)}function r_(s,t){if(s&&t)return t.scaleCopy(2).translate(-s.x,-s.y)}var a_=1/3;function l_(s,t,e){let i=t.clone().scale(.6666666666666666);return{controlOut:i.clone().translateWith(s.scaleCopy(a_)),controlIn:i.translateWith(e.scaleCopy(a_))}}var B6=gP;var vP=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,xP=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,c_="m",yP="z";function bP(s){let t=[];return s.replace(xP,function(e,i){t.push(parseFloat(i))}),t}function _P(s,t){let e=new G,i;return t.replace(vP,(n,o,r,a)=>{let l=o.toLowerCase(),c=l===o,h=bP(r.trim());if(l===c_&&(c?(e.x+=h[0],e.y+=h[1]):(e.x=h[0],e.y=h[1]),s.moveTo(e.x,e.y),h.length>2&&(l="l",h.splice(0,2))),B6[l])B6[l](s,{parameters:h,position:e,isRelative:c,previousCommand:i}),a&&a.toLowerCase()===yP&&s.close();else if(l!==c_)throw new Error("Error while parsing SVG path. Unsupported command: "+l);i=l}),s}var Jl=_P;function ba(s,t,e){let i;for(let n=0;n<s.length;n++){let o=s[n];if(o.visible()){let r=t?o.bbox(e):o.rawBBox();r&&(i?i=Rt.union(i,r):i=r)}}return i}function b2(s,t){let e;for(let i=0;i<s.length;i++){let n=s[i];if(n.visible()){let o=n.clippedBBox(t);o&&(e?e=Rt.union(e,o):e=o)}}return e}var Zp=" ",wP=s=>(...t)=>t.map(e=>e.toString(s)).join(Zp),CP=(s,t)=>s.controlOut()&&t.controlIn()?"C":"L",oo=class s extends Wn(so(Ge)){get nodeType(){return"Path"}constructor(t){super(t),this.segments=new k6,this.segments.addObserver(this),U(this.options.stroke)||(this.stroke("#000"),U(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))}moveTo(t,e){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(t,e),this}lineTo(t,e){let i=U(e)?new G(t,e):t,n=new yn(i);return this.segments.push(n),this}curveTo(t,e,i){if(this.segments.length>0){let n=ue(this.segments),o=new yn(i,e);this.suspend(),n.controlOut(t),this.resume(),this.segments.push(o)}return this}arc(t,e,i,n,o){if(this.segments.length>0){let a=ue(this.segments).anchor(),l=ni(t),c=new G(a.x-i*Math.cos(l),a.y-n*Math.sin(l)),h=new ya(c,{startAngle:t,endAngle:e,radiusX:i,radiusY:n,anticlockwise:o});this._addArcSegments(h)}return this}arcTo(t,e,i,n,o,r){if(this.segments.length>0){let l=ue(this.segments).anchor(),c=ya.fromPoints(l,G.create(t),e,i,n,o,r);this._addArcSegments(c)}return this}_addArcSegments(t){this.suspend();let e=t.curvePoints();for(let i=1;i<e.length;i+=3)this.curveTo(e[i],e[i+1],e[i+2]);this.resume(),this.geometryChange()}close(){return this.options.closed=!0,this.geometryChange(),this}rawBBox(){return this._bbox()}toString(t){let e="",i=this.segments,n=i.length;if(n>0){let o=[],r=wP(t),a;for(let l=1;l<n;l++){let c=CP(i[l-1],i[l]);c!==a&&(a=c,o.push(c)),c==="L"?o.push(r(i[l].anchor())):o.push(r(i[l-1].controlOut(),i[l].controlIn(),i[l].anchor()))}e="M"+r(i[0].anchor())+Zp+o.join(Zp),this.options.closed&&(e+="Z")}return e}_containsPoint(t){let e=this.segments,i=e.length,n=0,o,r;for(let a=1;a<i;a++)o=e[a-1],r=e[a],n+=o._intersectionsTo(r,t);return(this.options.closed||!e[0].anchor().equals(e[i-1].anchor()))&&(n+=x2(e[0].anchor(),e[i-1].anchor(),t)),n%2!==0}_isOnPath(t,e){let i=this.segments,n=i.length,o=e||this.options.stroke.width;if(n>1){if(i[0]._isOnPathTo(i[1],t,o,"start"))return!0;for(let r=2;r<=n-2;r++)if(i[r-1]._isOnPathTo(i[r],t,o))return!0;if(i[n-2]._isOnPathTo(i[n-1],t,o,"end"))return!0}return!1}_bbox(t){let e=this.segments,i=e.length,n;if(i===1){let o=e[0].anchor().transformCopy(t);n=new Rt(o,_s.ZERO)}else if(i>0)for(let o=1;o<i;o++){let r=e[o-1].bboxTo(e[o],t);n?n=Rt.union(n,r):n=r}return n}static parse(t,e){return _a.parse(t,e)}static fromRect(t,e){let i=new s(e),[n,o]=t.cornerRadius;if(n===0&&o===0)i.moveTo(t.topLeft()).lineTo(t.topRight()).lineTo(t.bottomRight()).lineTo(t.bottomLeft()).close();else{let r=t.origin,{x:a,y:l}=r,c=t.width(),h=t.height();n=ir(n,0,c/2),o=ir(o,0,h/2),i.moveTo(a+n,l).lineTo(a+c-n,l).arcTo([a+c,l+o],n,o,!1).lineTo(a+c,l+h-o).arcTo([a+c-n,l+h],n,o,!1).lineTo(a+n,l+h).arcTo([a,l+h-o],n,o,!1).lineTo(a,l+o).arcTo([a+n,l],n,o,!1)}return i}static fromPoints(t,e){if(t){let i=new s(e);for(let n=0;n<t.length;n++){let o=G.create(t[n]);o&&(n===0?i.moveTo(o):i.lineTo(o))}return i}}static curveFromPoints(t,e){if(t){let i=e_(t),n=new s(e);return n.segments.push.apply(n.segments,i),n}}static fromArc(t,e){let i=new s(e),n=t.startAngle,o=t.pointAt(n);return i.moveTo(o.x,o.y),i.arc(n,t.endAngle,t.radiusX,t.radiusY,t.anticlockwise),i}},_a=class s extends Wn(so(Ge)){static parse(t,e){let i=new s(e);return Jl(i,t)}toString(t){let e=this.paths,i="";if(e.length>0){let n=[];for(let o=0;o<e.length;o++)n.push(e[o].toString(t));i=n.join(Zp)}return i}get nodeType(){return"MultiPath"}constructor(t){super(t),this.paths=new k6,this.paths.addObserver(this),U(this.options.stroke)||this.stroke("#000")}moveTo(t,e){let i=new oo;return i.moveTo(t,e),this.paths.push(i),this}lineTo(t,e){return this.paths.length>0&&ue(this.paths).lineTo(t,e),this}curveTo(t,e,i){return this.paths.length>0&&ue(this.paths).curveTo(t,e,i),this}arc(t,e,i,n,o){return this.paths.length>0&&ue(this.paths).arc(t,e,i,n,o),this}arcTo(t,e,i,n,o,r){return this.paths.length>0&&ue(this.paths).arcTo(t,e,i,n,o,r),this}close(){return this.paths.length>0&&ue(this.paths).close(),this}_bbox(t){return ba(this.paths,!0,t)}rawBBox(){return ba(this.paths,!1)}_containsPoint(t){let e=this.paths;for(let i=0;i<e.length;i++)if(e[i]._containsPoint(t))return!0;return!1}_isOnPath(t){let e=this.paths,i=this.options.stroke.width;for(let n=0;n<e.length;n++)if(e[n]._isOnPath(t,i))return!0;return!1}_clippedBBox(t){return b2(this.paths,this.currentTransform(t))}};var SP="#000",H6=class extends Wn(so(or(Ge))){get nodeType(){return"Arc"}constructor(t=new ya,e={}){super(e),this.geometry(t),U(this.options.stroke)||this.stroke(SP)}_bbox(t){return this._geometry.bbox(t)}rawBBox(){return this.geometry().bbox()}toPath(){let t=new oo,e=this.geometry().curvePoints();if(e.length>0){t.moveTo(e[0].x,e[0].y);for(let i=1;i<e.length;i+=3)t.curveTo(e[i],e[i+1],e[i+2])}return t}_containsPoint(t){return this.geometry().containsPoint(t)}_isOnPath(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)}},h_=H6;var MP="12px sans-serif",AP="#000",N6=class extends Wn(lr(Ge,["position"])){get nodeType(){return"Text"}constructor(t,e=new G,i={}){super(i),this.content(t),this.position(e),this.options.font||(this.options.font=MP),U(this.options.fill)||this.fill(AP)}content(t){return U(t)?(this.options.set("content",t),this):this.options.get("content")}measure(){return d2(this.content(),{font:this.options.get("font")})}rect(){let t=this.measure(),e=this.position().clone();return new Rt(e,[t.width,t.height])}bbox(t){let e=si(this.currentTransform(t));return this.rect().bbox(e)}rawBBox(){return this.rect().bbox()}_containsPoint(t){return this.rect().containsPoint(t)}},d_=N6;var F6=class extends or(Ge,["rect"]){get nodeType(){return"Image"}constructor(t,e=new Rt,i={}){super(i),this.src(t),this.rect(e)}src(t){return U(t)?(this.options.set("src",t),this):this.options.get("src")}bbox(t){let e=si(this.currentTransform(t));return this._rect.bbox(e)}rawBBox(){return this._rect.bbox()}_containsPoint(t){return this._rect.containsPoint(t)}_hasFill(){return this.src()}},p_=F6;var TP=(s,t)=>class extends s{traverse(e){let i=this[t];for(let n=0;n<i.length;n++){let o=i[n];o.traverse?o.traverse(e):e(o)}return this}},tc=TP;var j6=class extends tc(Ge,"children"){get nodeType(){return"Group"}constructor(t){super(t),this.children=[]}childrenChange(t,e,i){this.trigger("childrenChange",{action:t,items:e,index:i})}append(){return xs(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this}insert(t,e){return this.children.splice(t,0,e),e.parent=this,this.childrenChange("add",[e],t),this}insertAt(t,e){return this.insert(e,t)}remove(t){let e=this.children.indexOf(t);return e>=0&&(this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)),this}removeAt(t){if(0<=t&&t<this.children.length){let e=this.children[t];this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)}return this}clear(){let t=this.children;return this.children=[],this._reparent(t,null),this.childrenChange("remove",t,0),this}bbox(t){return ba(this.children,!0,this.currentTransform(t))}rawBBox(){return ba(this.children,!1)}_clippedBBox(t){return b2(this.children,this.currentTransform(t))}currentTransform(t){return Ge.prototype.currentTransform.call(this,t)||null}containsPoint(t,e){if(this.visible()){let i=this.children,n=this.currentTransform(e);for(let o=0;o<i.length;o++)if(i[o].containsPoint(t,n))return!0}return!1}_reparent(t,e){for(let i=0;i<t.length;i++){let n=t[i],o=n.parent;o&&o!==this&&o.remove&&o.remove(n),n.parent=e}}},wn=j6;function ro(s,t,e){let i=e.transform()||$t(),n=i.matrix();n.e+=s.x-t.origin.x,n.f+=s.y-t.origin.y,i.matrix(n),e.transform(i)}function cr(s,t,e,i,n){let o;return e==="start"?o=t.origin[i]:e==="end"?o=t.origin[i]+t.size[n]-s:o=t.origin[i]+(t.size[n]-s)/2,o}function U6(s,t,e,i,n){let o;return e==="start"?o=t.origin[i]+t.size[n]-s:e==="end"?o=t.origin[i]:o=t.origin[i]+(t.size[n]-s)/2,o}var IP={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:!0,revers:!1},zP=(s,t)=>{s.forEach(t)},EP=(s,t)=>{let e=s.length;for(let i=e-1;i>=0;i--)t(s[i],i)},G6=class extends wn{constructor(t,e){super(Object.assign({},IP,e)),this._rect=t,this._fieldMap={}}rect(t){return t?(this._rect=t,this):this._rect}_initMap(){let t=this.options,e=this._fieldMap;t.orientation==="horizontal"?(e.sizeField="width",e.groupsSizeField="height",e.groupAxis="x",e.groupsAxis="y"):(e.sizeField="height",e.groupsSizeField="width",e.groupAxis="y",e.groupsAxis="x"),t.reverse?(this.forEach=EP,this.justifyAlign=U6):(this.forEach=zP,this.justifyAlign=cr)}reflow(){if(!this._rect||this.children.length===0)return;this._initMap(),this.options.transform&&this.transform(null);let t=this.options,e=this._rect,{groups:i,groupsSize:n}=this._initGroups(),{sizeField:o,groupsSizeField:r,groupAxis:a,groupsAxis:l}=this._fieldMap,c=new G,h=new G,d=new _s,p=cr(n,e,t.alignContent,l,r),u,m,f,g=(x,y)=>{let C=m.elements[y];h[a]=u,h[l]=cr(x.size[r],f,t.alignItems,l,r),ro(h,x,C),u+=x.size[o]+t.spacing};for(let x=0;x<i.length;x++)m=i[x],c[a]=u=this.justifyAlign(m.size,e,t.justifyContent,a,o),c[l]=p,d[o]=m.size,d[r]=m.lineSize,f=new Rt(c,d),this.forEach(m.bboxes,g),p+=m.lineSize+t.lineSpacing;if(!t.wrap&&m.size>e.size[o]){let x=e.size[o]/f.size[o],y=f.topLeft().scale(x,x),C=f.size[r]*x,S=cr(C,e,t.alignContent,l,r),w=$t();a==="x"?w.translate(e.origin.x-y.x,S-y.y):w.translate(S-y.x,e.origin.y-y.y),w.scale(x,x),this.transform(w)}}_initGroups(){let{options:t,children:e}=this,{lineSpacing:i,wrap:n,spacing:o}=t,r=this._fieldMap.sizeField,a=this._newGroup(),l=[],c=function(){l.push(a),h+=a.lineSize+i},h=-i;for(let d=0;d<e.length;d++){let p=e[d],u=e[d].clippedBBox();p.visible()&&u&&(n&&a.size+u.size[r]+o>this._rect.size[r]?a.bboxes.length===0?(this._addToGroup(a,u,p),c(),a=this._newGroup()):(c(),a=this._newGroup(),this._addToGroup(a,u,p)):this._addToGroup(a,u,p))}return a.bboxes.length&&c(),{groups:l,groupsSize:h}}_addToGroup(t,e,i){t.size+=e.size[this._fieldMap.sizeField]+this.options.spacing,t.lineSize=Math.max(e.size[this._fieldMap.groupsSizeField],t.lineSize),t.bboxes.push(e),t.elements.push(i)}_newGroup(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}},u_=G6;var W6=class extends Wn(so(or(Ge))){get nodeType(){return"Rect"}constructor(t=new Rt,e={}){super(e),this.geometry(t),U(this.options.stroke)||this.stroke("#000")}_bbox(t){return this._geometry.bbox(t)}rawBBox(){return this._geometry.bbox()}_containsPoint(t){return this._geometry.containsPoint(t)}_isOnPath(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)}},m_=W6;function _2(s,t,e,i,n){for(let o=0;o<s.length;o++){let r=s[o].clippedBBox();if(r){let a=r.origin.clone();a[i]=cr(r.size[n],t,e||"start",i,n),ro(a,r,s[o])}}}function q6(s,t,e){_2(s,t,e,"x","width")}function Y6(s,t,e){_2(s,t,e,"y","height")}function wa(s,t,e,i){if(s.length>1){let n=new G,o=s[0].bbox;for(let r=1;r<s.length;r++){let a=s[r].element,l=s[r].bbox;n[t]=o.origin[t]+o.size[i],n[e]=l.origin[e],ro(n,l,a),l.origin[t]=n[t],o=l}}}function w2(s){let t=[];for(let e=0;e<s.length;e++){let i=s[e],n=i.clippedBBox();n&&t.push({element:i,bbox:n})}return t}function X6(s){wa(w2(s),"x","y","width")}function $6(s){wa(w2(s),"y","x","height")}function kP(s,t,e){let i=t.size[e],n=[],o=[],r=0,a,l,c=function(){o.push({element:a,bbox:l})};for(let h=0;h<s.length;h++)if(a=s[h],l=a.clippedBBox(),l){let d=l.size[e];r+d>i?o.length?(n.push(o),o=[],c(),r=d):(c(),n.push(o),o=[],r=0):(c(),r+=d)}return o.length&&n.push(o),n}function C2(s,t,e,i,n){let o=kP(s,t,n),r=t.origin.clone(),a=[];for(let l=0;l<o.length;l++){let c=o[l],h=c[0];r[i]=h.bbox.origin[i],ro(r,h.bbox,h.element),h.bbox.origin[e]=r[e],wa(c,e,i,n),a.push([]);for(let d=0;d<c.length;d++)a[l].push(c[d].element)}return a}function Q6(s,t){return C2(s,t,"x","y","width")}function Z6(s,t){return C2(s,t,"y","x","height")}function K6(s,t){let e=s.clippedBBox();if(e){let i=e.size,n=t.size;if(n.width<i.width||n.height<i.height){let o=Math.min(n.width/i.width,n.height/i.height),r=s.transform()||$t();r.scale(o,o),s.transform(r)}}}var J6=class extends $p{_change(){this.optionsChange({field:"stops"})}},f_=J6;function DP(s){return function(t){return U(t)?(this.options.set(s,t),this):this.options.get(s)}}function PP(s,t){for(let e=0;e<t.length;e++)s[t[e]]=DP(t[e])}var LP=(s,t)=>{let e=class extends s{};return PP(e.prototype,t),e},g_=LP;var RP=["offset","color","opacity"],tg=class s extends g_(te,RP){constructor(t,e,i){super(),this.options=new Ql({offset:t,color:e,opacity:U(i)?i:1}),this.options.addObserver(this)}static create(t){if(U(t)){let e;return t instanceof s?e=t:t.length>1?e=new s(t[0],t[1],t[2]):e=new s(t.offset,t.color,t.opacity),e}}},S2=tg;var eg=class extends te{get nodeType(){return"Gradient"}constructor(t={}){super(),this.stops=new f_(this._createStops(t.stops)),this.stops.addObserver(this),this._userSpace=t.userSpace,this.id=Jo()}userSpace(t){return U(t)?(this._userSpace=t,this.optionsChange(),this):this._userSpace}_createStops(t=[]){let e=[];for(let i=0;i<t.length;i++)e.push(S2.create(t[i]));return e}addStop(t,e,i){this.stops.push(new S2(t,e,i))}removeStop(t){let e=this.stops.indexOf(t);e>=0&&this.stops.splice(e,1)}optionsChange(t){this.trigger("optionsChange",{field:"gradient"+(t?"."+t.field:""),value:this})}geometryChange(){this.optionsChange()}},ec=eg;var OP=["start","end"],ig=class extends lr(ec,OP){constructor(t={}){super(t),this.start(t.start||new G),this.end(t.end||new G(1,0))}},ic=ig;var ng=class extends lr(ec,["center"]){constructor(t={}){super(t),this.center(t.center||new G),this._radius=U(t.radius)?t.radius:1,this._fallbackFill=t.fallbackFill}radius(t){return U(t)?(this._radius=t,this.geometryChange(),this):this._radius}fallbackFill(t){return U(t)?(this._fallbackFill=t,this.optionsChange(),this):this._fallbackFill}},nc=ng;var sg={};yl(sg,{easeOutElastic:()=>HP,linear:()=>BP,swing:()=>VP});function VP(s){return .5-Math.cos(s*Math.PI)/2}function BP(s){return s}function HP(s,t,e,i){let n=1.70158,o=0,r=i;return s===0?e:s===1?e+i:(o||(o=.5),r<Math.abs(i)?(r=i,n=o/4):n=o/(2*Math.PI)*Math.asin(i/r),r*Math.pow(2,-10*s)*Math.sin((Number(s)-n)*(1.1*Math.PI)/o)+i+e)}var og,rg=class s extends z{static get current(){return og||(og=new s),og}constructor(){super(),this._items=[]}register(t,e){this._items.push({name:t,type:e})}create(t,e){let i=this._items,n;if(e&&e.type){let o=e.type.toLowerCase();for(let r=0;r<i.length;r++)if(i[r].name.toLowerCase()===o){n=i[r];break}}if(n)return new n.type(t,e)}},Kp=rg;var ag=class extends z{static create(t,e,i){return Kp.current.create(t,e,i)}get options(){return this._options||{duration:500,easing:"swing"}}set options(t){this._options=t}constructor(t,e){super(),this.options=Object.assign({},this.options,e),this.element=t}setup(){}step(){}play(){let t=this.options,{duration:e,delay:i=0}=t,n=sg[t.easing],o=Ko()+i,r=o+e;e===0?(this.step(1),this.abort()):setTimeout(()=>{let a=()=>{if(this._stopped)return;let l=Ko(),c=ir(l-o,0,e),h=c/e,d=n(h,c,0,1,e);this.step(d),l<r?ql(a):this.abort()};a()},i)}abort(){this._stopped=!0}destroy(){this.abort()}},v_=ag;var lg,cg=class s extends z{static get current(){return lg||(lg=new s),lg}parse(t,e){let i=new _a(e);return Jl(i,t)}},x_=cg;var hg=class extends z{constructor(t){super(),this.childNodes=[],this.parent=null,t&&(this.srcElement=t,this.observe())}destroy(){this.srcElement&&this.srcElement.removeObserver(this);let t=this.childNodes;for(let e=0;e<t.length;e++)this.childNodes[e].destroy();this.parent=null}load(){}observe(){this.srcElement&&this.srcElement.addObserver(this)}append(t){this.childNodes.push(t),t.parent=this}insertAt(t,e){this.childNodes.splice(e,0,t),t.parent=this}remove(t,e){let i=t+e;for(let n=t;n<i;n++)this.childNodes[n].removeSelf();this.childNodes.splice(t,e)}removeSelf(){this.clear(),this.destroy()}clear(){this.remove(0,this.childNodes.length)}invalidate(){this.parent&&this.parent.invalidate()}geometryChange(){this.invalidate()}optionsChange(){this.invalidate()}childrenChange(t){t.action==="add"?this.load(t.items,t.index):t.action==="remove"&&this.remove(t.index,t.items.length),this.invalidate()}},ws=hg;var NP=["click","mouseenter","mouseleave","mousemove","resize"],dg=class extends Fp{constructor(t,e){super(),this.options=Object.assign({},e),this.element=t,this.element._kendoExportVisual=this.exportVisual.bind(this),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._mousemove=this._handler("mousemove"),this._visual=new wn,no(t,this.options),this.bind(NP,this.options),this._enableTracking()}draw(t){this._visual.children.push(t)}clear(){this._visual.children=[]}destroy(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()}eventTarget(t){let e=n2(t),i;for(;!i&&e&&(i=e._kendoNode,e!==this.element);)e=e.parentElement;if(i)return i.srcElement}exportVisual(){return this._visual}getSize(){return no(this.element)}currentSize(t){if(t)this._size=t;else return this._size}setSize(t){no(this.element,t),this.currentSize(t),this._resize()}resize(t){let e=this.getSize(),i=this.currentSize();(t||(e.width>0||e.height>0)&&(!i||e.width!==i.width||e.height!==i.height))&&(this.currentSize(e),this._resize(e,t),this.trigger("resize",e))}size(t){if(!t)return this.getSize();this.setSize(t)}suspendTracking(){this._suspendedTracking=!0}resumeTracking(){this._suspendedTracking=!1}_enableTracking(){}_resize(){}_handler(t){return e=>{let i=this.eventTarget(e);i&&!this._suspendedTracking&&this.trigger(t,{element:i,originalEvent:e,type:t})}}_elementOffset(){let t=this.element,e=r2(t),{left:i,top:n}=o2(t);return{left:i+e.left,top:n+e.top}}_surfacePoint(t){let e=this._elementOffset(),i=i2(t),n=i.x-e.left,o=i.y-e.top,r=l2(this.element).invert();return new G(n,o).transform(r)}},sc=dg;function Ie(s,t){return U(t)&&t!==null?` ${s}="${t}" `:""}function Cn(s){let t="";for(let e=0;e<s.length;e++)t+=Ie(s[e][0],s[e][1]);return t}function M2(s){let t="";for(let e=0;e<s.length;e++){let i=s[e][1];U(i)&&(t+=s[e][0]+":"+i+";")}if(t!=="")return t}var FP={},qn=FP;var ao="http://www.w3.org/2000/svg",oc="none";var jP=(s,t)=>s.split(";").filter(e=>e!=="").forEach(e=>{let i=e.split(":");t.style[i[0].trim()]=i[1].trim()}),Jp="data-style",y_=s=>s.replace(/\sstyle=/g," "+Jp+"="),b_=s=>{Array.from(s.querySelectorAll("["+Jp+"]")).forEach(t=>{let e=t.getAttribute(Jp);t.removeAttribute(Jp),jP(e,t)})},__=function(s,t){s.innerHTML=y_(t),b_(s)};if(typeof document<"u"){let s="<svg xmlns='"+ao+"'></svg>",t=document.createElement("div"),e=typeof DOMParser<"u";t.innerHTML=s,e&&t.firstChild.namespaceURI!==ao&&(__=function(i,n){let r=new DOMParser().parseFromString(y_(n),"text/xml");b_(r);let a=document.adoptNode(r.documentElement);i.innerHTML="",i.appendChild(a)})}var tu=__;var w_="transform",eu={clip:"clip-path",fill:"fill"};function C_(s,t){return s==="clip"||s==="fill"&&(!t||t.nodeType==="Gradient")}function UP(){let s=document.getElementsByTagName("base")[0],t=document.location.href,e="";if(s&&!(Xi.browser||{}).msie){let i=t.indexOf("#");i!==-1&&(t=t.substring(0,i)),e=t}return e}var pg=class extends ws{constructor(t,e){super(t),this.definitions={},this.options=e}destroy(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),super.destroy()}load(t,e){for(let i=0;i<t.length;i++){let n=t[i],o=n.children,r=new qn[n.nodeType](n,this.options);U(e)?this.insertAt(r,e):this.append(r),r.createDefinitions(),o&&o.length>0&&r.load(o);let a=this.element;a&&r.attachTo(a,e)}}root(){let t=this;for(;t.parent;)t=t.parent;return t}attachTo(t,e){let i=document.createElement("div");tu(i,"<svg xmlns='"+ao+"' version='1.1'>"+this.render()+"</svg>");let n=i.firstChild.firstChild;n&&(U(e)?t.insertBefore(n,t.childNodes[e]||null):t.appendChild(n),this.setElement(n))}setElement(t){this.element&&(this.element._kendoNode=null),this.element=t,this.element._kendoNode=this;let e=this.childNodes;for(let i=0;i<e.length;i++){let n=t.childNodes[i];e[i].setElement(n)}}clear(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");let t=this.childNodes;for(let e=0;e<t.length;e++)t[e].destroy();this.childNodes=[]}removeSelf(){if(this.element){let t=this.element.parentNode;t&&t.removeChild(this.element),this.element=null}super.removeSelf()}template(){return this.renderChildren()}render(){return this.template()}renderChildren(){let t=this.childNodes,e="";for(let i=0;i<t.length;i++)e+=t[i].render();return e}optionsChange(t){let{field:e,value:i}=t;e==="visible"?this.css("display",i?"":oc):eu[e]&&C_(e,i)?this.updateDefinition(e,i):e==="opacity"?this.attr("opacity",i):e==="cursor"?this.css("cursor",i):e==="id"&&(i?this.attr("id",i):this.removeAttr("id")),super.optionsChange(t)}accessibilityOptionsChange(t){let{field:e,value:i}=t;e==="role"?i?this.attr("role",i):this.removeAttr("role"):e==="ariaLabel"?i?this.attr("aria-label",Yi(i)):this.removeAttr("aria-label"):e==="ariaRoleDescription"?i?this.attr("aria-roledescription",Yi(i)):this.removeAttr("aria-roledescription"):e==="ariaChecked"?U(i)?this.attr("aria-checked",i):this.removeAttr("aria-checked"):e==="className"&&this.className(i)}attr(t,e){this.element&&this.element.setAttribute(t,e)}allAttr(t){for(let e=0;e<t.length;e++)this.attr(t[e][0],t[e][1])}toggleAttr(t,e){e?this.attr(t,e):this.removeAttr(t)}css(t,e){this.element&&(this.element.style[t]=e)}allCss(t){for(let e=0;e<t.length;e++)this.css(t[e][0],t[e][1])}className(t){this.element&&(this.element.classList.remove(...this.element.classList),t.split(" ").forEach(e=>{this.element.classList.add(e)}))}removeAttr(t){this.element&&this.element.removeAttribute(t)}mapTransform(t){let e=[];return t&&e.push([w_,"matrix("+t.matrix().toString(6)+")"]),e}renderTransform(){return Cn(this.mapTransform(this.srcElement.transform()))}transformChange(t){t?this.allAttr(this.mapTransform(t)):this.removeAttr(w_)}mapStyle(){let t=this.srcElement.options,e=[["cursor",t.cursor]];return t.visible===!1&&e.push(["display",oc]),e}renderStyle(){return Ie("style",M2(this.mapStyle(!0)))}renderOpacity(){return Ie("opacity",this.srcElement.options.opacity)}renderId(){return Ie("id",this.srcElement.options.id)}renderClassName(){return Ie("class",this.srcElement.options.className)}renderRole(){return Ie("role",this.srcElement.options.role)}renderAriaLabel(){let t=this.srcElement.options.ariaLabel;return t&&(t=Yi(t)),Ie("aria-label",t)}renderAriaRoleDescription(){let t=this.srcElement.options.ariaRoleDescription;return t&&(t=Yi(t)),Ie("aria-roledescription",t)}renderAriaChecked(){return Ie("aria-checked",this.srcElement.options.ariaChecked)}createDefinitions(){let t=this.srcElement,e=this.definitions;if(t){let i=t.options,n;for(let o in eu){let r=i.get(o);r&&C_(o,r)&&(e[o]=r,n=!0)}n&&this.definitionChange({action:"add",definitions:e})}}definitionChange(t){this.parent&&this.parent.definitionChange(t)}updateDefinition(t,e){let i=this.definitions,n=i[t],o=eu[t],r={};n&&(r[t]=n,this.definitionChange({action:"remove",definitions:r}),delete i[t]),e?(r[t]=e,this.definitionChange({action:"add",definitions:r}),i[t]=e,this.attr(o,this.refUrl(e.id))):n&&this.removeAttr(o)}clearDefinitions(){let t=this.definitions;this.definitionChange({action:"remove",definitions:t}),this.definitions={}}renderDefinitions(){return Cn(this.mapDefinitions())}mapDefinitions(){let t=this.definitions,e=[];for(let i in t)e.push([eu[i],this.refUrl(t[i].id)]);return e}refUrl(t){let e=(this.options||{}).skipBaseHref,i=this.baseUrl().replace(/'/g,"\\'");return`url(${e?"":i}#${t})`}baseUrl(){return UP()}},oi=pg;var ug=class extends oi{template(){return`<stop ${this.renderOffset()} ${this.renderStyle()} />`}renderOffset(){return Ie("offset",this.srcElement.offset())}mapStyle(){let t=this.srcElement;return[["stop-color",t.color()],["stop-opacity",t.opacity()]]}optionsChange(t){t.field==="offset"?this.attr(t.field,t.value):(t.field==="color"||t.field==="opacity")&&this.css("stop-"+t.field,t.value)}},iu=ug;var mg=class extends oi{constructor(t){super(t),this.id=t.id,this.loadStops()}loadStops(){let t=this.srcElement.stops,e=this.element;for(let i=0;i<t.length;i++){let n=new iu(t[i]);this.append(n),e&&n.attachTo(e)}}optionsChange(t){t.field==="gradient.stops"?(ws.prototype.clear.call(this),this.loadStops()):t.field==="gradient"&&this.allAttr(this.mapCoordinates())}renderCoordinates(){return Cn(this.mapCoordinates())}mapSpace(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}},nu=mg;var fg=class extends nu{template(){return`<linearGradient id='${this.id}' ${this.renderCoordinates()}>${this.renderChildren()}</linearGradient>`}mapCoordinates(){let t=this.srcElement,e=t.start(),i=t.end();return[["x1",e.x],["y1",e.y],["x2",i.x],["y2",i.y],this.mapSpace()]}},su=fg;var gg=class extends nu{template(){return`<radialGradient id='${this.id}' ${this.renderCoordinates()}>${this.renderChildren()}</radialGradient>`}mapCoordinates(){let t=this.srcElement,e=t.center(),i=t.radius();return[["cx",e.x],["cy",e.y],["r",i],this.mapSpace()]}},ou=gg;var vg=class extends oi{constructor(t){super(),this.srcElement=t,this.id=t.id,this.load([t])}renderClipRule(){return Ie("clip-rule","evenodd")}template(){return`<clipPath ${this.renderClipRule()} id='${this.id}'>${this.renderChildren()}</clipPath>`}},ru=vg;var xg=class extends oi{constructor(){super(),this.definitionMap={}}attachTo(t){this.element=t}template(){return`<defs>${this.renderChildren()}</defs>`}definitionChange(t){let{definitions:e,action:i}=t;i==="add"?this.addDefinitions(e):i==="remove"&&this.removeDefinitions(e)}createDefinition(t,e){let i;return t==="clip"?i=ru:t==="fill"&&(e instanceof ic?i=su:e instanceof nc&&(i=ou)),new i(e)}addDefinitions(t){for(let e in t)this.addDefinition(e,t[e])}addDefinition(t,e){let{element:i,definitionMap:n}=this,o=e.id,r=n[o];if(r)r.count++;else{let a=this.createDefinition(t,e);n[o]={element:a,count:1},this.append(a),i&&a.attachTo(this.element)}}removeDefinitions(t){for(let e in t)this.removeDefinition(t[e])}removeDefinition(t){let e=this.definitionMap,i=t.id,n=e[i];n&&(n.count--,n.count===0&&(this.remove(this.childNodes.indexOf(n.element),1),delete e[i]))}},au=xg;var yg=class extends oi{constructor(t){super(),this.options=t,this.defs=new au}attachTo(t){this.element=t,this.defs.attachTo(t.firstElementChild)}clear(){ws.prototype.clear.call(this)}template(){return this.defs.render()+this.renderChildren()}definitionChange(t){this.defs.definitionChange(t)}},rc=yg;var lu={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},A2="solid",cu="butt";var GP={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},bg=class extends oi{geometryChange(){this.attr("d",this.renderData()),this.invalidate()}optionsChange(t){switch(t.field){case"fill":t.value?this.allAttr(this.mapFill(t.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:t.value}));break;case"stroke":t.value?this.allAttr(this.mapStroke(t.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(t.value);break;default:let e=GP[t.field];e&&this.attr(e,t.value);break}this.accessibilityOptionsChange(t),super.optionsChange(t)}content(){this.element&&(this.element.textContent=this.srcElement.content())}renderData(){return this.srcElement.toString(3)||void 0}mapStroke(t){let e=[];return t&&!xn(t.color)?(e.push(["stroke",t.color]),e.push(["stroke-width",t.width]),e.push(["stroke-linecap",this.renderLinecap(t)]),e.push(["stroke-linejoin",t.lineJoin]),U(t.opacity)&&e.push(["stroke-opacity",t.opacity]),U(t.dashType)&&e.push(["stroke-dasharray",this.renderDashType(t)])):e.push(["stroke",oc]),e}renderStroke(){return Cn(this.mapStroke(this.srcElement.options.stroke))}renderDashType(t){let{dashType:e,width:i=1}=t;if(e&&e!==A2){let n=lu[e.toLowerCase()],o=[];for(let r=0;r<n.length;r++)o.push(n[r]*i);return o.join(" ")}}renderLinecap(t){let{dashType:e,lineCap:i}=t;return e&&e!=="solid"?cu:i}mapFill(t){let e=[];return t&&t.nodeType==="Gradient"||(t&&!xn(t.color)?(e.push(["fill",t.color]),U(t.opacity)&&e.push(["fill-opacity",t.opacity])):e.push(["fill",oc])),e}renderFill(){return Cn(this.mapFill(this.srcElement.options.fill))}template(){return`<path ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()} ${Ie("d",this.renderData())}${this.renderStroke()}${this.renderFill()}${this.renderDefinitions()}${this.renderTransform()}${this.renderClassName()} ${this.renderRole()}${this.renderAriaLabel()} ${this.renderAriaRoleDescription()}${this.renderAriaChecked()} ></path>`}},ri=bg;var wg=class extends ri{renderData(){return this.srcElement.toPath().toString(3)}},hu=wg;var Cg=class extends ri{geometryChange(){let t=this.center();this.attr("cx",t.x),this.attr("cy",t.y),this.attr("r",this.radius()),this.invalidate()}center(){return this.srcElement.geometry().center}radius(){return this.srcElement.geometry().radius}template(){return`<circle ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()}cx='${this.center().x}' cy='${this.center().y}' r='${this.radius()}'${this.renderStroke()} ${this.renderFill()} ${this.renderDefinitions()}${this.renderClassName()} ${this.renderRole()}${this.renderAriaLabel()} ${this.renderAriaRoleDescription()}${this.renderAriaChecked()} ${this.renderTransform()} ></circle>`}},du=Cg;var Sg=class extends oi{template(){return`<g${this.renderId()+this.renderTransform()+this.renderClassName()+this.renderStyle()+this.renderOpacity()+this.renderRole()+this.renderAriaLabel()+this.renderAriaRoleDescription()+this.renderAriaChecked()+this.renderDefinitions()}>${this.renderChildren()}</g>`}optionsChange(t){let{field:e,value:i}=t;e==="transform"&&this.transformChange(i),this.accessibilityOptionsChange(t),super.optionsChange(t)}},pu=Sg;var Mg=class extends ri{geometryChange(){this.allAttr(this.mapPosition()),this.invalidate()}optionsChange(t){t.field==="src"&&this.allAttr(this.mapSource()),super.optionsChange(t)}mapPosition(){let t=this.srcElement.rect(),e=t.topLeft();return[["x",e.x],["y",e.y],["width",t.width()+"px"],["height",t.height()+"px"]]}renderPosition(){return Cn(this.mapPosition())}mapSource(t){let e=this.srcElement.src();return t&&(e=Yi(e)),[["xlink:href",e]]}renderSource(){return Cn(this.mapSource(!0))}template(){return`<image preserveAspectRatio='none' ${this.renderId()} ${this.renderStyle()} ${this.renderTransform()} ${this.renderOpacity()}${this.renderPosition()} ${this.renderSource()} ${this.renderDefinitions()}${this.renderClassName()} ${this.renderRole()}${this.renderAriaLabel()} ${this.renderAriaRoleDescription()}${this.renderAriaChecked()} ></image>`}},uu=Mg;var Ag=class extends ri{renderData(){return this.srcElement.toString(3)||"undefined"}},mu=Ag;var Tg=class extends ri{geometryChange(){let t=this.srcElement.geometry();this.attr("x",t.origin.x),this.attr("y",t.origin.y),this.attr("width",t.size.width),this.attr("height",t.size.height),this.attr("rx",t.cornerRadius[0]),this.attr("ry",t.cornerRadius[1]),this.invalidate()}size(){return this.srcElement.geometry().size}origin(){return this.srcElement.geometry().origin}rx(){return this.srcElement.geometry().cornerRadius[0]}ry(){return this.srcElement.geometry().cornerRadius[1]}template(){return`<rect ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()} x='${this.origin().x}' y='${this.origin().y}' rx='${this.rx()}' ry='${this.ry()}' width='${this.size().width}' height='${this.size().height}' ${this.renderStroke()} ${this.renderFill()} ${this.renderDefinitions()} ${this.renderTransform()}${this.renderClassName()} ${this.renderRole()}${this.renderAriaLabel()} ${this.renderAriaRoleDescription()}${this.renderAriaChecked()} />`}},fu=Tg;var Ig=/&(?:[a-zA-Z]+|#\d+);/g;function Eg(s){if(!s||typeof s!="string"||!Ig.test(s))return s;let t=Eg._element;return Ig.lastIndex=0,s.replace(Ig,e=>(t.innerHTML=e,t.textContent||t.innerText))}typeof document<"u"&&(Eg._element=document.createElement("span"));var zg=class extends ri{geometryChange(){let t=this.pos();this.attr("x",t.x),this.attr("y",t.y),this.invalidate()}optionsChange(t){t.field==="font"?(this.attr("style",M2(this.mapStyle())),this.geometryChange()):t.field==="content"&&super.content(this.srcElement.content()),super.optionsChange(t)}mapStyle(t){let e=super.mapStyle(t),i=this.srcElement.options.font;return t&&(i=Yi(i)),e.push(["font",i],["white-space","pre"]),e}pos(){let t=this.srcElement.position(),e=this.srcElement.measure();return t.clone().setY(t.y+e.baseline)}renderContent(){let t=this.srcElement.content();return t=Eg(t),t=Yi(t),c2(t)}renderTextAnchor(){let t;return(this.options||{}).rtl&&!(Xi.browser.msie||Xi.browser.edge)&&(t="end"),Ie("text-anchor",t)}renderPaintOrder(){let t=this.srcElement.options.paintOrder;return t?Ie("paint-order",t):""}template(){return`<text ${this.renderId()} ${this.renderTextAnchor()} ${this.renderStyle()} ${this.renderOpacity()}x='${this.pos().x}' y='${this.pos().y}' ${this.renderStroke()} ${this.renderTransform()} ${this.renderDefinitions()}${this.renderPaintOrder()}${this.renderFill()}${this.renderClassName()} ${this.renderRole()}${this.renderAriaLabel()} ${this.renderAriaRoleDescription()}${this.renderAriaChecked()}>${this.renderContent()}</text>`}},gu=zg;qn.Arc=hu;qn.Circle=du;qn.Group=pu;qn.Image=uu;qn.MultiPath=mu;qn.Path=ri;qn.Rect=fu;qn.Text=gu;var WP="rtl";function qP(s){let t;try{t=s.getScreenCTM?s.getScreenCTM():null}catch{}if(t){let e=-t.e%1,i=-t.f%1,n=s.style;(e!==0||i!==0)&&(n.left=e+"px",n.top=i+"px")}}var kg=class extends sc{get type(){return"svg"}constructor(t,e){super(t,e),this._root=new rc(Object.assign({rtl:io(t,"direction").direction===WP},this.options)),tu(this.element,this._template("")),this._rootElement=this.element.firstElementChild,this._rootElement.style.width="100%",this._rootElement.style.height="100%",this._rootElement.style.overflow="hidden",qP(this._rootElement),this._root.attachTo(this._rootElement),va(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove}),this.resize()}destroy(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,xa(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),super.destroy()}translate(t){let e=`${Math.round(t.x)} ${Math.round(t.y)} ${this._size.width} ${this._size.height}`;this._offset=t,this._rootElement.setAttribute("viewBox",e)}draw(t){super.draw(t),this._root.load([t])}clear(){super.clear(),this._root.clear()}svg(){return"<?xml version='1.0' ?>"+this._template()}exportVisual(){let{_visual:t,_offset:e}=this;if(e){let i=new wn;i.children.push(t),i.transform($t().translate(-e.x,-e.y)),t=i}return t}_resize(){this._offset&&this.translate(this._offset)}_template(t){return`<svg ${typeof t=="string"?t:"style='width: 100%; height: 100%; overflow: hidden;' "}xmlns='${ao}' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>${this._root.render()}</svg>`}},vu=kg;var YP={},Sn=YP;var Dg=class extends ws{constructor(t){super(t),t&&this.initClip()}initClip(){let t=this.srcElement.clip();t&&(this.clip=t,t.addObserver(this))}clear(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),super.clear()}clearClip(){this.clip&&(this.clip.removeObserver(this),delete this.clip)}setClip(t){this.clip&&(t.beginPath(),new Sn[this.clip.nodeType](this.clip).renderPoints(t,this.clip),t.clip("evenodd"))}optionsChange(t){t.field==="clip"&&(this.clearClip(),this.initClip()),super.optionsChange(t)}setTransform(t){if(this.srcElement){let e=this.srcElement.transform();e&&t.transform.apply(t,e.matrix().toArray(6))}}loadElements(t,e,i){for(let n=0;n<t.length;n++){let o=t[n],r=o.children,a=new Sn[o.nodeType](o,i);r&&r.length>0&&a.load(r,e,i),U(e)?this.insertAt(a,e):this.append(a)}}load(t,e,i){this.loadElements(t,e,i),this.invalidate()}setOpacity(t){if(this.srcElement){let e=this.srcElement.opacity();U(e)&&this.globalAlpha(t,e)}}globalAlpha(t,e){let i=e;i&&t.globalAlpha&&(i*=t.globalAlpha),t.globalAlpha=i}visible(){let t=this.srcElement;return!t||t&&t.options.visible!==!1}},ac=Dg;var Pg=class extends tc(ac,"childNodes"){renderTo(t){if(!this.visible())return;t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t);let e=this.childNodes;for(let i=0;i<e.length;i++){let n=e[i];n.visible()&&n.renderTo(t)}t.restore()}},lc=Pg;var XP=1e3/60,Lg=class extends tc(lc,"childNodes"){constructor(t,e){super(),this.canvas=t,this.size=e,this.ctx=t.getContext("2d");let i=this._invalidate.bind(this);this.invalidate=Un(()=>{ql(i)},XP)}destroy(){super.destroy(),this.canvas=null,this.ctx=null}load(t,e,i){this.loadElements(t,e,i),this._invalidate()}_rescale(t){let{canvas:e,size:i}=this;e.width=i.width*t,e.height=i.height*t,this.ctx.scale(t,t)}_devicePixelRatio(){return typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1}_invalidate(t){if(!this.ctx)return;let i=t&&t.fixedScale?1:this._devicePixelRatio();this._rescale(i),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx)}},xu=Lg;var Rg=class extends z{constructor(){super(),this.shapes=[]}_add(t,e){this.shapes.push({bbox:e,shape:t}),t._quadNode=this}pointShapes(t){let e=this.shapes,i=e.length,n=[];for(let o=0;o<i;o++)e[o].bbox.containsPoint(t)&&n.push(e[o].shape);return n}insert(t,e){this._add(t,e)}remove(t){let e=this.shapes,i=e.length;for(let n=0;n<i;n++)if(e[n].shape===t){e.splice(n,1);break}}},yu=Rg;var Og=class s extends yu{constructor(t){super(),this.children=[],this.rect=t}inBounds(t){let e=this.rect,i=e.bottomRight(),n=t.bottomRight();return e.origin.x<=t.origin.x&&e.origin.y<=t.origin.y&&n.x<=i.x&&n.y<=i.y}pointShapes(t){let e=this.children,i=e.length,n=super.pointShapes(t);for(let o=0;o<i;o++)xs(n,e[o].pointShapes(t));return n}insert(t,e){let i=this.children,n=!1;if(this.inBounds(e)){if(this.shapes.length<4)this._add(t,e);else{i.length||this._initChildren();for(let o=0;o<i.length;o++)if(i[o].insert(t,e)){n=!0;break}n||this._add(t,e)}n=!0}return n}_initChildren(){let{rect:t,children:e}=this,i=t.center(),n=t.width()/2,o=t.height()/2;e.push(new s(new Rt([t.origin.x,t.origin.y],[n,o])),new s(new Rt([i.x,t.origin.y],[n,o])),new s(new Rt([t.origin.x,i.y],[n,o])),new s(new Rt([i.x,i.y],[n,o])))}},bu=Og;var Cs=3e3,S_=1e4,$P=75,Vg=class extends z{constructor(){super(),this.initRoots()}initRoots(){this.rootMap={},this.root=new yu,this.rootElements=[]}clear(){let t=this.rootElements;for(let e=0;e<t.length;e++)this.remove(t[e]);this.initRoots()}pointShape(t){let e=(this.rootMap[Math.floor(t.x/Cs)]||{})[Math.floor(t.y/Cs)],i=this.root.pointShapes(t);e&&(i=i.concat(e.pointShapes(t))),this.assignZindex(i),i.sort(QP);for(let n=0;n<i.length;n++)if(i[n].containsPoint(t))return i[n]}assignZindex(t){for(let e=0;e<t.length;e++){let i=t[e],n=0,o=Math.pow(S_,$P),r=[];for(;i;)r.push(i),i=i.parent;for(;r.length;)i=r.pop(),n+=((i.parent?i.parent.children:this.rootElements).indexOf(i)+1)*o,o/=S_;t[e]._zIndex=n}}optionsChange(t){(t.field==="transform"||t.field==="stroke.width")&&this.bboxChange(t.element)}geometryChange(t){this.bboxChange(t.element)}bboxChange(t){if(t.nodeType==="Group")for(let e=0;e<t.children.length;e++)this.bboxChange(t.children[e]);else t._quadNode&&t._quadNode.remove(t),this._insertShape(t)}add(t){let e=Array.isArray(t)?t.slice(0):[t];xs(this.rootElements,e),this._insert(e)}childrenChange(t){if(t.action==="remove")for(let e=0;e<t.items.length;e++)this.remove(t.items[e]);else this._insert(Array.prototype.slice.call(t.items,0))}_insert(t){let e;for(;t.length>0;)e=t.pop(),e.addObserver(this),e.nodeType==="Group"?xs(t,e.children):this._insertShape(e)}_insertShape(t){let e=t.bbox();if(e){let i=this.getSectors(e),n=i[0][0],o=i[1][0];if(this.inRoot(i))this.root.insert(t,e);else{let r=this.rootMap;r[n]||(r[n]={}),r[n][o]||(r[n][o]=new bu(new Rt([n*Cs,o*Cs],[Cs,Cs]))),r[n][o].insert(t,e)}}}remove(t){if(t.removeObserver(this),t.nodeType==="Group"){let e=t.children;for(let i=0;i<e.length;i++)this.remove(e[i])}else t._quadNode&&(t._quadNode.remove(t),delete t._quadNode)}inRoot(t){return t[0].length>1||t[1].length>1}getSectors(t){let e=t.bottomRight(),i=Math.floor(e.x/Cs),n=Math.floor(e.y/Cs),o=[[],[]];for(let r=Math.floor(t.origin.x/Cs);r<=i;r++)o[0].push(r);for(let r=Math.floor(t.origin.y/Cs);r<=n;r++)o[1].push(r);return o}};function QP(s,t){return s._zIndex<t._zIndex?1:s._zIndex>t._zIndex?-1:0}var T2=Vg;var Bg=class{constructor(t){t.bind("mouseenter",this._mouseenter.bind(this)),t.bind("mouseleave",this._mouseleave.bind(this)),this.element=t.element}clear(){this._resetCursor()}destroy(){this._resetCursor(),delete this.element}_mouseenter(t){let e=this._shapeCursor(t);e?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(e)):this._resetCursor()}_mouseleave(){this._resetCursor()}_shapeCursor(t){let e=t.element;for(;e&&!U(e.options.cursor);)e=e.parent;if(e)return e.options.cursor}_getCursor(){if(this.element)return this.element.style.cursor}_setCursor(t){this.element&&(this.element.style.cursor=t,this._current=t)}_resetCursor(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)}},M_=Bg;function Ca(s,t){let e=t.segments;if(e.length===0)return;let i=e[0],n=i.anchor();s.moveTo(n.x,n.y);for(let o=1;o<e.length;o++){i=e[o],n=i.anchor();let a=e[o-1].controlOut(),l=i.controlIn();a&&l?s.bezierCurveTo(a.x,a.y,l.x,l.y,n.x,n.y):s.lineTo(n.x,n.y)}t.options.closed&&s.closePath()}function ZP(s,t){for(let e=0;e<t.length;e++){let i=t[e],n=eo(i.color());n.a*=i.opacity(),s.addColorStop(i.offset(),n.toCssRgba())}}var Hg=class extends ac{renderTo(t){t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),this.renderPoints(t,this.srcElement),this.setLineDash(t),this.setLineCap(t),this.setLineJoin(t),this.setFill(t),this.setStroke(t),t.restore()}setFill(t){let e=this.srcElement.options.fill,i=!1;return e&&(e.nodeType==="Gradient"?(this.setGradientFill(t,e),i=!0):xn(e.color)||(t.fillStyle=e.color,t.save(),this.globalAlpha(t,e.opacity),t.fill(),t.restore(),i=!0)),i}setGradientFill(t,e){let i=this.srcElement.rawBBox(),n;if(e instanceof ic){let o=e.start(),r=e.end();n=t.createLinearGradient(o.x,o.y,r.x,r.y)}else if(e instanceof nc){let o=e.center();n=t.createRadialGradient(o.x,o.y,0,o.x,o.y,e.radius())}ZP(n,e.stops),t.save(),e.userSpace()||t.transform(i.width(),0,0,i.height(),i.origin.x,i.origin.y),t.fillStyle=n,t.fill(),t.restore()}setStroke(t){let e=this.srcElement.options.stroke;if(e&&!xn(e.color)&&e.width>0)return t.strokeStyle=e.color,t.lineWidth=nr(e.width,1),t.lineJoin=nr(e.lineJoin,t.lineJoin),t.save(),this.globalAlpha(t,e.opacity),t.stroke(),t.restore(),!0}dashType(){let t=this.srcElement.options.stroke;if(t&&t.dashType)return t.dashType.toLowerCase()}setLineDash(t){let e=this.dashType();if(e&&e!==A2){let i=lu[e];t.setLineDash?t.setLineDash(i):(t.mozDash=i,t.webkitLineDash=i)}}setLineCap(t){let e=this.dashType(),i=this.srcElement.options.stroke;e&&e!==A2?t.lineCap=cu:i&&i.lineCap&&(t.lineCap=i.lineCap)}setLineJoin(t){let e=this.srcElement.options.stroke;e&&e.lineJoin&&(t.lineJoin=e.lineJoin)}renderPoints(t,e){Ca(t,e)}},ai=Hg;var Ng=class extends ai{renderPoints(t){let e=this.srcElement.toPath();Ca(t,e)}},_u=Ng;var Fg=class extends ai{renderPoints(t){let{center:e,radius:i}=this.srcElement.geometry();t.arc(e.x,e.y,i,0,Math.PI*2)}},wu=Fg;var jg=class extends ai{constructor(t,e){super(t),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loading=ys();let i=this.img=new Image,n=t.src();e&&!/^data:/i.test(n)&&(i.crossOrigin=e),n&&(i.src=n),i.complete?this.onLoad():(i.onload=this.onLoad,i.onerror=this.onError)}renderTo(t){this.loading.state()==="resolved"&&(t.save(),this.setTransform(t),this.setClip(t),this.drawImage(t),t.restore())}optionsChange(t){t.field==="src"?(this.loading=ys(),this.img.src=this.srcElement.src()):super.optionsChange(t)}onLoad(){this.loading.resolve(),this.invalidate()}onError(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))}drawImage(t){let e=this.srcElement.rect(),i=e.topLeft();t.drawImage(this.img,i.x,i.y,e.width(),e.height())}},Cu=jg;var Ug=class extends ai{renderPoints(t){let e=this.srcElement.paths;for(let i=0;i<e.length;i++)Ca(t,e[i])}},Su=Ug;var Gg=class extends ai{renderPoints(t){let e=this.srcElement.geometry(),[i,n]=e.cornerRadius;if(i===0&&n===0){let{origin:o,size:r}=e;t.rect(o.x,o.y,r.width,r.height)}else super.renderPoints(t,oo.fromRect(e))}},Mu=Gg;var Wg=class extends ai{renderTo(t){let e=this.srcElement,i=e.position(),n=e.measure();t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),t.font=e.options.font,t.textAlign="left",e.options.paintOrder==="stroke"?(this.stroke(t,e,i,n),this.fill(t,e,i,n)):(this.fill(t,e,i,n),this.stroke(t,e,i,n)),t.restore()}stroke(t,e,i,n){this.setStroke(t)&&(this.setLineDash(t),t.strokeText(e.content(),i.x,i.y+n.baseline))}fill(t,e,i,n){this.setFill(t)&&t.fillText(e.content(),i.x,i.y+n.baseline)}},Au=Wg;Sn.Arc=_u;Sn.Circle=wu;Sn.Group=lc;Sn.Image=Cu;Sn.MultiPath=Su;Sn.Path=ai;Sn.Rect=Mu;Sn.Text=Au;var qg=class extends sc{get type(){return"canvas"}constructor(t,e){super(t,e),this.element.innerHTML=this._template(this);let i=this.element.firstElementChild;i.style.width="100%",i.style.height="100%";let n=no(t);i.width=n.width,i.height=n.height,this._rootElement=i,this._root=new xu(i,n),this._mouseTrackHandler=this._trackMouse.bind(this),va(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}destroy(){super.destroy(),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),xa(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}draw(t){super.draw(t),this._root.load([t],void 0,this.options.cors),this._searchTree&&this._searchTree.add([t])}clear(){super.clear(),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()}eventTarget(t){if(this._searchTree){let e=this._surfacePoint(t);return this._searchTree.pointShape(e)}}image(){let{_root:t,_rootElement:e}=this,i=[];t.traverse(r=>{r.loading&&i.push(r.loading)});let n=ys(),o=()=>{t._invalidate({fixedScale:!0});try{let r=e.toDataURL();n.resolve(r)}catch(r){n.reject(r)}};return s2(i).then(o,o),n}suspendTracking(){super.suspendTracking(),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)}resumeTracking(){if(super.resumeTracking(),!this._searchTree){this._searchTree=new T2;let t=this._root.childNodes,e=[];for(let i=0;i<t.length;i++)e.push(t[i].srcElement);this._searchTree.add(e)}}_resize(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()}_template(){return"<canvas></canvas>"}_enableTracking(){this._searchTree=new T2,this._cursor=new M_(this),super._enableTracking()}_trackMouse(t){if(this._suspendedTracking)return;let e=this.eventTarget(t);if(t.type!=="click"){let i=this._currentShape;i&&i!==e&&this.trigger("mouseleave",{element:i,originalEvent:t,type:"mouseleave"}),e&&i!==e&&this.trigger("mouseenter",{element:e,originalEvent:t,type:"mouseenter"}),this.trigger("mousemove",{element:e,originalEvent:t,type:"mousemove"}),this._currentShape=e}else e&&this.trigger("click",{element:e,originalEvent:t,type:"click"})}},cc=qg;var Yg,Xg,A_=()=>typeof document<"u",KP=()=>A_()&&document.createElement("canvas").getContext,JP=()=>A_()&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),$g=class s extends z{static get support(){return Xg||(Xg={canvas:KP(),svg:JP()}),Xg}static get current(){return Yg||(Yg=new s),Yg}constructor(){super(),this._items=[{name:"svg",type:vu},{name:"canvas",type:cc}]}create(t,e){let i=this._items,n=i[0];if(e&&e.type){let o=e.type.toLowerCase();for(let r=0;r<i.length;r++)if(i[r].name===o){n=i[r];break}}if(n)return new n.type(t,e);Zo(`Warning: Unable to create Kendo UI Drawing Surface. Possible causes:
- The browser does not support SVG and Canvas. User agent: ${navigator.userAgent}`)}},I2=$g;var Qg=class extends sc{static get support(){return I2.support}static create(t,e){return I2.current.create(t,e)}},T_=Qg;var Zg={};yl(Zg,{ArcNode:()=>hu,CircleNode:()=>du,ClipNode:()=>ru,DefinitionNode:()=>au,GradientStopNode:()=>iu,GroupNode:()=>pu,ImageNode:()=>uu,LinearGradientNode:()=>su,MultiPathNode:()=>mu,Node:()=>oi,PathNode:()=>ri,RadialGradientNode:()=>ou,RectNode:()=>fu,RootNode:()=>rc,Surface:()=>vu,TextNode:()=>gu,exportGroup:()=>z2});function z2(s){let t=new rc({skipBaseHref:!0}),e=s.clippedBBox(),i=s;if(e){let o=e.getOrigin(),r=new wn;r.transform($t().translate(-o.x,-o.y)),r.children.push(s),i=r}t.load([i]);let n=`<?xml version='1.0' ?><svg xmlns='${ao}' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>${t.render()}</svg>`;return t.destroy(),n}var Kg={};yl(Kg,{ArcNode:()=>_u,CircleNode:()=>wu,GroupNode:()=>lc,ImageNode:()=>Cu,MultiPathNode:()=>Su,Node:()=>ac,PathNode:()=>ai,RectNode:()=>Mu,RootNode:()=>xu,Surface:()=>cc,TextNode:()=>Au});function Jg(s,t){let e={width:"800px",height:"600px",cors:"Anonymous"},i=s,n=s.clippedBBox();if(n){let d=n.getOrigin();i=new wn,i.transform($t().translate(-d.x,-d.y)),i.children.push(s);let p=n.getSize();e.width=p.width+"px",e.height=p.height+"px"}let o=Object.assign(e,t),r=document.createElement("div"),a=r.style;a.display="none",a.width=o.width,a.height=o.height,document.body.appendChild(r);let l=new cc(r,o);l.suspendTracking(),l.draw(i);let c=l.image(),h=()=>{l.destroy(),document.body.removeChild(r)};return c.then(h,h),c}function tv(s,t){let e=z2(s);return(!t||!t.raw)&&(e="data:image/svg+xml;base64,"+e2(e)),ys().resolve(e)}function se(s){let t=.5;s.options.stroke&&_.util.defined(s.options.stroke.width)&&s.options.stroke.width%2===0&&(t=0);for(let e=0;e<s.segments.length;e++)s.segments[e].anchor().round(0).translate(t,t);return s}function E2(s,t){return-s.x*t.y+s.y*t.x<0}function rt(s){return typeof s=="number"&&!isNaN(s)}function oe(s){return typeof s===Wl}function hc(s){return rt(s)||oe(s)&&isFinite(s)}function k2(s,t){return(s+1)%t}function D2(s,t){let e=s-1;return e<0?t-1:e}function lo(s,t){return t===1||s%t===0?0:s<0?t+s%t:s>=t?s%t:s}function pt(s){return typeof s=="function"}var I_="object",tL="undefined";function z_(s,t){for(let e in t){let i=t[e],n=typeof i,o;if(n===I_&&i!==null?o=i.constructor:o=null,o&&o!==Array)if(i instanceof Date)s[e]=new Date(i.getTime());else if(pt(i.clone))s[e]=i.clone();else{let r=s[e];typeof r===I_?s[e]=r||{}:s[e]={},z_(s[e],i)}else n!==tL&&(s[e]=i)}return s}function v(s){let t=arguments.length;for(let e=1;e<t;e++)z_(s,arguments[e]);return s}function me(s){return typeof s=="object"}function Ss(s){return rt(s)?s+"px":s}var eL=/width|height|top|left|bottom|right/i;function iL(s){return eL.test(s)}function Vt(s,t){let e=oe(t)?[t]:t;if(kt(e)){let i={},n=window.getComputedStyle(s);for(let o=0;o<e.length;o++){let r=e[o];i[r]=iL(r)?parseFloat(n[r]):n[r]}return i}else if(me(t))for(let i in t)s.style[i]=Ss(t[i])}function at(s,t=0){let e={top:0,right:0,bottom:0,left:0};return typeof s=="number"?e[nt]=e[dt]=e[lt]=e[K]=s:(e[nt]=s[nt]||t,e[dt]=s[dt]||t,e[lt]=s[lt]||t,e[K]=s[K]||t),e}var E_={compile:function(s){return s}},ev=class{static register(t){E_=t}static compile(t,e){return E_.compile(t,e)}},co=ev;function Dt(s={}){let t;return s.template?s.template=t=co.compile(s.template):pt(s.content)&&(t=s.content),t}function dc(s={}){let t;return s.ariaTemplate?s.ariaTemplate=t=co.compile(s.ariaTemplate):pt(s.ariaContent)&&(t=s.ariaContent),t}var nL=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,P2={};P2.undefined=function(s){return s};function Vi(s){if(P2[s])return P2[s];let t=[];return s.replace(nL,function(e,i,n,o){t.push(_.util.defined(i)?i:n||o)}),P2[s]=function(e){let i=e;for(let n=0;n<t.length&&i;n++)i=i[t[n]];return i},P2[s]}function fe(s,t){let e=s.length,i=[];for(let n=0;n<e;n++)t(s[n])&&i.push(s[n]);return i}function hr(s,t){if(s.className){let e=t.split(" ");for(let i=0;i<e.length;i++)if(s.className.indexOf&&s.className.indexOf(e[i])!==-1)return!0}}var L2=class{constructor(){this._map=new Map}get(t){return this._map.get(t)}set(t,e){this._map.set(t,e)}};function J(s,t){if(t)return t.indexOf(s)!==-1}function ze(s,t,e){return _.util.round(s+(t-s)*e,3)}var k_="trigger",iv=class{constructor(t,e){this.observer=t,this.handlerMap=v({},this.handlerMap,e)}trigger(t,e){let{observer:i,handlerMap:n}=this,o;return n[t]?o=this.callObserver(n[t],e):i[k_]&&(o=this.callObserver(k_,t,e)),o}callObserver(t,...e){return this.observer[t].apply(this.observer,e)}requiresHandlers(t){if(this.observer.requiresHandlers)return this.observer.requiresHandlers(t);for(let e=0;e<t.length;e++)if(this.handlerMap[t[e]])return!0}},R2=iv;function Tu(s){return Object.prototype.toString.call(s)==="[object Object]"}function pc(s,t){let e=s.length,i=[];for(let n=0;n<e;n++){let o=t(s[n]);_.util.defined(o)&&i.push(o)}return i}var sL=Xi.browser||{};function dr(s){let t=0;return s.wheelDelta?(t=-s.wheelDelta/120,sL.webkit&&(t=t/(2*Math.max(window.devicePixelRatio,.625)))):s.detail&&(t=s.detail/3),t=t>0?Math.ceil(t):Math.floor(t),t}var{append:Bi,bindEvents:Sa,defined:M,deg:Mn,elementOffset:Ms,elementSize:Qi,eventCoordinates:Iu,eventElement:Ee,hashKey:D_,last:Pt,limitValue:W,objectKey:P_,rad:jt,round:R,unbindEvents:Ma,valueOrDefault:q}=_.util;var nv=class s{static fetchFonts(t,e,i={depth:0}){!t||i.depth>5||!document.fonts||Object.keys(t).forEach(function(o){let r=t[o];o==="dataSource"||o[0]==="$"||!r||(o==="font"?e.push(r):typeof r=="object"&&(i.depth++,s.fetchFonts(r,e,i),i.depth--))})}static loadFonts(t,e){let i=[];if(t.length>0&&document.fonts){try{i=t.map(function(n){return document.fonts.load(n)})}catch(n){Zo(n)}Promise.all(i).then(e,e)}else e()}static preloadFonts(t,e){let i=[];s.fetchFonts(t,i),s.loadFonts(i,e)}},sv=nv;function b(s,t){let e=s.prototype;e.options?e.options=v({},e.options,t):e.options=t}var oL="k-icon",ov="k-i-",rL="k-svg-icon",L_="k-svg-i-",O2=class{constructor(t,e){this.element=t,this.options=v({},this.options,e),this.wrapper()}wrapper(){this.addClasses()}addClasses(){}html(){return this.element.outerHTML}};b(O2,{name:"",size:"none",themeColor:"none",flip:"default",iconClass:"",stylingOptions:["size","themeColor","fill"]});var zu=class extends O2{constructor(t,e){super(t,e)}wrapper(){let t=this.element.className.split(" ").find(i=>i.startsWith(ov)),e=this.options.icon?`${this.options.icon.startsWith(ov)?"":ov}${this.options.icon}`:"";this._className=e,bt(this.element,oL),ga(this.element,t),bt(this.element,e),bt(this.element,this.options.iconClass||""),super.wrapper()}};b(zu,{name:"HTMLFontIcon",icon:null});var Eu=class extends O2{constructor(t,e){t.innerHTML="",super(t,e)}wrapper(){let t=this.options.icon,e=this.options.iconClass,i=this.element.className.split(" ").find(o=>o.startsWith(L_));if(!t&&e){let o=/k-i-(\w+(?:-\w+)*)/,r=e.match(o);r&&(t=r[1],e=e.replace(r[0],""))}oe(t)&&(t=t.replace("k-i-","").replace(/-./g,o=>o[1].toUpperCase()),t=this.options.svgIcons[t]||this.options.svgIcons[`${t}Icon`]);let n=t&&t.name?`${L_}${t.name}`:"";if(this._className=n,bt(this.element,rL),ga(this.element,i),bt(this.element,n),bt(this.element,e||""),this.element.setAttribute("aria-hidden","true"),t&&Tu(t)){let o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("viewBox",t.viewBox||""),o.setAttribute("focusable","false"),o.innerHTML=t.content||"",this.element.appendChild(o)}super.wrapper()}};b(Eu,{name:"HTMLSvgIcon",icon:null,svgIcons:{}});var R_={svg:Eu,font:zu};function Yn(s,t){let e=s,i=t;return(!e||me(e)&&!(e instanceof HTMLElement)||oe(e))&&(i=e,e=document.createElement("span")),oe(i)&&(i={icon:i}),i.type||(i.type="svg"),R_[i.type]?new R_[i.type](e,i).html():null}function Aa(s){let t=yt,e=Tt;for(let i=0,n=s.length;i<n;i++){let o=s[i];o!==null&&isFinite(o)&&(t=Math.min(t,o),e=Math.max(e,o))}return{min:t===yt?void 0:t,max:e===Tt?void 0:e}}function uc(s,t){for(let e=0;e<s.length;e++){let i=s[e];if(t(i,e,s))return i}}var ku=T.Matrix,aL=/matrix\((.*)\)/;function lL(s){let t=s.match(aL);if(t===null||t.length!==2)return ku.unit();let e=t[1].split(",").map(i=>parseFloat(i));return new ku(...e)}function O_(s){let t=getComputedStyle(s).transform;return t==="none"?ku.unit():lL(t)}function Du(s){if(!s)return ku.unit();let t=O_(s),e=s.parentElement;for(;e;){let i=O_(e);t=t.multiplyCopy(i),e=e.parentElement}return t.b=t.c=t.e=t.f=0,t}function cL(s){return new Oe(s).isDark()?ct:ft}var ho=cL;var V_={},rv=class{constructor(t){this._index={},this._values=t?t.slice(0):[];for(let e=0;e<this._values.length;e++)this._index[this._values[e]]=e}values(){return this._values.filter(t=>t!==V_)}has(t){return this._index[t]!==void 0}add(t){this.has(t)||(this._index[t]=this._values.length,this._values.push(t))}delete(t){let e=this._index[t];e!==void 0&&(this._values[e]=V_,delete this._index[t])}clear(){this._index={},this._values=[]}get size(){return this._values.length}},av=class{constructor(t){this._set=new Set(t)}values(){return Array.from(this._set)}has(t){return this._set.has(t)}add(t){this._set.add(t)}delete(t){this._set.delete(t)}clear(){this._set.clear()}get size(){return this._set.size}},hL=()=>{let s=!1;return typeof Set=="function"&&(s=new Set([1]).has(1)),s};function V2(s){return hL()?new av(s):new rv(s)}function mc(s){throw s}var dL={INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},po=dL;function An(s,t){return Object.prototype.hasOwnProperty.call(s,t)}var lv=class s{constructor(){this.height=0,this.width=0,this.data=[]}clone(){let t=new s;return t.height=this.height,t.width=this.width,t.data=this.data.map(e=>e.slice()),t}get(t,e){let i=this.data[t];return i?i[e]:null}set(t,e,i){let n=this.data[t];n==null&&(n=this.data[t]=[]),n[e]=i,t>=this.height&&(this.height=t+1),e>=this.width&&(this.width=e+1)}each(t,e){for(let i=0;i<this.height;++i)for(let n=0;n<this.width;++n){let o=this.get(i,n);if((e||o!=null)&&(o=t(o,i,n),o!==void 0))return o}}map(t,e){let i=new s;return this.each(function(n,o,r){i.set(o,r,t(n,o,r))},e),i}transpose(){let t=new s;return this.each(function(e,i,n){t.set(n,i,e)}),t}unit(t){this.width=this.height=t;let e=this.data=new Array(t);for(let i=t;--i>=0;){let n=e[i]=new Array(t);for(let o=t;--o>=0;)n[o]=i===o?1:0}return this}multiply(t){let e=this,i=new s;for(let n=0;n<e.height;++n)for(let o=0;o<t.width;++o){let r=0;for(let a=0;a<e.width;++a){let l=e.get(n,a),c=t.get(a,o);typeof l=="number"&&typeof c=="number"&&(r+=l*c)}i.set(n,o,r)}return i}inverse(){let t=this.width,e=this.augment(new s().unit(t)),i=e.data;for(let n=0;n<t;++n){let o=pL(n,t,function(r){return i[r][n]});if(!i[o][n])return null;if(n!==o){let r=i[n];i[n]=i[o],i[o]=r}for(let r=n+1;r<t;++r){for(let a=n+1;a<2*t;++a)i[r][a]-=i[n][a]*i[r][n]/i[n][n];i[r][n]=0}}for(let n=0;n<t;++n)for(let o=i[n][n],r=0;r<2*t;++r)i[n][r]/=o;for(let n=t;--n>=0;)for(let o=n;--o>=0;)if(i[o][n])for(let r=2*t;--r>=t;)i[o][r]-=i[n][r]*i[o][n];return e.slice(0,t,t,t)}augment(t){let e=this.clone(),i=e.width;return t.each(function(n,o,r){e.set(o,r+i,n)}),e}slice(t,e,i,n){let o=new s;for(let r=0;r<i;++r)for(let a=0;a<n;++a)o.set(r,a,this.get(t+r,e+a));return o}};function pL(s,t,e){let i=e(s),n=s;for(let o=s+1;o<t;o++){let r=e(s);r>i&&(i=r,n=s)}return n}var Pu=lv;function Zi(s,t){let e=R(t-s,9);if(e===0){if(t===0)return .1;e=Math.abs(t)}let i=Math.pow(10,Math.floor(Math.log(e)/Math.log(10))),n=R(e/i,10),o=1;return n<1.904762?o=.2:n<4.761904?o=.5:n<9.523809?o=1:o=2,R(i*o,10)}var cv=class s extends z{constructor(t,e){super(),this.x=t||0,this.y=e||0}clone(){return new s(this.x,this.y)}equals(t){return t&&this.x===t.x&&this.y===t.y}rotate(t,e){let i=jt(e),n=Math.cos(i),o=Math.sin(i),{x:r,y:a}=t,{x:l,y:c}=this;return this.x=R(r+(l-r)*n+(c-a)*o,3),this.y=R(a+(c-a)*n-(l-r)*o,3),this}multiply(t){return this.x*=t,this.y*=t,this}distanceTo(t){let e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)}static onCircle(t,e,i){let n=jt(e);return new s(t.x-i*Math.cos(n),t.y-i*Math.sin(n))}},Y=cv;var hv=class s extends z{constructor(t,e,i,n){super(),this.x1=t||0,this.y1=e||0,this.x2=i||0,this.y2=n||0}equals(t){return this.x1===t.x1&&this.x2===t.x2&&this.y1===t.y1&&this.y2===t.y2}width(){return this.x2-this.x1}height(){return this.y2-this.y1}translate(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this}move(t,e){let i=this.height(),n=this.width();return M(t)&&(this.x1=t,this.x2=this.x1+n),M(e)&&(this.y1=e,this.y2=this.y1+i),this}wrap(t){return this.x1=Math.min(this.x1,t.x1),this.y1=Math.min(this.y1,t.y1),this.x2=Math.max(this.x2,t.x2),this.y2=Math.max(this.y2,t.y2),this}wrapPoint(t){let e=kt(t),i=e?t[0]:t.x,n=e?t[1]:t.y;return this.wrap(new s(i,n,i,n)),this}snapTo(t,e){return(e===B||!e)&&(this.x1=t.x1,this.x2=t.x2),(e===H||!e)&&(this.y1=t.y1,this.y2=t.y2),this}alignTo(t,e){let i=this.height(),n=this.width(),o=e===nt||e===lt?H:B,r=o===H?i:n;if(e===$){let a=t.center(),l=this.center();this.x1+=a.x-l.x,this.y1+=a.y-l.y}else e===nt||e===K?this[o+1]=t[o+1]-r:this[o+1]=t[o+2];return this.x2=this.x1+n,this.y2=this.y1+i,this}shrink(t,e){return this.x2-=t,this.y2-=e,this}expand(t,e){return this.shrink(-t,-e),this}pad(t){let e=at(t);return this.x1-=e.left,this.x2+=e.right,this.y1-=e.top,this.y2+=e.bottom,this}unpad(t){let e=at(t);return e.left=-e.left,e.top=-e.top,e.right=-e.right,e.bottom=-e.bottom,this.pad(e)}clone(){return new s(this.x1,this.y1,this.x2,this.y2)}center(){return new Y(this.x1+this.width()/2,this.y1+this.height()/2)}containsPoint(t){return t.x>=this.x1&&t.x<=this.x2&&t.y>=this.y1&&t.y<=this.y2}points(){return[new Y(this.x1,this.y1),new Y(this.x2,this.y1),new Y(this.x2,this.y2),new Y(this.x1,this.y2)]}getHash(){return[this.x1,this.y1,this.x2,this.y2].join(",")}overlaps(t){return!(t.y2<this.y1||this.y2<t.y1||t.x2<this.x1||this.x2<t.x1)}rotate(t){let e=this.width(),i=this.height(),{x:n,y:o}=this.center(),r=Lu(0,0,n,o,t),a=Lu(e,0,n,o,t),l=Lu(e,i,n,o,t),c=Lu(0,i,n,o,t);return e=Math.max(r.x,a.x,l.x,c.x)-Math.min(r.x,a.x,l.x,c.x),i=Math.max(r.y,a.y,l.y,c.y)-Math.min(r.y,a.y,l.y,c.y),this.x2=this.x1+e,this.y2=this.y1+i,this}toRect(){return new T.Rect([this.x1,this.y1],[this.width(),this.height()])}hasSize(){return this.width()!==0&&this.height()!==0}align(t,e,i){let n=e+1,o=e+2,r=e===B?fa:ua,a=this[r]();J(i,[K,nt])?(this[n]=t[n],this[o]=this[n]+a):J(i,[dt,lt])?(this[o]=t[o],this[n]=this[o]-a):i===$&&(this[n]=t[n]+(t[r]()-a)/2,this[o]=this[n]+a)}};function Lu(s,t,e,i,n){let o=jt(n);return new Y(e+(s-e)*Math.cos(o)+(t-i)*Math.sin(o),i-(s-e)*Math.sin(o)+(t-i)*Math.cos(o))}var k=hv;var dv=class s extends z{constructor(t,e,i,n,o){super(),this.center=t,this.innerRadius=e,this.radius=i,this.startAngle=n,this.angle=o}clone(){return new s(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)}middle(){return this.startAngle+this.angle/2}setRadius(t,e){return e?this.innerRadius=t:this.radius=t,this}point(t,e){let i=jt(t),n=Math.cos(i),o=Math.sin(i),r=e?this.innerRadius:this.radius,a=R(this.center.x-n*r,3),l=R(this.center.y-o*r,3);return new Y(a,l)}adjacentBox(t,e,i){let n=this.clone().expand(t),o=n.middle(),r=n.point(o),a=e/2,l=i/2,c=Math.sin(jt(o)),h=Math.cos(jt(o)),d=r.x-a,p=r.y-l;return Math.abs(c)<.9&&(d+=a*-h/Math.abs(h)),Math.abs(h)<.9&&(p+=l*-c/Math.abs(c)),new k(d,p,d+e,p+i)}containsPoint(t){let e=this.center,i=this.innerRadius,n=this.radius,o=this.startAngle,r=this.startAngle+this.angle,a=t.x-e.x,l=t.y-e.y,c=new Y(a,l),h=this.point(o),d=new Y(h.x-e.x,h.y-e.y),p=this.point(r),u=new Y(p.x-e.x,p.y-e.y),m=R(a*a+l*l,3);return(d.equals(c)||E2(d,c))&&!E2(u,c)&&m>=i*i&&m<=n*n}getBBox(){let t=new k(yt,yt,Tt,Tt),e=R(this.startAngle%360),i=R((e+this.angle)%360),n=this.innerRadius,o=[0,90,180,270,e,i].sort(uL),r=o.indexOf(e),a=o.indexOf(i),l;e===i?l=o:r<a?l=o.slice(r,a+1):l=[].concat(o.slice(0,a+1),o.slice(r,o.length));for(let c=0;c<l.length;c++){let h=this.point(l[c]);t.wrapPoint(h),t.wrapPoint(h,n)}return n||t.wrapPoint(this.center),t}expand(t){return this.radius+=t,this}};function uL(s,t){return s-t}var As=dv;var mL=.001,B2=class extends z{createRing(t,e){let i=t.startAngle+180,n=t.angle+i;(t.angle===0||t.angle>0&&i===n)&&(n+=mL);let o=new T.Point(t.center.x,t.center.y),r=Math.max(t.radius,0),a=Math.max(t.innerRadius,0),l=new T.Arc(o,{startAngle:i,endAngle:n,radiusX:r,radiusY:r}),c=_.Path.fromArc(l,e).close();if(a){l.radiusX=l.radiusY=a;let h=l.pointAt(n);c.lineTo(h.x,h.y),c.arc(n,i,a,a,!0)}else c.lineTo(o.x,o.y);return c}};B2.current=new B2;var uo=B2;var Ru=class extends z{constructor(t){super(),this.children=[],this.options=v({},this.options,this.initUserOptions(t))}initUserOptions(t){return t}reflow(t){let e=this.children,i;for(let n=0;n<e.length;n++){let o=e[n];o.reflow(t),i=i?i.wrap(o.box):o.box.clone()}this.box=i||t}destroy(){let t=this.children;this.animation&&this.animation.destroy();for(let e=0;e<t.length;e++)t[e].destroy()}getRoot(){let t=this.parent;return t?t.getRoot():null}getSender(){let t=this.getService();if(t)return t.sender}getService(){let t=this;for(;t;){if(t.chartService)return t.chartService;t=t.parent}}translateChildren(t,e){let i=this.children,n=i.length;for(let o=0;o<n;o++)i[o].box.translate(t,e)}append(){for(let t=0;t<arguments.length;t++){let e=arguments[t];this.children.push(e),e.parent=this}}renderVisual(){this.options.visible!==!1&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())}addVisual(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))}renderChildren(){let t=this.children,e=t.length;for(let i=0;i<e;i++)t[i].renderVisual()}createVisual(){this.visual=new _.Group({zIndex:this.options.zIndex,visible:q(this.options.visible,!0)})}createAnimation(){this.visual&&this.options.animation&&(this.animation=_.Animation.create(this.visual,this.options.animation))}appendVisual(t){t.chartElement||(t.chartElement=this),t.options.noclip?this.clipRoot().visual.append(t):M(t.options.zIndex)?this.stackRoot().stackVisual(t):this.isStackRoot?this.stackVisual(t):this.visual?this.visual.append(t):this.parent.appendVisual(t)}clipRoot(){return this.parent?this.parent.clipRoot():this}stackRoot(){return this.parent?this.parent.stackRoot():this}stackVisual(t){let e=t.options.zIndex||0,i=this.visual.children,n=i.length,o;for(o=0;o<n;o++){let r=i[o];if(q(r.options.zIndex,0)>e)break}this.visual.insert(o,t)}traverse(t){let e=this.children,i=e.length;for(let n=0;n<i;n++){let o=e[n];t(o),o.traverse&&o.traverse(t)}}closest(t){let e=this,i=!1;for(;e&&!i;)i=t(e),i||(e=e.parent);if(i)return e}renderComplete(){}hasHighlight(){let t=(this.options||{}).highlight;return!(!this.createHighlight||t&&t.visible===!1||this.visible===!1)}toggleHighlight(t,e){let i=(this.options||{}).highlight||{},n=i.visual,o=this._highlight;if(!o){let r={fill:{color:ct,opacity:e||.2},stroke:{color:ct,width:1,opacity:e||.2}};if(n){if(o=this._highlight=n(Object.assign(this.highlightVisualArgs(),{createVisual:()=>this.createHighlight(r),sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total})),!o)return}else o=this._highlight=this.createHighlight(r);M(o.options.zIndex)||(o.options.zIndex=q(i.zIndex,this.options.zIndex)),this.appendVisual(o)}o.visible(t)}toggleFocusHighlight(t){let e=((this.options||{}).accessibility||{}).highlight||{},i=this._focusHighlight;if(!(!t&&!i)){if(!i){let n=this.getRoot().options.background,o=ho(n),r={fill:{opacity:e.opacity,color:e.color},stroke:Object.assign({},{color:o},e.border),zIndex:e.zIndex};i=this._focusHighlight=this.createFocusHighlight(r),this.appendVisual(i)}i.visible(t)}}createGradientOverlay(t,e,i){let n=new _.Path(Object.assign({stroke:{color:"none"},fill:this.createGradient(i),closed:t.options.closed},e));return n.segments.elements(t.segments.elements()),n}createGradient(t){if(this.parent)return this.parent.createGradient(t)}supportsPointInactiveOpacity(){return!0}};Ru.prototype.options={};var tt=Ru;var Ou=class extends tt{constructor(t){super(t),this.options.margin=at(this.options.margin),this.options.padding=at(this.options.padding)}reflow(t){let e=this.options,{width:i,height:n,shrinkToFit:o}=e,r=i&&n,a=e.margin,l=e.padding,c=e.border.width,h,d=()=>{this.align(t,B,e.align),this.align(t,H,e.vAlign),this.paddingBox=h.clone().unpad(a).unpad(c)},p=t.clone();r&&(p.x2=p.x1+i,p.y2=p.y1+n),o&&p.unpad(a).unpad(c).unpad(l),super.reflow(p),r?h=this.box=new k(0,0,i,n):h=this.box,o&&r?(d(),p=this.contentBox=this.paddingBox.clone().unpad(l)):(p=this.contentBox=h.clone(),h.pad(l).pad(c).pad(a),d()),this.translateChildren(h.x1-p.x1+a.left+c+l.left,h.y1-p.y1+a.top+c+l.top);let u=this.children;for(let m=0;m<u.length;m++){let f=u[m];f.reflow(f.box)}}align(t,e,i){this.box.align(t,e,i)}hasBox(){let t=this.options;return t.border.width||t.background}createVisual(){super.createVisual(),this.options.visible&&this.hasBox()&&this.visual.append(_.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()))}visualStyle(){let t=this.options,e=t.border||{};return{stroke:{width:e.width,color:e.color,opacity:q(e.opacity,t.opacity),dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},cursor:t.cursor}}};b(Ou,{align:K,vAlign:nt,margin:{},padding:{},border:{color:ft,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});var yi=Ou;function Ta(s,t){t&&(s.options.className=t.className,s.options.role=t.role,s.options.ariaLabel=t.ariaLabel,s.options.ariaRoleDescription=t.ariaRoleDescription,s.options.ariaChecked=t.ariaChecked)}var Vu=class extends yi{constructor(t,e){super(t),this.pointData=e}getElement(){let{options:t,paddingBox:e}=this,{type:i,rotation:n}=t,o=e.center(),r=e.width()/2,a=e.height()/2;if(!t.visible||!this.hasBox())return null;let l=this.visualStyle(),c;if(i===ne)c=new _.Circle(new T.Circle([R(e.x1+r,3),R(e.y1+a,3)],Math.min(r,a)),l);else if(i===Eb)c=_.Path.fromPoints([[e.x1+r,e.y1],[e.x1,e.y2],[e.x2,e.y2]],l).close();else if(i===jl)c=new _.MultiPath(l),c.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),c.moveTo(e.x1,e.y2).lineTo(e.x2,e.y1);else{let h=e.toRect();if(i===Np){let d=q(t.borderRadius,h.width()/5);h.setCornerRadius(d)}c=_.Path.fromRect(h,l)}return n&&c.transform(T.transform().rotate(-n,[o.x,o.y])),c.options.zIndex=t.zIndex,c}createElement(){let t=this.options.visual,e=this.pointData||{},i;return t?i=t({value:e.value,dataItem:e.dataItem,sender:this.getSender(),series:e.series,category:e.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:()=>this.getElement()}):i=this.getElement(),i}visualOptions(){let t=this.options;return{background:t.background,border:t.border,margin:t.margin,padding:t.padding,type:t.type,size:t.width,visible:t.visible}}createVisual(){this.visual=this.createElement(),Ta(this.visual,this.options.accessibilityOptions)}};b(Vu,{type:ne,align:$,vAlign:$});var ee=Vu;var fL="linear",H2="radial",gL={glass:{type:fL,rotation:0,stops:[{offset:0,color:ct,opacity:0},{offset:.25,color:ct,opacity:.3},{offset:1,color:ct,opacity:0}]},sharpBevel:{type:H2,stops:[{offset:0,color:ct,opacity:.55},{offset:.65,color:ct,opacity:0},{offset:.95,color:ct,opacity:.25}]},roundedBevel:{type:H2,stops:[{offset:.33,color:ct,opacity:.06},{offset:.83,color:ct,opacity:.2},{offset:.95,color:ct,opacity:0}]},roundedGlass:{type:H2,supportVML:!1,stops:[{offset:0,color:ct,opacity:0},{offset:.5,color:ct,opacity:.3},{offset:.99,color:ct,opacity:0}]},sharpGlass:{type:H2,supportVML:!1,stops:[{offset:0,color:ct,opacity:.2},{offset:.15,color:ct,opacity:.15},{offset:.17,color:ct,opacity:.35},{offset:.85,color:ct,opacity:.05},{offset:.87,color:ct,opacity:.15},{offset:.99,color:ct,opacity:0}]},bubbleShadow:{type:H2,center:[.5,.5],radius:.5}},pv=gL;function uv(s,t){if(s.x1===t.x1&&s.y1===t.y1&&s.x2===t.x2&&s.y2===t.y2)return t;let e=Math.min(s.x1,t.x1),i=Math.max(s.x1,t.x1),n=Math.min(s.x2,t.x2),o=Math.max(s.x2,t.x2),r=Math.min(s.y1,t.y1),a=Math.max(s.y1,t.y1),l=Math.min(s.y2,t.y2),c=Math.max(s.y2,t.y2),h=[];return h[0]=new k(i,r,n,a),h[1]=new k(e,a,i,l),h[2]=new k(n,a,o,l),h[3]=new k(i,l,n,c),s.x1===e&&s.y1===r||t.x1===e&&t.y1===r?(h[4]=new k(e,r,i,a),h[5]=new k(n,l,o,c)):(h[4]=new k(n,r,o,a),h[5]=new k(e,l,i,c)),fe(h,function(d){return d.height()>0&&d.width()>0})[0]}var Bu=class extends tt{constructor(t){super(t);let e=this.options;e.width=parseInt(e.width,10),e.height=parseInt(e.height,10),this.gradients={}}reflow(){let{options:t,children:e}=this,i=new k(0,0,t.width,t.height);this.box=i.unpad(t.margin);for(let n=0;n<e.length;n++)e[n].reflow(i),i=uv(i,e[n].box)||new k}createVisual(){this.visual=new _.Group,this.createBackground()}createBackground(){let t=this.options,e=t.border||{},i=this.box.clone().pad(t.margin).unpad(e.width),n=_.Path.fromRect(i.toRect(),{stroke:{color:e.width?e.color:"",width:e.width,dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},zIndex:-10});this.visual.append(n)}getRoot(){return this}createGradient(t){let e=this.gradients,i=P_(t),n=pv[t.gradient],o;if(e[i])o=e[i];else{let r=Object.assign({},n,t);n.type==="linear"?o=new _.LinearGradient(r):(t.innerRadius&&(r.stops=vL(r)),o=new _.RadialGradient(r),o.supportVML=n.supportVML!==!1),e[i]=o}return o}cleanGradients(){let t=this.gradients;for(let e in t)t[e]._observers=[]}size(){let t=this.options;return new k(0,0,t.width,t.height)}};b(Bu,{width:600,height:400,background:ct,border:{color:ft,width:0},margin:at(5),zIndex:-2});function vL(s){let t=s.stops,e=s.innerRadius/s.radius*100,i=t.length,n=[];for(let o=0;o<i;o++){let r=Object.assign({},t[o]);r.offset=(r.offset*(100-e)+e)/100,n.push(r)}return n}var fv=Bu;var Hu=class extends tt{constructor(t){super(t),this._initDirection()}_initDirection(){let t=this.options;t.vertical?(this.groupAxis=B,this.elementAxis=H,this.groupSizeField=fa,this.elementSizeField=ua,this.groupSpacing=t.spacing,this.elementSpacing=t.vSpacing):(this.groupAxis=H,this.elementAxis=B,this.groupSizeField=ua,this.elementSizeField=fa,this.groupSpacing=t.vSpacing,this.elementSpacing=t.spacing)}reflow(t){this.box=t.clone(),this.reflowChildren()}reflowChildren(){let{box:t,elementAxis:e,groupAxis:i,elementSizeField:n,groupSizeField:o}=this,{groups:r,groupsSize:a,maxGroupElementsSize:l}=this.groupOptions(),c=r.length,h=t[i+1]+this.alignStart(a,t[o]());if(c){let d=h;for(let p=0;p<c;p++){let u=r[p],m=u.groupElements,f=t[e+1],g=m.length;for(let x=0;x<g;x++){let y=m[x],C=this.elementSize(y),S=d+this.alignStart(C[o],u.groupSize),w=new k;w[i+1]=S,w[i+2]=S+C[o],w[e+1]=f,w[e+2]=f+C[n],y.reflow(w),f+=C[n]+this.elementSpacing}d+=u.groupSize+this.groupSpacing}t[i+1]=h,t[i+2]=h+a,t[e+2]=t[e+1]+l}}alignStart(t,e){let i=0,n=this.options.align;return n===dt||n===lt?i=e-t:n===$&&(i=(e-t)/2),i}groupOptions(){let{box:t,children:e,elementSizeField:i,groupSizeField:n,elementSpacing:o,groupSpacing:r}=this,a=R(t[i]()),l=e.length,c=[],h=0,d=0,p=0,u=0,m=[];for(let f=0;f<l;f++){let g=e[f];g.box||g.reflow(t);let x=this.elementSize(g);this.options.wrap&&R(d+o+x[i])>a&&(c.push({groupElements:m,groupSize:h,groupElementsSize:d}),u=Math.max(u,d),p+=r+h,h=0,d=0,m=[]),h=Math.max(h,x[n]),d>0&&(d+=o),d+=x[i],m.push(g)}return c.push({groupElements:m,groupSize:h,groupElementsSize:d}),u=Math.max(u,d),p+=h,{groups:c,groupsSize:p,maxGroupElementsSize:u}}elementSize(t){return{width:t.box.width(),height:t.box.height()}}createVisual(){}};b(Hu,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});var Ia=Hu;var xL=_.Text,Nu=class extends tt{constructor(t,e){super(e),this.content=t,this.reflow(new k)}reflow(t){let e=this.options,i=e.size=_.util.measureText(this.content,{font:e.font});this.baseline=i.baseline,this.box=new k(t.x1,t.y1,t.x1+i.width,t.y1+i.height)}createVisual(){let{font:t,color:e,opacity:i,cursor:n}=this.options;this.visual=new xL(this.content,this.box.toRect().topLeft(),{font:t,fill:{color:e,opacity:i},cursor:n})}};b(Nu,{font:Op,color:ft});var gv=Nu;function Ki(s){let t=s.origin,e=s.bottomRight();return new k(t.x,t.y,e.x,e.y)}var yL=/\n/m,vv=class extends yi{constructor(t,e,i){super(e),this.content=t,this.data=i,this._initContainer(),this.options._autoReflow!==!1&&this.reflow(new k)}_initContainer(){let t=this.options,e=String(this.content).split(yL),i=new Ia({vertical:!0,align:t.align,wrap:!1}),n=v({},t,{opacity:1,animation:null});this.container=i,this.append(i);for(let o=0;o<e.length;o++){let r=new gv(e[o].trim(),n);i.append(r)}}reflow(t){let e=this.options,i=e.visual;if(this.container.options.align=e.align,i&&!this._boxReflow){let n=t;n.hasSize()||(this._boxReflow=!0,this.reflow(n),this._boxReflow=!1,n=this.box);let o=this.visual=i(this.visualContext(n));o&&(n=Ki(o.clippedBBox()||new T.Rect),o.options.zIndex=e.zIndex),this.box=this.contentBox=this.paddingBox=n}else if(super.reflow(t),e.rotation){let n=at(e.margin),o=this.box.unpad(n);this.targetBox=t,this.normalBox=o.clone(),o=this.rotate(),o.translate(n.left-n.right,n.top-n.bottom),this.rotatedBox=o.clone(),o.pad(n)}}createVisual(){let t=this.options;if(this.visual=new _.Group({transform:this.rotationTransform(),zIndex:t.zIndex,noclip:t.noclip}),this.hasBox()){let e=_.Path.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(e)}}renderVisual(){if(this.options.visible)if(this.options.visual){let t=this.visual;t&&!M(t.options.noclip)&&(t.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else super.renderVisual()}visualContext(t){let e={text:this.content,rect:t.toRect(),sender:this.getSender(),options:this.options,createVisual:()=>(this._boxReflow=!0,this.reflow(t),this._boxReflow=!1,this.getDefaultVisual())};return this.data&&Object.assign(e,this.data),e}getDefaultVisual(){this.createVisual(),this.renderChildren();let t=this.visual;return delete this.visual,t}rotate(){let t=this.options;return this.box.rotate(t.rotation),this.align(this.targetBox,B,t.align),this.align(this.targetBox,H,t.vAlign),this.box}rotationTransform(){let t=this.options.rotation;if(!t)return null;let{x:e,y:i}=this.normalBox.center(),n=this.rotatedBox.center();return T.transform().translate(n.x-e,n.y-i).rotate(t,[e,i])}},Gt=vv;var Fu=class s extends tt{constructor(t){super(t),this._textBox=new Gt(this.options.text,Object.assign({},this.options,{vAlign:this.options.position})),this.append(this._textBox)}reflow(t){super.reflow(t),this.box.snapTo(t,B)}static buildTitle(t,e){let i=t;typeof t=="string"&&(i={text:t}),i=Object.assign({visible:!0},e,i);let n;return i&&i.visible&&i.text&&(n=new s(i)),n}static orderTitles(t){let e=[].concat(t),i=e.filter(o=>o&&o.options.position!==lt),n=e.filter(o=>o&&o.options.position===lt);return B_(i),B_(n),n.reverse(),i.concat(n)}};function B_(s){for(let t=1;t<s.length;t++){let e=s[t]._textBox,i=s[t-1]._textBox;i.options.margin=Object.assign(at(i.options.margin),{bottom:0}),e.options.margin=Object.assign(at(e.options.margin),{top:0})}}b(Fu,{color:ft,position:nt,align:$,margin:at(5),padding:at(5)});var mo=Fu;var ju=class extends Gt{constructor(t,e,i,n,o){super(e,o),this.text=e,this.value=t,this.index=i,this.dataItem=n,this.reflow(new k)}visualContext(t){let e=super.visualContext(t);return e.value=this.value,e.dataItem=this.dataItem,e.format=this.options.format,e.culture=this.options.culture,e}click(t,e){t.trigger(Ab,{element:Ee(e),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})}rotate(){if(this.options.alignRotation!==$){let t=this.normalBox.toRect(),e=this.rotationTransform();this.box=Ki(t.bbox(e.matrix()))}else super.rotate();return this.box}rotationTransform(){let t=this.options,e=t.rotation;if(!e)return null;if(t.alignRotation===$)return super.rotationTransform();let i=T.transform().rotate(e).matrix(),n=this.normalBox.toRect(),o=this.targetBox.toRect(),r=t.rotationOrigin||nt,a=r===nt||r===lt?B:H,l=r===nt||r===lt?H:B,c=r===nt||r===K?o.origin:o.bottomRight(),h=n.topLeft().transformCopy(i),d=n.topRight().transformCopy(i),p=n.bottomRight().transformCopy(i),u=n.bottomLeft().transformCopy(i),m=T.Rect.fromPoints(h,d,p,u),f={[l]:o.origin[l]-m.origin[l]},g=Math.abs(h[l]+f[l]-c[l]),x=Math.abs(d[l]+f[l]-c[l]),y,C;R(g,10)===R(x,10)?(y=h,C=d):x<g?(y=d,C=p):(y=h,C=u);let S=y[a]+(C[a]-y[a])/2;return f[a]=o.center()[a]-S,T.transform().translate(f.x,f.y).rotate(e)}};b(ju,{_autoReflow:!1});var Hi=ju;var H_=7,bL="#fff",Uu=class extends yi{constructor(t,e,i){super(e),this.fields=t,this.chartService=i,this.render()}hide(){this.options.visible=!1}show(){this.options.visible=!0}render(){let t=this.options;if(t.visible){let{label:e,icon:i}=t,n=new k,o=()=>this,r=i.size,a=this.fields.text,l,c;if(M(e)&&e.visible){let d=Dt(e);d?a=d(this.fields):e.format&&(a=this.chartService.format.auto(e.format,a)),e.color||(e.color=e.position===Vp?bL:i.background),this.label=new Gt(a,v({},e)),this.label.aliasFor=o,e.position===Vp&&!M(r)&&(i.type===ne?r=Math.max(this.label.box.width(),this.label.box.height()):(l=this.label.box.width(),c=this.label.box.height()),n.wrap(this.label.box))}i.width=l||r||H_,i.height=c||r||H_;let h=new ee(v({},i));h.aliasFor=o,this.marker=h,this.append(h),this.label&&this.append(this.label),h.reflow(new k),this.wrapperBox=n.wrap(h.box)}}reflow(t){let{options:e,label:i,marker:n,wrapperBox:o}=this,r=t.center(),a=e.line.length,l=e.position;if(e.visible){let c,h,d;J(l,[K,dt])?l===K?(d=o.alignTo(t,l).translate(-a,t.center().y-o.center().y),e.line.visible&&(c=[t.x1,r.y],this.linePoints=[c,[d.x2,r.y]],h=d.clone().wrapPoint(c))):(d=o.alignTo(t,l).translate(a,t.center().y-o.center().y),e.line.visible&&(c=[t.x2,r.y],this.linePoints=[c,[d.x1,r.y]],h=d.clone().wrapPoint(c))):l===lt?(d=o.alignTo(t,l).translate(t.center().x-o.center().x,a),e.line.visible&&(c=[r.x,t.y2],this.linePoints=[c,[r.x,d.y1]],h=d.clone().wrapPoint(c))):(d=o.alignTo(t,l).translate(t.center().x-o.center().x,-a),e.line.visible&&(c=[r.x,t.y1],this.linePoints=[c,[r.x,d.y2]],h=d.clone().wrapPoint(c))),n&&n.reflow(d),i&&(i.reflow(d),n&&(e.label.position===Gl&&i.box.alignTo(n.box,l),i.reflow(i.box))),this.contentBox=d,this.targetBox=t,this.box=h||d}}createVisual(){super.createVisual(),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()}renderVisual(){let t=this.options,e=t.visual;t.visible&&e?(this.visual=e(Object.assign(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:t.background,border:t.background,icon:t.icon,label:t.label,line:t.line,position:t.position,visible:t.visible},createVisual:()=>{this.createVisual(),this.renderChildren();let i=this.visual;return delete this.visual,i}})),this.addVisual()):super.renderVisual()}createLine(){let t=this.options.line;if(this.linePoints){let e=_.Path.fromPoints(this.linePoints,{stroke:{color:t.color,width:t.width,dashType:t.dashType}});se(e),this.visual.append(e)}}click(t,e){let i=this.eventArgs(e);t.trigger(Tb,i)||e.preventDefault()}over(t,e){let i=this.eventArgs(e);t.trigger(Ib,i)||e.preventDefault()}out(t,e){let i=this.eventArgs(e);t.trigger(zb,i)}eventArgs(t){let e=this.options;return Object.assign(this.fields,{element:Ee(t),text:M(e.label)?e.label.text:"",visual:this.visual})}};b(Uu,{icon:{visible:!0,type:ne},label:{position:Vp,visible:!0,align:$,vAlign:$},line:{visible:!0},visible:!0,position:nt,zIndex:2});var F2=Uu;var _L={format:(s,t)=>t,toString:s=>s,parseDate:s=>new Date(s),firstDay:()=>0},N_=_L,xv=class{static register(t){N_=t}static get implementation(){return N_}},j2=xv;var wL=/\{(\d+)(:[^\}]+)?\}/g,yv=class{constructor(t){this._intlService=t}get intl(){return this._intlService||j2.implementation}set intl(t){this._intlService=t}auto(t,...e){let i=this.intl;return oe(t)&&t.match(r6)?i.format(t,...e):i.toString(e[0],t)}localeAuto(t,e,i){let n=this.intl,o;return oe(t)&&t.match(r6)?o=t.replace(wL,function(r,a,l){let c=e[parseInt(a,10)];return n.toString(c,l?l.substring(1):"",i)}):o=n.toString(e[0],t,i),o}},bv=yv;var _v=class{constructor(t,e={}){this._intlService=e.intlService,this.sender=e.sender||t,this.format=new bv(e.intlService),this.chart=t,this.rtl=!!e.rtl}get intl(){return this._intlService||j2.implementation}set intl(t){this._intlService=t,this.format.intl=t}notify(t,e){this.chart&&this.chart.trigger(t,e)}isPannable(t){let e=((this.chart||{}).options||{}).pannable;return e&&e.lock!==t}},za=_v;var wv,Cv=class{static register(t){wv=t}static create(t,e){if(wv)return wv.create(t,e)}},Ea=Cv;function U2(s,t){let{tickX:e,tickY:i,position:n}=s,o=new _.Path({stroke:{width:t.width,color:t.color}});return s.vertical?o.moveTo(e,n).lineTo(e+t.size,n):o.moveTo(n,i).lineTo(n,i+t.size),se(o),o}function G2(s,t){let{lineStart:e,lineEnd:i,position:n}=s,o=new _.Path({stroke:{width:t.width,color:t.color,dashType:t.dashType}});return s.vertical?o.moveTo(e,n).lineTo(i,n):o.moveTo(n,e).lineTo(n,i),se(o),o}var Gu=class extends tt{constructor(t,e=new za){super(t),this.chartService=e,this.options.visible||(this.options=v({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=v({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.minorTickType!==Hp},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=v({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.majorTickType!==Hp},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.initFields(),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()}initFields(){}labelsRange(){return{min:this.options.labels.skip,max:this.labelsCount()}}normalizeLabelRotation(t){let e=t.rotation;me(e)&&(t.alignRotation=e.align,t.rotation=e.angle)}createLabels(){let t=this.options,e=t.vertical?dt:$,i=v({},t.labels,{align:e,zIndex:t.zIndex}),n=Math.max(1,i.step);if(this.clearLabels(),i.visible){this.normalizeLabelRotation(i),i.rotation==="auto"&&(i.rotation=0,t.autoRotateLabels=!0);let o=this.labelsRange();for(let r=o.min;r<o.max;r+=n){let a={index:r,count:o.max},l=this.createAxisLabel(r,i,a);l&&(this.append(l),this.labels.push(l))}}}clearLabels(){this.children=fe(this.children,t=>!(t instanceof Hi)),this.labels=[]}clearTitle(){this.title&&(this.children=fe(this.children,t=>t!==this.title),this.title=void 0)}clear(){this.clearLabels(),this.clearTitle()}lineBox(){let{options:t,box:e}=this,i=t.vertical,n=t.labels.mirror,o=n?e.x1:e.x2,r=n?e.y2:e.y1,a=t.line.width||0;return i?new k(o,e.y1,o,e.y2-a):new k(e.x1,r,e.x2-a,r)}createTitle(){let t=this.options,e=v({rotation:t.vertical?-90:0,text:"",zIndex:1,visualSize:!0},t.title);if(e.visible&&e.text){let i=new Gt(e.text,e);this.append(i),this.title=i}}createNotes(){let t=this.options,e=t.notes,i=e.data||[];this.notes=[];for(let n=0;n<i.length;n++){let o=v({},e,i[n]);o.value=this.parseNoteValue(o.value);let r=new F2({value:o.value,text:o.label.text,dataItem:o},o,this.chartService);r.options.visible&&(M(r.options.position)?t.vertical&&!J(r.options.position,[K,dt])?r.options.position=t.reverse?K:dt:!t.vertical&&!J(r.options.position,[nt,lt])&&(r.options.position=t.reverse?lt:nt):t.vertical?r.options.position=t.reverse?K:dt:r.options.position=t.reverse?lt:nt,this.append(r),this.notes.push(r))}}parseNoteValue(t){return t}renderVisual(){super.renderVisual(),this.createPlotBands()}createVisual(){super.createVisual(),this.createBackground(),this.createLine()}gridLinesVisual(){let t=this._gridLines;return t||(t=this._gridLines=new _.Group({zIndex:-2}),this.appendVisual(this._gridLines)),t}createTicks(t){let e=this.options,i=this.lineBox(),n=e.labels.mirror,o=e.majorTicks.visible?e.majorUnit:0,r={vertical:e.vertical};function a(l,c,h){let d=l.length,p=Math.max(1,c.step);if(c.visible)for(let u=c.skip;u<d;u+=p)M(h)&&u%h===0||(r.tickX=n?i.x2:i.x2-c.size,r.tickY=n?i.y1-c.size:i.y1,r.position=l[u],t.append(U2(r,c)))}a(this.getMajorTickPositions(),e.majorTicks),a(this.getMinorTickPositions(),e.minorTicks,o/e.minorUnit)}createLine(){let t=this.options,e=t.line,i=this.lineBox();if(e.width>0&&e.visible){let n=new _.Path({stroke:{width:e.width,color:e.color,dashType:e.dashType}});n.moveTo(i.x1,i.y1).lineTo(i.x2,i.y2),t._alignLines&&se(n);let o=this._lineGroup=new _.Group;o.append(n),this.visual.append(o),this.createTicks(o)}}getActualTickSize(){let t=this.options,e=0;return t.majorTicks.visible&&t.minorTicks.visible?e=Math.max(t.majorTicks.size,t.minorTicks.size):t.majorTicks.visible?e=t.majorTicks.size:t.minorTicks.visible&&(e=t.minorTicks.size),e}createBackground(){let{options:t,box:e}=this,i=t.background;i&&(this._backgroundPath=_.Path.fromRect(e.toRect(),{fill:{color:i},stroke:null}),this.visual.append(this._backgroundPath))}createPlotBands(){let t=this.options,e=t.plotBands||[],i=t.vertical,n=this.plotArea;if(e.length===0)return;let o=this._plotbandGroup=new _.Group({zIndex:-1}),r=fe(this.pane.axes,a=>a.options.vertical!==this.options.vertical)[0];for(let a=0;a<e.length;a++){let l=e[a],c,h,d=l.label,p;if(i?(c=(r||n.axisX).lineBox(),h=this.getSlot(l.from,l.to,!0)):(c=this.getSlot(l.from,l.to,!0),h=(r||n.axisY).lineBox()),d&&(d.vAlign=d.position||K,p=this.createPlotBandLabel(d,l,new k(c.x1,h.y1,c.x2,h.y2))),c.width()!==0&&h.height()!==0){let u=new T.Rect([c.x1,h.y1],[c.width(),h.height()]),m=_.Path.fromRect(u,{fill:{color:l.color,opacity:l.opacity},stroke:null});o.append(m),p&&o.append(p)}}this.appendVisual(o)}createPlotBandLabel(t,e,i){if(t.visible===!1)return null;let n=t.text,o;if(M(t)&&t.visible){let r=Dt(t);r?n=r({text:n,item:e}):t.format&&(n=this.chartService.format.auto(t.format,n)),t.color||(t.color=this.options.labels.color)}return o=new Gt(n,t),o.reflow(i),o.renderVisual(),o.visual}createGridLines(t){let e=this.options,{minorGridLines:i,majorGridLines:n,minorUnit:o,vertical:r}=e,a=t.options.line.visible,l=n.visible?e.majorUnit:0,c=t.lineBox(),h=c[r?"y1":"x1"],d={lineStart:c[r?"x1":"y1"],lineEnd:c[r?"x2":"y2"],vertical:r},p=[],u=this.gridLinesVisual();function m(f,g,x){let y=f.length,C=Math.max(1,g.step);if(g.visible)for(let S=g.skip;S<y;S+=C){let w=R(f[S]);J(w,p)||S%x!==0&&(!a||h!==w)&&(d.position=w,u.append(G2(d,g)),p.push(w))}}return m(this.getMajorTickPositions(),n),m(this.getMinorTickPositions(),i,l/o),u.children}reflow(t){let{options:e,labels:i,title:n}=this,o=e.vertical,r=i.length,a=o?fa:ua,l=n?n.box[a]():0,c=this.getActualTickSize()+e.margin+l,d=((this.getRoot()||{}).box||t)[a](),p=0;for(let u=0;u<r;u++){let m=i[u].box[a]();m+c<=d&&(p=Math.max(p,m))}o?this.box=new k(t.x1,t.y1,t.x1+p+c,t.y2):this.box=new k(t.x1,t.y1,t.x2,t.y1+p+c),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()}getLabelsTickPositions(){return this.getMajorTickPositions()}labelTickIndex(t){return t.index}arrangeLabels(){let{options:t,labels:e}=this,i=this.labelsBetweenTicks(),n=t.vertical,o=t.labels.mirror,r=this.getLabelsTickPositions();for(let a=0;a<e.length;a++){let l=e[a],c=this.labelTickIndex(l),h=n?l.box.height():l.box.width(),d=r[c],p=r[c+1],u,m;n?(i?u=d+(p-d)/2-h/2:u=d-h/2,m=u):i?(u=d,m=p):(u=d-h/2,m=u+h),this.positionLabel(l,o,u,m)}}positionLabel(t,e,i,n=i){let o=this.options,r=o.vertical,a=this.lineBox(),l=this.getActualTickSize()+o.margin,c;if(r){let h=a.x2;e?(h+=l,t.options.rotationOrigin=K):(h-=l+t.box.width(),t.options.rotationOrigin=dt),c=t.box.move(h,i)}else{let h=a.y1;e?(h-=l+t.box.height(),t.options.rotationOrigin=lt):(h+=l,t.options.rotationOrigin=nt),c=new k(i,h,n,h+t.box.height())}t.reflow(c)}autoRotateLabelAngle(t,e){return t.width()<e?0:t.height()>e?-90:-45}autoRotateLabels(){if(!this.options.autoRotateLabels||this.options.vertical)return!1;let t=this.getMajorTickPositions(),e=this.labels,i=Math.min(e.length,t.length-1),n=0;for(let o=0;o<i;o++){let r=Math.abs(t[o+1]-t[o]),a=e[o].box,l=this.autoRotateLabelAngle(a,r);if(l!==0&&(n=l),n===-90)break}if(n!==0){for(let o=0;o<e.length;o++)e[o].options.rotation=n,e[o].reflow(new k);return!0}}arrangeTitle(){let{options:t,title:e}=this,i=t.labels.mirror,n=t.vertical;e&&(n?(e.options.align=i?dt:K,e.options.vAlign=e.options.position):(e.options.align=e.options.position,e.options.vAlign=i?nt:lt),e.reflow(this.box))}arrangeNotes(){for(let t=0;t<this.notes.length;t++){let e=this.notes[t],i=e.options.value,n;M(i)?(this.shouldRenderNote(i)?e.show():e.hide(),n=this.noteSlot(i)):e.hide(),e.reflow(n||this.lineBox())}}noteSlot(t){return this.getSlot(t)}alignTo(t){let e=t.lineBox(),i=this.options.vertical,n=i?H:B;this.box.snapTo(e,n),i?this.box.shrink(0,this.lineBox().height()-e.height()):this.box.shrink(this.lineBox().width()-e.width(),0),this.box[n+1]-=this.lineBox()[n+1]-e[n+1],this.box[n+2]-=this.lineBox()[n+2]-e[n+2]}axisLabelText(t,e,i){let n,o=Dt(e),r=()=>e.format?this.chartService.format.localeAuto(e.format,[t],e.culture):t;if(o){let a=Object.assign({},i,{get text(){return r()},value:t,format:e.format,culture:e.culture});n=o(a)}else n=r();return n}slot(t,e,i){let n=this.getSlot(t,e,i);if(n)return n.toRect()}contentBox(){let t=this.box.clone(),e=this.labels;if(e.length){let i=this.options.vertical?H:B;if(this.chartService.isPannable(i)){let n=this.maxLabelOffset();t[i+1]-=n.start,t[i+2]+=n.end}else{e[0].options.visible&&t.wrap(e[0].box);let n=e[e.length-1];n.options.visible&&t.wrap(n.box)}}return t}maxLabelOffset(){let{vertical:t,reverse:e}=this.options,i=this.labelsBetweenTicks(),n=this.getLabelsTickPositions(),o=t?H:B,r=this.labels,a=e?1:0,l=e?0:1,c=0,h=0;for(let d=0;d<r.length;d++){let p=r[d],u=this.labelTickIndex(p),m,f;i?(m=n[u+a],f=n[u+l]):m=f=n[u],c=Math.max(c,m-p.box[o+1]),h=Math.max(h,p.box[o+2]-f)}return{start:c,end:h}}limitRange(t,e,i,n,o){let r=this.options;if(t<i&&o<0&&(!M(r.min)||r.min<=i)||n<e&&o>0&&(!M(r.max)||n<=r.max))return null;if(e<i&&o>0||n<t&&o<0)return{min:t,max:e};let a=e-t,l=t,c=e;return t<i&&o<0?(l=W(t,i,n),c=W(t+a,i+a,n)):e>n&&o>0&&(c=W(e,i,n),l=W(e-a,i,n-a)),{min:l,max:c}}valueRange(){return{min:this.seriesMin,max:this.seriesMax}}lineDir(){let{vertical:t,reverse:e}=this.options;return(t?-1:1)*(e?-1:1)}lineInfo(){let{vertical:t}=this.options,e=this.lineBox(),i=t?e.height():e.width(),n=t?H:B,o=this.lineDir(),a=n+(o===1?1:2).toString(),l=e[a];return{axis:n,axisOrigin:a,axisDir:o,lineBox:e,lineSize:i,lineStart:l}}pointOffset(t){let{axis:e,axisDir:i,axisOrigin:n,lineBox:o,lineSize:r}=this.lineInfo();return(i>0?t[e]-o[n]:o[n]-t[e])/r}scaleToDelta(t,e){let n=W(t,-.999,.999),o;return n>0?o=e*Math.min(1,n):o=e-e/(1+n),o}labelsBetweenTicks(){return!this.options.justified}prepareUserOptions(){}};b(Gu,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:ft,visible:!0},title:{visible:!0,position:$},majorTicks:{align:Gl,size:4,skip:0,step:1},minorTicks:{align:Gl,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:Gl,minorTickType:Hp,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:ft,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});var Xn=Gu;var fc="milliseconds",W2="seconds",q2="minutes",pr="hours",bi="days",fo="weeks",Tn="months",Ni="years";var Fi={years:31536e6,months:26784e5,weeks:6048e5,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1};function ur(s,t){let e=s.getTime()-t,i=s.getTimezoneOffset()-t.getTimezoneOffset();return e-i*6e4}function re(s,t){return new Date(s.getTime()+t)}function vt(s){let t;return s instanceof Date?t=s:s&&(t=new Date(s)),t}function Wu(s,t=0){let e=0,i=s.getDay();if(!isNaN(i))for(;i!==t;)i===0?i=6:i--,e++;return re(s,-e*864e5)}function qu(s,t){return t===0&&s.getHours()===23?(s.setHours(s.getHours()+2),!0):!1}function SL(s,t){let e=new Date(s);e.setMinutes(0,0,0);let i=(s.getTimezoneOffset()-e.getTimezoneOffset())*6e4;return re(e,i+t*36e5)}function le(s,t,e,i){let n=s;if(s){let o=vt(s),r=o.getHours();e===Ni?(n=new Date(o.getFullYear()+t,0,1),qu(n,0)):e===Tn?(n=new Date(o.getFullYear(),o.getMonth()+t,1),qu(n,r)):e===fo?(n=le(Wu(o,i),t*7,bi),qu(n,r)):e===bi?(n=new Date(o.getFullYear(),o.getMonth(),o.getDate()+t),qu(n,r)):e===pr?n=SL(o,t):e===q2?(n=re(o,t*6e4),n.getSeconds()>0&&n.setSeconds(0)):e===W2?n=re(o,t*1e3):e===fc&&(n=re(o,t)),e!==fc&&n.getMilliseconds()>0&&n.setMilliseconds(0)}return n}function ka(s,t,e){return le(vt(s),0,t,e)}function Y2(s,t,e){let i=vt(s);return i&&ka(i,t,e).getTime()===i.getTime()?i:le(i,1,t,e)}function fr(s,t){return s&&t?s.getTime()-t.getTime():-1}function li(s,t){return s.getTime()-t}function Mt(s){if(kt(s)){let t=[];for(let e=0;e<s.length;e++)t.push(Mt(s[e]));return t}else if(s)return vt(s).getTime()}function Ts(s,t){return s&&t?Mt(s)===Mt(t):s===t}function F_(s,t,e){return ur(s,t)/Fi[e]}function Is(s,t,e,i){let n=vt(s),o=vt(t),r;return e===Tn?r=n.getMonth()-o.getMonth()+(n.getFullYear()-o.getFullYear())*12+F_(n,new Date(n.getFullYear(),n.getMonth()),bi)/new Date(n.getFullYear(),n.getMonth()+1,0).getDate():e===Ni?r=n.getFullYear()-o.getFullYear()+Is(n,new Date(n.getFullYear(),0),Tn,1)/12:e===bi||e===fo?r=F_(n,o,e):r=li(n,t)/Fi[e],r/i}function vc(s,t,e){let i;return e===Ni?i=t.getFullYear()-s.getFullYear():e===Tn?i=vc(s,t,Ni)*12+t.getMonth()-s.getMonth():e===bi?i=Math.floor(li(t,s)/864e5):i=Math.floor(li(t,s)/Fi[e]),i}function Qt(s,t){let e;return oe(t)?e=s.parseDate(t)||vt(t):e=vt(t),e}function xc(s,t){if(kt(t)){let e=[];for(let i=0;i<t.length;i++)e.push(Qt(s,t[i]));return e}return Qt(s,t)}function yc(s,t){return rt(s.weekStartDay)?s.weekStartDay:t&&t.firstDay?t.firstDay():0}var ML=.01,j_=.1;function AL(s,t){if(s instanceof Date){let e=t.length;for(let i=0;i<e;i++)if(Ts(t[i],s))return i;return-1}return t.indexOf(s)}var Yu=class s extends Xn{initFields(){this._ticks={}}categoriesHash(){return""}clone(){let t=new s(Object.assign({},this.options,{categories:this.options.srcCategories}),this.chartService);return t.createLabels(),t}initUserOptions(t){let e=t.categories||[],i=M(t.min),n=M(t.max);if(t.srcCategories=t.categories=e,(i||n)&&e.length){let o=i?Math.floor(t.min):0,r;n?r=t.justified?Math.floor(t.max)+1:Math.ceil(t.max):r=e.length,t.categories=t.categories.slice(o,r)}return t}rangeIndices(){let t=this.options,e=t.categories.length||1,i=rt(t.min)?t.min%1:0,n;return rt(t.max)&&t.max%1!==0&&t.max<this.totalRange().max?n=e-(1-t.max%1):n=e-(t.justified?1:0),{min:i,max:n}}range(){let t=this.options,e=rt(t.min)?t.min:0,i=rt(t.max)?t.max:this.totalRange().max;return{min:e,max:i}}roundedRange(){return this.range()}totalRange(){let t=this.options;return{min:0,max:Math.max(this._seriesMax||0,t.srcCategories.length)-(t.justified?1:0)}}scaleOptions(){let{min:t,max:e}=this.rangeIndices(),i=this.lineBox();return{scale:(this.options.vertical?i.height():i.width())/(e-t||1)*(this.options.reverse?-1:1),box:i,min:t,max:e}}arrangeLabels(){super.arrangeLabels(),this.hideOutOfRangeLabels()}hideOutOfRangeLabels(){let{box:t,labels:e}=this;if(e.length>0){let i=this.options.vertical?H:B,n=t[i+1],o=t[i+2],r=e[0],a=Pt(e);(r.box[i+1]>o||r.box[i+2]<n)&&(r.options.visible=!1),(a.box[i+1]>o||a.box[i+2]<n)&&(a.options.visible=!1)}}getMajorTickPositions(){return this.getTicks().majorTicks}getMinorTickPositions(){return this.getTicks().minorTicks}getLabelsTickPositions(){return this.getTicks().labelTicks}tickIndices(t){let{min:e,max:i}=this.rangeIndices(),n=Math.ceil(i),o=Math.floor(e),r=[];for(;o<=n;)r.push(o),o+=t;return r}getTickPositions(t){let{vertical:e,reverse:i}=this.options,{scale:n,box:o,min:r}=this.scaleOptions(),a=o[(e?H:B)+(i?2:1)],l=this.tickIndices(t),c=[];for(let h=0;h<l.length;h++)c.push(a+R(n*(l[h]-r),3));return c}getTicks(){let t=this.options,e=this._ticks,i=this.rangeIndices(),n=this.lineBox(),o=n.getHash()+i.min+","+i.max+t.reverse+t.justified;if(e._hash!==o){let r=t.minorTicks.visible||t.minorGridLines.visible;e._hash=o,e.labelTicks=this.getTickPositions(1),e.majorTicks=this.filterOutOfRangePositions(e.labelTicks,n),e.minorTicks=r?this.filterOutOfRangePositions(this.getTickPositions(.5),n):[]}return e}filterOutOfRangePositions(t,e){if(!t.length)return t;let i=this.options.vertical?H:B,n=l=>e[i+1]<=l&&l<=e[i+2],o=t.length-1,r=0;for(;!n(t[r])&&r<=o;)r++;let a=o;for(;!n(t[a])&&a>=0;)a--;return t.slice(r,a+1)}lineInfo(){let{vertical:t,reverse:e}=this.options,i=this.lineBox(),n=t?i.height():i.width(),o=t?H:B,r=e?-1:1,l=o+(r===1?1:2).toString(),c=i[l];return{axis:o,axisOrigin:l,axisDir:r,lineBox:i,lineSize:n,lineStart:c}}lineDir(){let{reverse:t}=this.options;return t?-1:1}getSlot(t,e,i){let n=this.options,{reverse:o,justified:r}=n,{scale:a,box:l,min:c}=this.scaleOptions(),{axis:h,lineStart:d}=this.lineInfo(),p=l.clone(),u=!M(e),m=q(t,0),f=q(e,m);f=Math.max(f-1,m),f=Math.max(m,f);let g=d+(m-c)*a,x=d+(f+1-c)*a;return u&&r&&(x=g),i&&(g=W(g,l[h+1],l[h+2]),x=W(x,l[h+1],l[h+2])),p[h+1]=o?x:g,p[h+2]=o?g:x,p}limitSlot(t){let i=this.options.vertical?H:B,n=this.lineBox(),o=t.clone();return o[i+1]=W(t[i+1],n[i+1],n[i+2]),o[i+2]=W(t[i+2],n[i+1],n[i+2]),o}slot(t,e,i){let n=Math.floor(this.options.min||0),o=t,r=e;return typeof o=="string"?o=this.categoryIndex(o):rt(o)&&(o-=n),typeof r=="string"?r=this.categoryIndex(r):rt(r)&&(r-=n),super.slot(o,r,i)}pointCategoryIndex(t){let{reverse:e,justified:i,vertical:n}=this.options,o=n?H:B,{scale:r,box:a,min:l,max:c}=this.scaleOptions(),h=e?c:l,d=a[o+1],p=a[o+2],u=t[o];if(u<d||u>p)return null;let m=h+(u-d)/r,f=m%1;return i?m=Math.round(m):f===0&&m>0&&m--,Math.floor(m)}getCategory(t){let e=this.pointCategoryIndex(t);return e===null?null:this.options.categories[e]}categoryIndex(t){return this.totalIndex(t)-Math.floor(this.options.min||0)}categoryAt(t,e){let i=this.options;return(e?i.srcCategories:i.categories)[t]}categoriesCount(){return(this.options.categories||[]).length}translateRange(t){let e=this.options,i=this.lineBox(),n=e.vertical?i.height():i.width(),o=e.categories.length,r=n/o,a=R(t/r,10);return{min:a,max:o+a}}scaleRange(t,e){let i=Math.abs(this.pointOffset(e)),n=this.limitedRangeIndices(),o=n.max-n.min,r=this.scaleToDelta(t,o),a=i*r,l=(1-i)*r,c=n.min+a,h=n.max-l;return h-c<j_&&(h=c+j_),{min:c,max:h}}zoomRange(t,e){let{min:i,max:n}=this.totalRange(),o=this.scaleRange(t,e);return{min:W(o.min,i,n),max:W(o.max,i,n)}}labelsCount(){let t=this.labelsRange();return t.max-t.min}labelsRange(){let t=this.options,{justified:e,labels:i}=t,{min:n,max:o}=this.limitedRangeIndices(!0),r=Math.floor(n);e?(n=Math.ceil(n),o=Math.floor(o)):(n=Math.floor(n),o=Math.ceil(o));let a;return n>i.skip?a=i.skip+i.step*Math.ceil((n-i.skip)/i.step):a=i.skip,{min:a-r,max:(t.categories.length?o+(e?1:0):0)-r}}createAxisLabel(t,e,i){let n=this.options,o=n.dataItems?n.dataItems[t]:null,r=q(n.categories[t],"");i.dataItem=o;let a=this.axisLabelText(r,e,i);return new Hi(r,a,t,o,e)}shouldRenderNote(t){let e=this.limitedRangeIndices();return Math.floor(e.min)<=t&&t<=Math.ceil(e.max)}noteSlot(t){let e=this.options,i=t-Math.floor(e.min||0);return this.getSlot(i)}arrangeNotes(){super.arrangeNotes(),this.hideOutOfRangeNotes()}hideOutOfRangeNotes(){let{notes:t,box:e}=this;if(t&&t.length){let i=this.options.vertical?H:B,n=e[i+1],o=e[i+2];for(let r=0;r<t.length;r++){let a=t[r];a.box&&(o<a.box[i+1]||a.box[i+2]<n)&&a.hide()}}}pan(t){let e=this.limitedRangeIndices(!0),{scale:i}=this.scaleOptions(),n=R(t/i,10),o=this.totalRange(),r=e.min+n,a=e.max+n;return this.limitRange(r,a,0,o.max,n)}pointsRange(t,e){let{reverse:i,vertical:n}=this.options,o=n?H:B,r=this.limitedRangeIndices(!0),{scale:a,box:l}=this.scaleOptions(),c=l[o+(i?2:1)],h=t[o]-c,d=e[o]-c,p=r.min+h/a,u=r.min+d/a,m=Math.min(p,u),f=Math.max(p,u);if(f-m>=ML)return{min:m,max:f}}valueRange(){return this.range()}totalIndex(t){let e=this.options;return this._categoriesMap?this._categoriesMap.get(t):AL(t,e.srcCategories)}currentRangeIndices(){let t=this.options,e=0;rt(t.min)&&(e=Math.floor(t.min));let i;return rt(t.max)?i=t.justified?Math.floor(t.max):Math.ceil(t.max)-1:i=this.totalCount()-1,{min:e,max:i}}limitedRangeIndices(t){let e=this.options,i=rt(e.min)?e.min:0,n;if(rt(e.max)?n=e.max:rt(e.min)?n=i+e.categories.length:n=this.totalRange().max||1,t){let o=this.totalRange();i=W(i,0,o.max),n=W(n,0,o.max)}return{min:i,max:n}}totalRangeIndices(){return{min:0,max:this.totalRange().max||1}}indexCategories(){if(!this._categoriesMap){let t=this._categoriesMap=new L2,e=this.options.srcCategories;for(let i=0;i<e.length;i++)t.set(e[i],i)}}totalCount(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)}};b(Yu,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:ft},labels:{zIndex:1},justified:!1,_deferLabels:!0});var ci=Yu;var Xu={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},$u=.2;var TL="auto",go=[fc,W2,q2,pr,bi,fo,Tn,Ni],Zu="fit";function Qu(s,t){t&&(s._range=void 0);let e=s._range;return e||(e=s._range=Aa(s),e.min=vt(e.min),e.max=vt(e.max)),e}var Mv=class{constructor(t){this.options=t}displayIndices(){return{min:0,max:1}}displayRange(){return{}}total(){return{}}valueRange(){return{}}valueIndex(){return-1}values(){return[]}totalIndex(){return-1}valuesCount(){return 0}totalCount(){return 0}dateAt(){return null}},X2=class{constructor(t,e,i){this.options=i,i.baseUnitStep=i.baseUnitStep||1;let{roundToBaseUnit:n,justified:o}=i;this.start=le(t,0,i.baseUnit,i.weekStartDay);let r=this.roundToTotalStep(e),a=!o&&Ts(e,r)&&!i.justifyEnd;this.end=this.roundToTotalStep(e,!o,a?1:0);let l=i.min||t;this.valueStart=this.roundToTotalStep(l),this.displayStart=n?this.valueStart:l;let c=i.max;if(!c)this.valueEnd=r,this.displayEnd=n||a?this.end:e;else{let h=!o&&Ts(c,this.roundToTotalStep(c))?-1:0;this.valueEnd=this.roundToTotalStep(c,!1,h),this.displayEnd=n?this.roundToTotalStep(c,!o):i.max}this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))}displayRange(){return{min:this.displayStart,max:this.displayEnd}}displayIndices(){if(!this._indices){let t=this.options,{baseUnit:e,baseUnitStep:i}=t,n=Is(this.displayStart,this.valueStart,e,i),o=Is(this.displayEnd,this.valueStart,e,i);this._indices={min:n,max:o}}return this._indices}total(){return{min:this.start,max:this.end}}totalCount(){return this.totalIndex(this.end)+(this.options.justified?1:0)}valueRange(){return{min:this.valueStart,max:this.valueEnd}}valueIndex(t){let e=this.options;return Math.floor(Is(t,this.valueStart,e.baseUnit,e.baseUnitStep))}totalIndex(t){let e=this.options;return Math.floor(Is(t,this.start,e.baseUnit,e.baseUnitStep))}dateIndex(t){let e=this.options;return Is(t,this.valueStart,e.baseUnit,e.baseUnitStep)}valuesCount(){return this.valueIndex(this.valueEnd)+1}values(){let t=this._values;if(!t){let e=this.options,i=this.valueRange();this._values=t=[];for(let n=i.min;n<=i.max;)t.push(n),n=le(n,e.baseUnitStep,e.baseUnit,e.weekStartDay)}return t}dateAt(t,e){let i=this.options;return le(e?this.start:this.valueStart,i.baseUnitStep*t,i.baseUnit,i.weekStartDay)}roundToTotalStep(t,e,i){let{baseUnit:n,baseUnitStep:o,weekStartDay:r}=this.options,a=this.start,l=Is(t,a,n,o),c=e?Math.ceil(l):Math.floor(l);return i&&(c+=i),le(a,c*o,n,r)}};function U_(s,t,e){let i=Qu(s.categories),n=(s.max||i.max)-(s.min||i.min),{autoBaseUnitSteps:o,maxDateGroups:r}=s,a=s.baseUnit===Zu,l=t?go.indexOf(t):0,c=a?go[l++]:s.baseUnit,h=n/Fi[c],d=h,p,u,m;for(;!u||h>=r;){p=p||o[c].slice(0);do m=p.shift();while(m&&t===c&&m<e);if(m)u=m,h=d/u;else if(c===Pt(go)){u=Math.ceil(d/r);break}else if(a)c=go[l++]||Pt(go),d=n/Fi[c],p=null;else{h>r&&(u=Math.ceil(d/r));break}}s.baseUnitStep=u,s.baseUnit=c}function IL(s){let t=s.categories,e=M(t)?t.length:0,i=yt,n,o;for(let r=0;r<e;r++){let a=t[r];if(a&&n){let l=Math.abs(ur(a,n));l!==0&&(i=Math.min(i,l),i>=31536e6?o=Ni:i>=26784e5-864e5*3?o=Tn:i>=6048e5?o=fo:i>=864e5?o=bi:i>=36e5?o=pr:i>=6e4?o=q2:o=W2)}n=a}s.baseUnit=o||bi}function zL(s){let t=(s.baseUnit||"").toLowerCase();return t!==Zu&&!J(t,go)&&IL(s),(t===Zu||s.baseUnitStep===TL)&&U_(s),s}var Ku=class s extends ci{clone(){let t=new s(Object.assign({},this.options),this.chartService);return t.createLabels(),t}categoriesHash(){let t=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+t}initUserOptions(t){return t}initFields(){super.initFields();let t=this.chartService,e=t.intl,i=this.options,n=i.categories||[];if(n._parsed||(n=xc(e,n),n._parsed=!0),i=v({roundToBaseUnit:!0},i,{categories:n,min:Qt(e,i.min),max:Qt(e,i.max),weekStartDay:yc(i,e)}),t.panning&&t.isPannable(i.vertical?H:B)&&(i.roundToBaseUnit=!1),i.userSetBaseUnit=i.userSetBaseUnit||i.baseUnit,i.userSetBaseUnitStep=i.userSetBaseUnitStep||i.baseUnitStep,this.options=i,i.srcCategories=n,n.length>0){let o=Qu(n,!0),r=i.maxDivisions,a=zL(i),l=i._forecast;if(l&&(l.before>0&&(o.min=le(o.min,-l.before,a.baseUnit,a.weekStartDay)),l.after>0&&(o.max=le(o.max,l.after,a.baseUnit,a.weekStartDay))),this.dataRange=new X2(o.min,o.max,a),r){let c=this.dataRange.displayRange(),h=Object.assign({},i,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:c.min,max:c.max,maxDateGroups:r}),d=this.dataRange.options;U_(h,d.baseUnit,d.baseUnitStep),this.divisionRange=new X2(o.min,o.max,h)}else this.divisionRange=this.dataRange}else i.baseUnit=i.baseUnit||bi,this.dataRange=this.divisionRange=new Mv(i);this.rangeLabels=[]}tickIndices(t){let{dataRange:e,divisionRange:i}=this,n=i.valuesCount();if(!this.options.maxDivisions||!n)return super.tickIndices(t);let o=[],r=i.values(),a=0;this.options.justified||(r=r.concat(i.dateAt(n)),a=.5);for(let l=0;l<r.length;l++)if(o.push(e.dateIndex(r[l])+a),t!==1&&l>=1){let c=o.length-1;o.splice(l,0,o[c-1]+(o[c]-o[c-1])*t)}return o}shouldRenderNote(t){let e=this.range(),i=this.options.categories||[];return fr(t,e.min)>=0&&fr(t,e.max)<=0&&i.length}parseNoteValue(t){return Qt(this.chartService.intl,t)}noteSlot(t){return this.getSlot(t)}translateRange(t){let e=this.options,{baseUnit:i,weekStartDay:n,vertical:o}=e,r=this.lineBox(),a=o?r.height():r.width(),l=this.range(),c=a/(l.max-l.min),h=R(t/c,10);if(l.min&&l.max){let d=re(e.min||l.min,h),p=re(e.max||l.max,h);l={min:le(d,0,i,n),max:le(p,0,i,n)}}return l}labelsRange(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}}pan(t){if(this.isEmpty())return null;let e=this.options,i=this.lineBox(),n=e.vertical?i.height():i.width(),{min:o,max:r}=this.dataRange.displayRange(),a=this.dataRange.total(),l=n/(r-o),c=R(t/l,10)*(e.reverse?-1:1),h=re(o,c),d=re(r,c),p=this.limitRange(Mt(h),Mt(d),Mt(a.min),Mt(a.max),c);if(p)return p.min=vt(p.min),p.max=vt(p.max),p.baseUnit=e.baseUnit,p.baseUnitStep=e.baseUnitStep||1,p.userSetBaseUnit=e.userSetBaseUnit,p.userSetBaseUnitStep=e.userSetBaseUnitStep,p}pointsRange(t,e){if(this.isEmpty())return null;let i=super.pointsRange(t,e),n=this.dataRange.displayRange(),o=this.dataRange.displayIndices(),r=li(n.max,n.min)/(o.max-o.min),a=this.options,l=re(n.min,i.min*r),c=re(n.min,i.max*r);return{min:l,max:c,baseUnit:a.userSetBaseUnit||a.baseUnit,baseUnitStep:a.userSetBaseUnitStep||a.baseUnitStep}}scaleRange(t,e){if(this.isEmpty())return{};let i=this.options,n=i.userSetBaseUnit===Zu,o=this.dataRange.total(),{min:r,max:a}=this.dataRange.displayRange(),l=Math.abs(this.pointOffset(e)),c=a-r,h=this.scaleToDelta(t,c),d=Math.round(l*h),p=Math.round((1-l)*h),{baseUnit:u}=this.dataRange.options,m=new Date(r.getTime()+d),f=new Date(a.getTime()-p);if(n){let{autoBaseUnitSteps:g,maxDateGroups:x}=i,y=Pt(g[u])*x*Fi[u],C=li(a,r),S=li(f,m),w=go.indexOf(u),I,D;if(S<Fi[u]&&u!==fc)u=go[w-1],I=Pt(g[u]),D=(C-(x-1)*I*Fi[u])/2,m=re(r,D),f=re(a,-D);else if(S>y&&u!==Ni){let E=0;do{w++,u=go[w],E=0,D=2*Fi[u];do I=g[u][E],E++;while(E<g[u].length&&D*I<C)}while(u!==Ni&&D*I<C);D=(D*I-C)/2,D>0&&(m=re(r,-D),f=re(a,D),m=re(m,W(f,o.min,o.max)-f),f=re(f,W(m,o.min,o.max)-m))}}if(m&&f&&li(f,m)>0)return{min:m,max:f,baseUnit:i.userSetBaseUnit||i.baseUnit,baseUnitStep:i.userSetBaseUnitStep||i.baseUnitStep}}zoomRange(t,e){let i=this.dataRange.total(),n=this.scaleRange(t,e);return n&&(n.min<i.min&&(n.min=i.min),n.max>i.max&&(n.max=i.max)),n}range(){return this.dataRange.displayRange()}createLabels(){super.createLabels(),this.createRangeLabels()}clearLabels(){super.clearLabels(),this.rangeLabels=[]}arrangeLabels(){this.arrangeRangeLabels(),super.arrangeLabels()}arrangeRangeLabels(){let{options:t,rangeLabels:e}=this;if(e.length===0)return;let i=this.lineBox(),n=t.vertical,o=t.rangeLabels.mirror||t.labels.mirror,r=e[0];if(r){let l=n?i.y1-r.box.height()/2:i.x1;this.positionLabel(r,o,l)}let a=e[1];if(a){let l=n?i.y2-a.box.height()/2:i.x2;this.positionLabel(a,o,l)}}autoRotateLabels(){super.autoRotateLabels(),this.autoRotateRangeLabels()}hideOutOfRangeLabels(){super.hideOutOfRangeLabels(),this.hideOverlappingLabels()}hideOverlappingLabels(){let{rangeLabels:t,labels:e}=this;if(t.length===0)return;function i(r,a){return!a.options.visible||a.box.overlaps(r.box)?(a.options.visible=!1,!0):!1}let n=t[0];if(n&&n.options.visible)for(let r=0;r<e.length&&i(n,e[r]);r++);let o=t[1];if(o&&o.options.visible)for(let r=e.length-1;r>0&&i(o,e[r]);--r);}contentBox(){let t=super.contentBox(),e=this.rangeLabels;for(let i=0;i<e.length;i++){let n=e[i];n.options.visible&&t.wrap(n.box)}return t}createAxisLabel(t,e,i={}){let n=this.options,o=n.dataItems&&!n.maxDivisions?n.dataItems[t]:null,r=this.divisionRange.dateAt(t),a=e.dateFormats[this.divisionRange.options.baseUnit];e.format=e.format||a,i.dataItem=o;let l=this.axisLabelText(r,e,i);if(l)return new Hi(r,l,t,o,e)}createRangeLabels(){let{displayStart:t,displayEnd:e}=this.divisionRange,i=this.options,n=Object.assign({},i.labels,i.rangeLabels,{align:$,zIndex:i.zIndex});if(n.visible!==!0)return;this.normalizeLabelRotation(n),n.alignRotation=$,n.rotation==="auto"&&(n.rotation=0,i.autoRotateRangeLabels=!0);let o=n.dateFormats[this.divisionRange.options.baseUnit];n.format=n.format||o;let r=(c,h,d)=>{if(d){let p=new Hi(h,d,c,null,n);this.append(p),this.rangeLabels.push(p)}},a=this.axisLabelText(t,n,{index:0,count:2});r(0,t,a);let l=this.axisLabelText(e,n,{index:1,count:2});r(1,e,l)}autoRotateRangeLabels(){let t=this.rangeLabels;if(!this.options.autoRotateRangeLabels||this.options.vertical||t.length!==2)return;let e=(n,o,r)=>{let a=Math.abs(o[r+1]-o[r])*2,l=this.autoRotateLabelAngle(n.box,a);l!==0&&(n.options.rotation=l,n.reflow(new k))},i=this.getMajorTickPositions();e(t[0],i,0),e(t[1],i,i.length-2)}categoryIndex(t){return this.dataRange.valueIndex(t)}slot(t,e,i){let n=this.dataRange,o=t,r=e;o instanceof Date&&(o=n.dateIndex(o)),r instanceof Date&&(r=n.dateIndex(r));let a=this.getSlot(o,r,i);if(a)return a.toRect()}getSlot(t,e,i){let n=t,o=e;return typeof n===to&&(n=this.categoryIndex(n)),typeof o===to&&(o=this.categoryIndex(o)),super.getSlot(n,o,i)}valueRange(){let t=this.options,e=Qu(t.srcCategories);return{min:vt(e.min),max:vt(e.max)}}categoryAt(t,e){return this.dataRange.dateAt(t,e)}categoriesCount(){return this.dataRange.valuesCount()}rangeIndices(){return this.dataRange.displayIndices()}labelsBetweenTicks(){return!this.divisionRange.options.justified}prepareUserOptions(){this.isEmpty()||(this.options.categories=this.dataRange.values())}getCategory(t){let e=this.pointCategoryIndex(t);return e===null?null:this.dataRange.dateAt(e)}totalIndex(t){return this.dataRange.totalIndex(t)}currentRangeIndices(){let t=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(t.min),max:this.dataRange.totalIndex(t.max)}}totalRange(){return this.dataRange.total()}totalRangeIndices(){let t=this.dataRange.total();return{min:this.dataRange.totalIndex(t.min),max:this.dataRange.totalIndex(t.max)}}totalCount(){return this.dataRange.totalCount()}isEmpty(){return!this.options.srcCategories.length}roundedRange(){if(this.options.roundToBaseUnit!==!1||this.isEmpty())return this.range();let t=this.options,e=Qu(t.srcCategories);return new X2(e.min,e.max,Object.assign({},t,{justified:!1,roundToBaseUnit:!0,justifyEnd:!1})).displayRange()}};b(Ku,{type:ii,labels:{dateFormats:Xu},rangeLabels:{visible:!1},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});var $n=Ku;function zv(s,t,e){if(!s&&!t)return 0;let i;if(s>=0&&t>=0){let n=s===t?0:s,o=(t-n)/t;if(e===!1||!e&&o>$u)return 0;i=Math.max(0,n-(t-n)/2)}else i=s;return i}function Ev(s,t,e){if(!s&&!t)return 1;let i;if(s<=0&&t<=0){let n=s===t?0:t,o=Math.abs((n-s)/n);if(e===!1||!e&&o>$u)return 0;i=Math.min(0,n-(s-n)/2)}else i=t;return i}function Ju(s,t){return R(Math.floor(s/t)*t,10)}function Da(s,t){return R(Math.ceil(s/t)*t,10)}function Pa(s){return Math.max(Math.min(s,3e5),-3e5)}var kv=Math.pow(10,-9),tm=class s extends Xn{constructor(t,e,i,n){super(Object.assign({},i,{seriesMin:t,seriesMax:e}),n)}initUserOptions(t){let e=EL(t.seriesMin,t.seriesMax,t);return this.totalOptions=kL(e,t),PL(e,t)}initFields(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax}clone(){return new s(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}startValue(){return 0}range(){let t=this.options;return{min:t.min,max:t.max}}getDivisions(t){if(t===0)return 1;let e=this.options,i=e.max-e.min;return Math.floor(R(i/t,3))+1}getTickPositions(t,e){let i=this.options,{axisDir:n,axisOrigin:o,lineBox:r,lineSize:a}=this.lineInfo(),l=i.max-i.min,c=a/l,h=t*c,d=this.getDivisions(t),p=[],u=r[o],m=0;e&&(m=e/t);for(let f=0;f<d;f++)f%m!==0&&p.push(R(u,3)),u=u+h*n;return p}getMajorTickPositions(){return this.getTickPositions(this.options.majorUnit)}getMinorTickPositions(){return this.getTickPositions(this.options.minorUnit)}getSlot(t,e,i=!1){let n=this.options,{axis:o,axisDir:r,lineBox:a,lineSize:l,lineStart:c}=this.lineInfo(),h=r*(l/(n.max-n.min)),d=q(t,e||0),p=q(e,t||0);i&&(d=W(d,n.min,n.max),p=W(p,n.min,n.max));let u=Math.min(d,p)-n.min,m=Math.max(d,p)-n.min,f=new k(a.x1,a.y1,a.x1,a.y1);return f[o+1]=Pa(c+h*(r>0?u:m)),f[o+2]=Pa(c+h*(r>0?m:u)),f}getValue(t){let e=this.options,i=Number(e.max),n=Number(e.min),o=this.pointOffset(t),r=o*(i-n);if(o<0||o>1)return null;let a=n+r;return R(a,10)}translateRange(t){let e=this.options,{vertical:i,reverse:n,max:o,min:r}=e,{lineSize:a}=this.lineInfo(),l=o-r,c=a/l,h=R(t/c,10);return(i||n)&&!(i&&n)&&(h=-h),{min:r+h,max:o+h,offset:h}}labelsCount(){return this.getDivisions(this.options.majorUnit)}createAxisLabel(t,e,i){let n=this.options,o=R(n.min+t*n.majorUnit,10),r=this.axisLabelText(o,e,i);return new Hi(o,r,t,null,e)}shouldRenderNote(t){let e=this.range();return e.min<=t&&t<=e.max}pan(t){let e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)}pointsRange(t,e){let i=this.getValue(t),n=this.getValue(e),o=Math.min(i,n),r=Math.max(i,n);if(this.isValidRange(o,r))return{min:o,max:r}}scaleRange(t,e){let i=Math.abs(this.pointOffset(e)),n=this.options.max-this.options.min,o=this.scaleToDelta(t,n),r=i*o,a=(1-i)*o,l=R(this.options.min+r,10),c=R(this.options.max-a,10);return c-l<kv&&(c=l+kv),{min:l,max:c}}zoomRange(t,e){let{totalMin:i,totalMax:n}=this,o=this.scaleRange(t,e);return{min:W(o.min,i,n),max:W(o.max,i,n),narrowRange:!1}}isValidRange(t,e){return e-t>kv}};function EL(s,t,e){let i=e.narrowRange,n=zv(s,t,i),o=Ev(s,t,i),r=Zi(n,o),a={majorUnit:r};return e.roundToMajorUnit!==!1&&(n<0&&W_(n,r,1/3)&&(n-=r),o>0&&W_(o,r,1/3)&&(o+=r)),a.min=Ju(n,r),a.max=Da(o,r),a}function kL(s,t){return{min:M(t.min)?Math.min(s.min,t.min):s.min,max:M(t.max)?Math.max(s.max,t.max):s.max,majorUnit:s.majorUnit}}function DL(s,t){for(let e=0;e<t.length;e++){let i=t[e];s[i]===null&&(s[i]=void 0)}}function PL(s,t){let e=t,i,n;if(t){DL(t,["min","max"]),i=M(t.min),n=M(t.max);let r=i||n;r&&t.min===t.max&&(t.min>0?t.min=0:t.max=1),t.majorUnit?(s.min=Ju(s.min,t.majorUnit),s.max=Da(s.max,t.majorUnit)):r&&(e=v(s,t),s.majorUnit=Zi(e.min,e.max))}s.minorUnit=(e.majorUnit||s.majorUnit)/5;let o=v(s,e);return o.min>=o.max&&(i&&!n?o.max=o.min+o.majorUnit:!i&&n&&(o.min=o.max-o.majorUnit)),o}function W_(s,t,e){let i=R(Math.abs(s%t),10),n=t*(1-e);return i===0||i>n}b(tm,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:ft},labels:{format:"#.####################"},zIndex:1});var Be=tm;var q_=1e3,em=class s extends Xn{constructor(t,e,i,n){let o=vt(t),r=vt(e),a=n.intl,l=i||{};l=v(l||{},{min:Qt(a,l.min),max:Qt(a,l.max),axisCrossingValue:xc(a,l.axisCrossingValues||l.axisCrossingValue),weekStartDay:yc(l,a)}),l=RL(o,r,l),super(l,n),this.intlService=a,this.seriesMin=o,this.seriesMax=r;let c=l.weekStartDay||0;this.totalMin=Mt(ka(Mt(o)-1,l.baseUnit,c)),this.totalMax=Mt(Y2(Mt(r)+1,l.baseUnit,c))}clone(){return new s(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}range(){let t=this.options;return{min:t.min,max:t.max}}getDivisions(t){let e=this.options;return Math.floor(vc(e.min,e.max,e.baseUnit)/t+1)}getTickPositions(t){let e=this.options,{axisDir:i,lineSize:n,lineStart:o}=this.lineInfo(),r=this.getDivisions(t),a=li(e.max,e.min),l=n/a,c=e.weekStartDay||0,h=[o];for(let d=1;d<r;d++){let p=le(e.min,d*t,e.baseUnit,c),u=o+li(p,e.min)*l*i;h.push(R(u,3))}return h}getMajorTickPositions(){return this.getTickPositions(this.options.majorUnit)}getMinorTickPositions(){return this.getTickPositions(this.options.minorUnit)}getSlot(t,e,i){return Be.prototype.getSlot.call(this,Qt(this.intlService,t),Qt(this.intlService,e),i)}getValue(t){let e=Be.prototype.getValue.call(this,t);return e!==null?vt(e):null}labelsCount(){return this.getDivisions(this.options.majorUnit)}createAxisLabel(t,e,i){let n=this.options,o=t*n.majorUnit,r=n.weekStartDay||0,a=n.min;o>0&&(a=le(a,o,n.baseUnit,r));let l=e.dateFormats[n.baseUnit];e.format=e.format||l;let c=this.axisLabelText(a,e,i);return new Hi(a,c,t,null,e)}translateRange(t){let e=this.options,i=this.lineBox(),{vertical:n,reverse:o}=e,r=n?i.height():i.width(),a=this.range(),l=r/li(a.max,a.min),c=R(t/l,10);(n||o)&&!(n&&o)&&(c=-c);let h=re(e.min,c),d=re(e.max,c);return{min:h,max:d,offset:c}}shouldRenderNote(t){let e=this.range();return fr(t,e.min)>=0&&fr(t,e.max)<=0}pan(t){let e=this.translateRange(t,!0),i=this.limitRange(Mt(e.min),Mt(e.max),this.totalMin,this.totalMax,e.offset);if(i)return{min:vt(i.min),max:vt(i.max)}}pointsRange(t,e){let i=this.getValue(t),n=this.getValue(e),o=Math.min(i,n),r=Math.max(i,n);return{min:vt(o),max:vt(r)}}scaleRange(t,e){let i=Math.abs(this.pointOffset(e)),n=this.options.max-this.options.min,o=this.scaleToDelta(t,n),r=i*o,a=(1-i)*o,l=vt(Mt(this.options.min)+r),c=vt(Mt(this.options.max)-a);return c-l<q_&&(c=vt(Mt(l)+q_)),{min:l,max:c}}zoomRange(t,e){let i=this.scaleRange(t,e),n=vt(W(Mt(i.min),this.totalMin,this.totalMax)),o=vt(W(Mt(i.max),this.totalMin,this.totalMax));return{min:n,max:o}}};function LL(s){let t=pr;return s>=31536e6?t=Ni:s>=26784e5?t=Tn:s>=6048e5?t=fo:s>=864e5&&(t=bi),t}function RL(s,t,e){let i=e.min||s,n=e.max||t,o=e.baseUnit||(n&&i?LL(ur(n,i)):pr),r=Fi[o],a=e.weekStartDay||0,l=ka(Mt(i)-1,o,a)||vt(n),c=Y2(Mt(n)+1,o,a),d=(e.majorUnit?e.majorUnit:void 0)||Da(Zi(l.getTime(),c.getTime()),r)/r,p=vc(l,c,o),m=Da(p,d)-p,f=Math.floor(m/2),g=m-f;return e.baseUnit||delete e.baseUnit,e.baseUnit=e.baseUnit||o,e.min=e.min||le(l,-f,o,a),e.max=e.max||le(c,g,o,a),e.minorUnit=e.minorUnit||d/5,e.majorUnit=d,e}b(em,{type:ii,majorGridLines:{visible:!0,width:1,color:ft},labels:{dateFormats:Xu}});var $2=em;var X_=10,Y_=1e-6,im=class s extends Xn{constructor(t,e,i,n){let o=v({majorUnit:X_,min:t,max:e},i),r=o.majorUnit,a=BL(e,r),l=VL(t,e,o),c=OL(l,a,o,i);o.max=c.max,o.min=c.min,o.minorUnit=i.minorUnit||R(r-1,10),super(o,n),this.totalMin=M(i.min)?Math.min(l,i.min):l,this.totalMax=M(i.max)?Math.max(a,i.max):a,this.logMin=R(Qn(c.min,r),10),this.logMax=R(Qn(c.max,r),10),this.seriesMin=t,this.seriesMax=e,this.createLabels()}clone(){return new s(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}startValue(){return this.options.min}getSlot(t,e,i){let{options:n,logMin:o,logMax:r}=this,{majorUnit:a,min:l,max:c}=n,{axis:h,axisDir:d,lineBox:p,lineSize:u,lineStart:m}=this.lineInfo(),f=d*(u/(r-o)),g=q(t,e||1),x=q(e,t||1);if(g<=0||x<=0)return null;i&&(g=W(g,l,c),x=W(x,l,c)),g=Qn(g,a),x=Qn(x,a);let y=Math.min(g,x)-o,C=Math.max(g,x)-o,S=new k(p.x1,p.y1,p.x1,p.y1);return S[h+1]=Pa(m+f*(d>0?y:C)),S[h+2]=Pa(m+f*(d>0?C:y)),S}getValue(t){let{options:e,logMin:i,logMax:n}=this,{majorUnit:o}=e,{axis:r,axisDir:a,lineStart:l,lineSize:c}=this.lineInfo(),h=(n-i)/c,d=a*(t[r]-l),p=d*h;if(d<0||d>c)return null;let u=i+p;return R(Math.pow(o,u),10)}range(){let t=this.options;return{min:t.min,max:t.max}}translateRange(t){let{options:e,logMin:i,logMax:n}=this,{reverse:o,vertical:r,majorUnit:a}=e,l=this.lineBox(),h=(r?l.height():l.width())/(n-i),d=R(t/h,10);return(r||o)&&!(r&&o)&&(d=-d),{min:Math.pow(a,i+d),max:Math.pow(a,n+d),offset:d}}labelsCount(){let t=Math.floor(this.logMax);return Math.floor(t-this.logMin)+1}getMajorTickPositions(){let t=[];return this.traverseMajorTicksPositions(e=>{t.push(e)},{step:1,skip:0}),t}createTicks(t){let e=this.options,{majorTicks:i,minorTicks:n,vertical:o}=e,r=e.labels.mirror,a=this.lineBox(),l=[],c={vertical:o};function h(d,p){c.tickX=r?a.x2:a.x2-p.size,c.tickY=r?a.y1-p.size:a.y1,c.position=d,t.append(U2(c,p))}return i.visible&&this.traverseMajorTicksPositions(h,i),n.visible&&this.traverseMinorTicksPositions(h,n),l}createGridLines(t){let e=this.options,{minorGridLines:i,majorGridLines:n,vertical:o}=e,r=t.lineBox(),a={lineStart:r[o?"x1":"y1"],lineEnd:r[o?"x2":"y2"],vertical:o},l=[],c=this.gridLinesVisual();function h(d,p){J(d,l)||(a.position=d,c.append(G2(a,p)),l.push(d))}return n.visible&&this.traverseMajorTicksPositions(h,n),i.visible&&this.traverseMinorTicksPositions(h,i),c.children}traverseMajorTicksPositions(t,e){let{lineStart:i,step:n}=this.lineInfo(),{logMin:o,logMax:r}=this;for(let a=Math.ceil(o)+e.skip;a<=r;a+=e.step){let l=R(i+n*(a-o),10);t(l,e)}}traverseMinorTicksPositions(t,e){let{min:i,max:n,minorUnit:o,majorUnit:r}=this.options,{lineStart:a,step:l}=this.lineInfo(),{logMin:c,logMax:h}=this,d=Math.floor(c);for(let p=d;p<h;p++){let u=this._minorIntervalOptions(p);for(let m=e.skip;m<o;m+=e.step){let f=u.value+m*u.minorStep;if(f>n)break;if(f>=i){let g=R(a+l*(Qn(f,r)-c),10);t(g,e)}}}}createAxisLabel(t,e,i){let n=Math.ceil(this.logMin+t),o=Math.pow(this.options.majorUnit,n),r=this.axisLabelText(o,e,i);return new Hi(o,r,t,null,e)}shouldRenderNote(t){let e=this.range();return e.min<=t&&t<=e.max}pan(t){let e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)}pointsRange(t,e){let i=this.getValue(t),n=this.getValue(e),o=Math.min(i,n),r=Math.max(i,n);return{min:o,max:r}}scaleRange(t,e){let{majorUnit:i}=this.options,n=Qn(this.options.min,i),o=Qn(this.options.max,i),r=Math.abs(this.pointOffset(e)),a=o-n,l=this.scaleToDelta(t,a),c=Math.pow(i,n+r*l),h=Math.pow(i,o-(1-r)*l);return h-c<Y_&&(h=c+Y_),{min:c,max:h}}zoomRange(t,e){let i=this.scaleRange(t,e),{totalMin:n,totalMax:o}=this;return{min:W(i.min,n,o),max:W(i.max,n,o)}}_minorIntervalOptions(t){let{minorUnit:e,majorUnit:i}=this.options,n=Math.pow(i,t),a=(Math.pow(i,t+1)-n)/e;return{value:n,minorStep:a}}lineInfo(){let t=super.lineInfo();return t.step=t.axisDir*(t.lineSize/(this.logMax-this.logMin)),t}};function OL(s,t,e,i){let{min:n,max:o}=e;return M(e.axisCrossingValue)&&e.axisCrossingValue<=0&&Dv(),M(i.max)?i.max<=0&&Dv():o=t,M(i.min)?i.min<=0&&Dv():n=s,{min:n,max:o}}function VL(s,t,e){let i=e.majorUnit,n=s;return s<=0?n=t<=1?Math.pow(i,-2):1:e.narrowRange||(n=Math.pow(i,Math.floor(Qn(s,i)))),n}function BL(s,t){let e=R(Qn(s,t),10)%1,i;return s<=0?i=t:e!==0&&(e<.3||e>.9)?i=Math.pow(t,Qn(s,t)+.2):i=Math.pow(t,Math.ceil(Qn(s,t))),i}function Dv(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function Qn(s,t){return Math.log(s)/Math.log(t)}b(im,{type:"log",majorUnit:X_,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:ft},zIndex:1,_deferLabels:!0});var gr=im;var HL={createGridLines:function(s){let t=this.options,e=Math.abs(this.box.center().y-s.lineBox().y1),i=[],n=!1,o,r;return t.majorGridLines.visible&&(o=this.majorGridLineAngles(s),n=!0,i=this.renderMajorGridLines(o,e,t.majorGridLines)),t.minorGridLines.visible&&(r=this.minorGridLineAngles(s,n),Bi(i,this.renderMinorGridLines(r,e,t.minorGridLines,s,n))),i},renderMajorGridLines:function(s,t,e){return this.renderGridLines(s,t,e)},renderMinorGridLines:function(s,t,e,i,n){let o=this.radiusCallback&&this.radiusCallback(t,i,n);return this.renderGridLines(s,t,e,o)},renderGridLines:function(s,t,e,i){let n={stroke:{width:e.width,color:e.color,dashType:e.dashType}},o=this.box.center(),r=new T.Circle([o.x,o.y],t),a=this.gridLinesVisual();for(let l=0;l<s.length;l++){let c=new _.Path(n);i&&(r.radius=i(s[l])),c.moveTo(r.center).lineTo(r.pointAt(s[l]+180)),a.append(c)}return a.children},gridLineAngles:function(s,t,e,i,n){let o=this.intervals(t,e,i,n),r=s.options,a=r.visible&&(r.line||{}).visible!==!1;return pc(o,l=>{let c=this.intervalAngle(l);if(!a||c!==90)return c})}},nm=HL;var Q2=class extends ci{range(){return{min:0,max:this.options.categories.length}}reflow(t){this.box=t,this.reflowLabels()}lineBox(){return this.box}reflowLabels(){let{labels:t,options:{labels:e}}=this,i=e.skip||0,n=e.step||1,o=new k;for(let r=0;r<t.length;r++){t[r].reflow(o);let a=t[r].box;t[r].reflow(this.getSlot(i+r*n).adjacentBox(0,a.width(),a.height()))}}intervals(t,e,i,n=!1){let o=this.options,a=o.categories.length/t||1,l=360/a,c=e||0,h=i||1,d=[],p=0;for(let u=c;u<a;u+=h)o.reverse?p=360-u*l:p=u*l,p=R(p,3)%360,n&&J(p,n)||d.push(p);return d}majorIntervals(){return this.intervals(1)}minorIntervals(){return this.intervals(.5)}intervalAngle(t){return(360+t+this.options.startAngle)%360}majorAngles(){return pc(this.majorIntervals(),t=>this.intervalAngle(t))}createLine(){return[]}majorGridLineAngles(t){let e=this.options.majorGridLines;return this.gridLineAngles(t,1,e.skip,e.step)}minorGridLineAngles(t,e){let{minorGridLines:i,majorGridLines:n}=this.options,o=e?this.intervals(1,n.skip,n.step):null;return this.gridLineAngles(t,.5,i.skip,i.step,o)}radiusCallback(t,e,i){if(e.options.type!==gn){let n=jt(360/(this.options.categories.length*2)),o=Math.cos(n)*t,r=this.majorAngles();return function(l){return!i&&J(l,r)?t:o}}}createPlotBands(){let t=this.options.plotBands||[],e=this._plotbandGroup=new _.Group({zIndex:-1});for(let i=0;i<t.length;i++){let n=t[i],o=this.plotBandSlot(n),r=this.getSlot(n.from),a=n.from-Math.floor(n.from);o.startAngle+=a*r.angle;let l=Math.ceil(n.to)-n.to;o.angle-=(l+a)*r.angle;let c=uo.current.createRing(o,{fill:{color:n.color,opacity:n.opacity},stroke:{opacity:n.opacity}});e.append(c)}this.appendVisual(e)}plotBandSlot(t){return this.getSlot(t.from,t.to-1)}getSlot(t,e){let i=this.options,n=i.justified,o=this.box,r=this.majorAngles(),a=r.length,l=360/a,c=t;i.reverse&&!n&&(c=(c+1)%a),c=W(Math.floor(c),0,a-1);let h=r[c];n&&(h=h-l/2,h<0&&(h+=360));let p=W(Math.ceil(e||c),c,a-1)-c+1,u=l*p;return new As(o.center(),0,o.height()/2,h,u)}slot(t,e){let i=this.getSlot(t,e),n=i.startAngle+180,o=n+i.angle;return new T.Arc([i.center.x,i.center.y],{startAngle:n,endAngle:o,radiusX:i.radius,radiusY:i.radius})}pointCategoryIndex(t){let e=this.options.categories.length,i=null;for(let n=0;n<e;n++)if(this.getSlot(n).containsPoint(t)){i=n;break}return i}};b(Q2,{startAngle:90,labels:{margin:at(10)},majorGridLines:{visible:!0},justified:!0});v(Q2.prototype,nm);var bc=Q2;var Z2=class extends Xn{constructor(t,e){super(t,e);let i=this.options;i.minorUnit=i.minorUnit||i.majorUnit/2}getDivisions(t){return Be.prototype.getDivisions.call(this,t)-1}reflow(t){this.box=t,this.reflowLabels()}reflowLabels(){let{options:t,labels:e,options:{labels:i}}=this,n=i.skip||0,o=i.step||1,r=new k,a=this.intervals(t.majorUnit,n,o);for(let l=0;l<e.length;l++){e[l].reflow(r);let c=e[l].box;e[l].reflow(this.getSlot(a[l]).adjacentBox(0,c.width(),c.height()))}}lineBox(){return this.box}intervals(t,e,i,n=!1){let o=this.options.min,r=this.getDivisions(t),a=[],l=e||0,c=i||1;for(let h=l;h<r;h+=c){let d=(360+o+h*t)%360;n&&J(d,n)||a.push(d)}return a}majorIntervals(){return this.intervals(this.options.majorUnit)}minorIntervals(){return this.intervals(this.options.minorUnit)}intervalAngle(t){return(540-t-this.options.startAngle)%360}createLine(){return[]}majorGridLineAngles(t){let e=this.options.majorGridLines;return this.gridLineAngles(t,this.options.majorUnit,e.skip,e.step)}minorGridLineAngles(t,e){let i=this.options,{minorGridLines:n,majorGridLines:o}=i,r=e?this.intervals(i.majorUnit,o.skip,o.step):null;return this.gridLineAngles(t,i.minorUnit,n.skip,n.step,r)}plotBandSlot(t){return this.getSlot(t.from,t.to)}getSlot(t,e){let{options:i,box:n}=this,o=i.startAngle,r=W(t,i.min,i.max),a=W(e||r,r,i.max);if(i.reverse&&(r*=-1,a*=-1),r=(540-r-o)%360,a=(540-a-o)%360,a<r){let l=r;r=a,a=l}return new As(n.center(),0,n.height()/2,r,a-r)}slot(t,e=t){let i=this.options,n=360-i.startAngle,o=this.getSlot(t,e),r=Math.min(t,e),a=Math.max(t,e),l,c;return i.reverse?(l=r,c=a):(l=360-a,c=360-r),l=(l+n)%360,c=(c+n)%360,new T.Arc([o.center.x,o.center.y],{startAngle:l,endAngle:c,radiusX:o.radius,radiusY:o.radius})}getValue(t){let e=this.options,i=this.box.center(),n=t.x-i.x,o=t.y-i.y,r=Math.round(Mn(Math.atan2(o,n))),a=e.startAngle;return e.reverse||(r*=-1,a*=-1),(r+a+360)%360}valueRange(){return{min:0,max:Math.PI*2}}};b(Z2,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:at(10)},majorGridLines:{color:ft,visible:!0,width:1},minorGridLines:{color:"#aaa"}});v(Z2.prototype,nm,{createPlotBands:bc.prototype.createPlotBands,majorAngles:bc.prototype.majorAngles,range:Be.prototype.range,labelsCount:Be.prototype.labelsCount,createAxisLabel:Be.prototype.createAxisLabel});var Pv=Z2;var NL={options:{majorGridLines:{visible:!0}},createPlotBands:function(){let{majorGridLines:{type:s},plotBands:t=[]}=this.options,e=this.plotArea.polarAxis,i=e.majorAngles(),n=e.box.center(),o=this._plotbandGroup=new _.Group({zIndex:-1});for(let r=0;r<t.length;r++){let a=t[r],l={fill:{color:a.color,opacity:a.opacity},stroke:{opacity:a.opacity}},c=this.getSlot(a.from,a.to,!0),h=new As(n,n.y-c.y2,n.y-c.y1,0,360),d;s===gn?d=uo.current.createRing(h,l):d=_.Path.fromPoints(this.plotBandPoints(h,i),l).close(),o.append(d)}this.appendVisual(o)},plotBandPoints:function(s,t){let e=[],i=[],n=[s.center.x,s.center.y],o=new T.Circle(n,s.innerRadius),r=new T.Circle(n,s.radius);for(let a=0;a<t.length;a++)e.push(o.pointAt(t[a]+180)),i.push(r.pointAt(t[a]+180));return e.reverse(),e.push(e[0]),i.push(i[0]),i.concat(e)},createGridLines:function(s){let t=this.options,e=this.radarMajorGridLinePositions(),i=s.majorAngles(),n=s.box.center(),o=[];if(t.majorGridLines.visible&&(o=this.renderGridLines(n,e,i,t.majorGridLines)),t.minorGridLines.visible){let r=this.radarMinorGridLinePositions();Bi(o,this.renderGridLines(n,r,i,t.minorGridLines))}return o},renderGridLines:function(s,t,e,i){let n={stroke:{width:i.width,color:i.color,dashType:i.dashType}},{skip:o=0,step:r=0}=i,a=this.gridLinesVisual();for(let l=o;l<t.length;l+=r){let c=s.y-t[l];if(c>0){let h=new T.Circle([s.x,s.y],c);if(i.type===gn)a.append(new _.Circle(h,n));else{let d=new _.Path(n);for(let p=0;p<e.length;p++)d.lineTo(h.pointAt(e[p]+180));d.close(),a.append(d)}}}return a.children},getValue:function(s){let t=this.lineBox(),e=this.plotArea.polarAxis,i=e.majorAngles(),n=e.box.center(),o=s.distanceTo(n),r=o;if(this.options.majorGridLines.type!==gn&&i.length>1){let a=s.x-n.x,l=s.y-n.y,c=(Mn(Math.atan2(l,a))+540)%360;i.sort(function(m,f){return sm(m,c)-sm(f,c)});let h=sm(i[0],i[1])/2,d=sm(c,i[0]),p=90-h,u=180-d-p;r=o*(Math.sin(jt(u))/Math.sin(jt(p)))}return this.axisType().prototype.getValue.call(this,new Y(t.x1,t.y2-r))}};function sm(s,t){return 180-Math.abs(Math.abs(s-t)-180)}var om=NL;var rm=class extends Be{radarMajorGridLinePositions(){return this.getTickPositions(this.options.majorUnit)}radarMinorGridLinePositions(){let t=this.options,e=0;return t.majorGridLines.visible&&(e=t.majorUnit),this.getTickPositions(t.minorUnit,e)}axisType(){return Be}};v(rm.prototype,om);var Lv=rm;var am=class extends gr{radarMajorGridLinePositions(){let t=[];return this.traverseMajorTicksPositions(function(e){t.push(e)},this.options.majorGridLines),t}radarMinorGridLinePositions(){let t=[];return this.traverseMinorTicksPositions(function(e){t.push(e)},this.options.minorGridLines),t}axisType(){return gr}};v(am.prototype,om);var Rv=am;var $_=.333,FL=.01,Ov=class extends z{constructor(t){super(),this.closed=t}process(t){let e=t.slice(0),i=[],n=this.closed,o=e.length;if(o>2&&(this.removeDuplicates(0,e),o=e.length),o<2||o===2&&e[0].equals(e[1]))return i;let r=e[0],a=e[1],l=e[2];for(i.push(new T.Segment(r));r.equals(e[o-1]);)n=!0,e.pop(),o--;if(o===2){let p=this.tangent(r,a,B,H);return Pt(i).controlOut(this.firstControlPoint(p,r,a,B,H)),i.push(new T.Segment(a,this.secondControlPoint(p,r,a,B,H))),i}let c,h;if(n){r=e[o-1],a=e[0],l=e[1];let p=this.controlPoints(r,a,l);c=p[1],h=p[0]}else{let p=this.tangent(r,a,B,H);c=this.firstControlPoint(p,r,a,B,H)}let d=c;for(let p=0;p<=o-3;p++)if(this.removeDuplicates(p,e),o=e.length,p+3<=o){r=e[p],a=e[p+1],l=e[p+2];let u=this.controlPoints(r,a,l);Pt(i).controlOut(d),d=u[1];let m=u[0];i.push(new T.Segment(a,m))}if(n){r=e[o-2],a=e[o-1],l=e[0];let p=this.controlPoints(r,a,l);Pt(i).controlOut(d),i.push(new T.Segment(a,p[0])),Pt(i).controlOut(p[1]),i.push(new T.Segment(l,h))}else{let p=this.tangent(a,l,B,H);Pt(i).controlOut(d),i.push(new T.Segment(l,this.secondControlPoint(p,a,l,B,H)))}return i}removeDuplicates(t,e){for(;e[t+1]&&(e[t].equals(e[t+1])||e[t+1].equals(e[t+2]));)e.splice(t+1,1)}invertAxis(t,e,i){let n=!1;if(t.x===e.x)n=!0;else if(e.x===i.x)(e.y<i.y&&t.y<=e.y||i.y<e.y&&e.y<=t.y)&&(n=!0);else{let o=this.lineFunction(t,e),r=this.calculateFunction(o,i.x);!(t.y<=e.y&&i.y<=r)&&!(e.y<=t.y&&i.y>=r)&&(n=!0)}return n}isLine(t,e,i){let n=this.lineFunction(t,e),o=this.calculateFunction(n,i.x);return t.x===e.x&&e.x===i.x||R(o,1)===R(i.y,1)}lineFunction(t,e){let i=(e.y-t.y)/(e.x-t.x);return[t.y-i*t.x,i]}controlPoints(t,e,i){let n=B,o=H,r=!1,a=!1,l;if(this.isLine(t,e,i))l=this.tangent(t,e,B,H);else{let d={x:this.isMonotonicByField(t,e,i,B),y:this.isMonotonicByField(t,e,i,H)};if(d.x&&d.y)l=this.tangent(t,i,B,H),r=!0;else if(this.invertAxis(t,e,i)&&(n=H,o=B),d[n])l=0;else{let p;i[o]<t[o]&&t[o]<=e[o]||t[o]<i[o]&&e[o]<=t[o]?p=Q_((i[o]-t[o])*(e[n]-t[n])):p=-Q_((i[n]-t[n])*(e[o]-t[o])),l=FL*p,a=!0}}let c=this.secondControlPoint(l,t,e,n,o);if(a){let d=n;n=o,o=d}let h=this.firstControlPoint(l,e,i,n,o);return r&&(this.restrictControlPoint(t,e,c,l),this.restrictControlPoint(e,i,h,l)),[c,h]}restrictControlPoint(t,e,i,n){t.y<e.y?e.y<i.y?(i.x=t.x+(e.y-t.y)/n,i.y=e.y):i.y<t.y&&(i.x=e.x-(e.y-t.y)/n,i.y=t.y):i.y<e.y?(i.x=t.x-(t.y-e.y)/n,i.y=e.y):t.y<i.y&&(i.x=e.x+(t.y-e.y)/n,i.y=t.y)}tangent(t,e,i,n){let o=e[i]-t[i],r=e[n]-t[n],a;return o===0?a=0:a=r/o,a}isMonotonicByField(t,e,i,n){return i[n]>e[n]&&e[n]>t[n]||i[n]<e[n]&&e[n]<t[n]}firstControlPoint(t,e,i,n,o){let r=e[n],l=(i[n]-r)*$_;return this.point(r+l,e[o]+l*t,n,o)}secondControlPoint(t,e,i,n,o){let r=e[n],a=i[n],l=(a-r)*$_;return this.point(a-l,i[o]-l*t,n,o)}point(t,e,i,n){let o=new T.Point;return o[i]=t,o[n]=e,o}calculateFunction(t,e){let i=t.length,n=0;for(let o=0;o<i;o++)n+=Math.pow(e,o)*t[o];return n}};function Q_(s){return s<=0?-1:1}var vo=Ov;var Vv=class extends z{constructor(t){super(),this._axis=t,this.options=t.options}value(t){let e=this._axis;return e.getCategory?e.getCategory(t):e.getValue(t)}slot(t,e,i=!0){return this._axis.slot(t,e,i)}range(){return this._axis.range()}valueRange(){return this._axis.valueRange()}},Bv=Vv;function _c(s,t){for(let e=0;e<t.length;e++)if(t[e].options.name===s)return t[e].prepareUserOptions(),new Bv(t[e])}var Hv=class{constructor(t){this.visual=t.visual,this.chartsVisual=t.chartContainer.visual,this._pane=t}findAxisByName(t){return _c(t,this._pane.axes)}},wc=Hv;var Nv=class extends z{constructor(t){super(),this._plotArea=t,this.visual=t.visual,this.backgroundVisual=t._bgVisual}},Fv=Nv;function La(s){let t=s.length,e=0;for(let i=0;i<t;i++){let n=s[i];rt(n)&&e++}return e}var jv={min:function(s){let t=s.length,e=yt;for(let i=0;i<t;i++){let n=s[i];rt(n)&&(e=Math.min(e,n))}return e===yt?s[0]:e},max:function(s){let t=s.length,e=Tt;for(let i=0;i<t;i++){let n=s[i];rt(n)&&(e=Math.max(e,n))}return e===Tt?s[0]:e},sum:function(s){let t=s.length,e=0;for(let i=0;i<t;i++){let n=s[i];rt(n)&&(e+=n)}return e},sumOrNull:function(s){let t=null;return La(s)&&(t=jv.sum(s)),t},count:function(s){let t=s.length,e=0;for(let i=0;i<t;i++){let n=s[i];n!==null&&M(n)&&e++}return e},avg:function(s){let t=La(s),e=s[0];return t>0&&(e=jv.sum(s)/t),e},first:function(s){let t=s.length;for(let e=0;e<t;e++){let i=s[e];if(i!==null&&M(i))return i}return s[0]}},Uv=jv;function lm(s,t){return t===null?t:Vi(s,!0)(t)}var K2=class extends z{constructor(){super(),this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}}register(t,e=[$e],i={}){for(let n=0;n<t.length;n++){let o=t[n];this._valueFields[o]=e,this._otherFields[o]=i,this._nullValue[o]=this._makeValue(e,null),this._undefinedValue[o]=this._makeValue(e,void 0)}}canonicalFields(t){return this.valueFields(t).concat(this.otherFields(t))}valueFields(t){return this._valueFields[t.type]||[$e]}otherFields(t){return this._otherFields[t.type]||[$e]}bindPoint(t,e,i){let n=t.data,o=M(i)?i:n[e],r={valueFields:{value:o}},a=this.valueFields(t),l=this._otherFields[t.type],c,h;if(o===null)h=this._nullValue[t.type];else if(!M(o))h=this._undefinedValue[t.type];else if(Array.isArray(o)){let d=o.slice(a.length);h=this._bindFromArray(o,a),c=this._bindFromArray(d,l)}else if(typeof o=="object"){let d=this.sourceFields(t,a),p=this.sourceFields(t,l);h=this._bindFromObject(o,a,d),c=this._bindFromObject(o,l,p)}return M(h)&&(a.length===1?r.valueFields.value=h[a[0]]:r.valueFields=h),r.fields=c||{},r}_makeValue(t,e){let i={},n=t.length;for(let o=0;o<n;o++){let r=t[o];i[r]=e}return i}_bindFromArray(t,e){let i={};if(e){let n=Math.min(e.length,t.length);for(let o=0;o<n;o++)i[e[o]]=t[o]}return i}_bindFromObject(t,e,i=e){let n={};if(e){let o=e.length;for(let r=0;r<o;r++){let a=e[r],l=i[r];l!==null&&(n[a]=lm(l,t))}}return n}sourceFields(t,e){let i=[];if(e){let n=e.length;for(let o=0;o<n;o++){let r=e[o],a=r===$e?"field":r+"Field";i.push(t[a]!==null?t[a]||r:null)}}return i}};K2.current=new K2;var wt=K2;var jL="stderr",UL="stddev",GL=/percent(?:\w*)\((\d+)\)/,WL=new RegExp("^"+UL+"(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),Gv=class extends z{constructor(t,e,i){super(),this.initGlobalRanges(t,e,i)}initGlobalRanges(t,e,i){let n=e.data,o=WL.exec(t);if(o){this.valueGetter=this.createValueGetter(e,i);let r=this.getAverage(n),a=this.getStandardDeviation(n,r,!1),l=o[1]?parseFloat(o[1]):1,c={low:r.value-a*l,high:r.value+a*l};this.globalRange=function(){return c}}else if(t.indexOf&&t.indexOf(jL)>=0){this.valueGetter=this.createValueGetter(e,i);let r=this.getStandardError(n,this.getAverage(n));this.globalRange=function(a){return{low:a-r,high:a+r}}}}createValueGetter(t,e){let i=t.data,n=wt.current,o=n.valueFields(t),r=M(i[0])?i[0]:{},a;if(kt(r)){let l=e?o.indexOf(e):0;a=Vi("["+l+"]")}else if(rt(r))a=Vi();else if(typeof r===to){let l=n.sourceFields(t,o);a=Vi(l[o.indexOf(e)])}return a}getErrorRange(t,e){let i,n,o;if(!M(e))return null;if(this.globalRange)return this.globalRange(t);if(kt(e))i=t-e[0],n=t+e[1];else if(rt(o=parseFloat(e)))i=t-o,n=t+o;else if(o=GL.exec(e)){let r=t*(parseFloat(o[1])/100);i=t-Math.abs(r),n=t+Math.abs(r)}else throw new Error("Invalid ErrorBar value: "+e);return{low:i,high:n}}getStandardError(t,e){return this.getStandardDeviation(t,e,!0)/Math.sqrt(e.count)}getStandardDeviation(t,e,i){let n=t.length,o=i?e.count-1:e.count,r=0;for(let a=0;a<n;a++){let l=this.valueGetter(t[a]);rt(l)&&(r+=Math.pow(l-e.value,2))}return Math.sqrt(r/o)}getAverage(t){let e=t.length,i=0,n=0;for(let o=0;o<e;o++){let r=this.valueGetter(t[o]);rt(r)&&(i+=r,n++)}return{value:i/n,count:n}}},J2=Gv;var qL=Xi.browser||{},we=600,hi="fadeIn";var vr=.8,Qe=5,xr=qL.msie?.001:0,cm="errorLow",hm="errorHigh",Z_="xErrorLow",K_="xErrorHigh",J_="yErrorLow",tw="yErrorHigh",Ra=8,Ze="zero",zs="interpolate",Wv="gap",Cc="above",t1="below",In="smooth",yr="step",ji="area",We="bar",Oa="boxPlot",Es="bubble",Zn="bullet",xo="candlestick",_i="column",Sc="donut",br="funnel",_r="pyramid",e1="heatmap",wr="horizontalWaterfall",Ji="line",yo="ohlc",Ui="pie",i1="polarArea",Mc="polarLine",n1="polarScatter",Cr="radarArea",Ac="radarColumn",bo="radarLine",Sr="rangeArea",Mr="rangeBar",Va="rangeColumn",s1="scatter",o1="scatterLine",_o="verticalArea",Ar="verticalBoxPlot",Tr="verticalBullet",wo="verticalLine",Co="verticalRangeArea",Ba="waterfall",dm=[We,_i,yo,xo,Oa,Ar,Zn,Va,Mr,Ba,wr],r1="exponentialTrendline",a1="linearTrendline",l1="logarithmicTrendline",c1="movingAverageTrendline",h1="polynomialTrendline",d1="powerTrendline",So=[r1,a1,l1,c1,h1,d1],pm="legendItemClick",ew="legendItemHover",iw="legendItemLeave",um="seriesClick",mm="seriesHover",fm="seriesOver",gm="seriesLeave",nw="plotAreaClick",vm="plotAreaHover",xm="plotAreaLeave",Ha="drag",Na="dragEnd",ym="dragStart",Tc="zoomStart",Ir="zoom",zr="zoomEnd",p1="selectStart",Fa="select",u1="selectEnd",sw="render",bm="showTooltip",_m="hideTooltip",ow="paneRender",di="graphics-symbol",pi="k-chart-point",ui="Point",rw="checkbox",aw="k-chart-legend-item",lw="Legend item",ja="log",tn="category",Ua="insideEnd",cw="insideBase",Kn="outsideEnd",Ic="wheel",m1=150,hw=.3,dw="drilldown",ks="drilldown",zc=2;var pw=4,wm=class extends tt{constructor(t,e,i,n,o,r){super(r),this.low=t,this.high=e,this.isVertical=i,this.chart=n,this.series=o}reflow(t){let e=this.options.endCaps,i=this.isVertical,o=this.getAxis().getSlot(this.low,this.high),r=t.center(),a=this.getCapsWidth(t,i),l=i?r.x:r.y,c=l-a,h=l+a,d;i?(d=[new Y(r.x,o.y1),new Y(r.x,o.y2)],e&&d.push(new Y(c,o.y1),new Y(h,o.y1),new Y(c,o.y2),new Y(h,o.y2)),this.box=new k(c,o.y1,h,o.y2)):(d=[new Y(o.x1,r.y),new Y(o.x2,r.y)],e&&d.push(new Y(o.x1,c),new Y(o.x1,h),new Y(o.x2,c),new Y(o.x2,h)),this.box=new k(o.x1,c,o.x2,h)),this.linePoints=d}getCapsWidth(t,e){let i=e?t.width():t.height();return Math.min(Math.floor(i/2),pw)||pw}createVisual(){let t=this.options,e=t.visual;e?this.visual=e({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:t.endCaps,color:t.color,line:t.line},createVisual:()=>{this.createDefaultVisual();let i=this.visual;return delete this.visual,i}}):this.createDefaultVisual()}createDefaultVisual(){let{options:t,linePoints:e}=this,i={stroke:{color:t.color,width:t.line.width,dashType:t.line.dashType}};super.createVisual();for(let n=0;n<e.length;n+=2){let o=new _.Path(i).moveTo(e[n].x,e[n].y).lineTo(e[n+1].x,e[n+1].y);se(o),this.visual.append(o)}}};b(wm,{animation:{type:hi,delay:we},endCaps:!0,line:{width:2},zIndex:1});var f1=wm;var qv=class extends f1{getAxis(){return this.chart.seriesValueAxis(this.series)}},Yv=qv;function Ec(s){for(let t=0;t<s.length;t++)if(M(s[t].zIndex))return!0}function Er(s,t){t!==null&&s.push(t)}function kc(s){return La(s)===s.length}function Cm(s,t,e){let i=t.visible;if(M(i))return i;let n=s.pointVisibility;if(n)return n[e]}function Dc(s){let t=s.data,e=[],i=0,n=0;for(let o=0;o<t.length;o++){let r=wt.current.bindPoint(s,o),a=r.valueFields.value;oe(a)&&(a=parseFloat(a)),rt(a)?(r.visible=Cm(s,r.fields,o)!==!1,r.value=Math.abs(a),e.push(r),r.visible&&(i+=r.value),a!==0&&n++):e.push(null)}return{total:i,points:e,count:n}}function kr(s){let t=s.length,e=0;for(let i=0;i<t;i++)e=Math.max(e,s[i].data.length);return e}function wi(s,t){return s&&t?s.toLowerCase()===t.toLowerCase():s===t}var YL=5;function mi(s,t,e={},i=!1){let n=e.defaults=e.defaults||{},o=e.depth=e.depth||0,r=!1;if(e.excluded=e.excluded||[],o>YL)return null;for(let a in s)if(!J(a,e.excluded)&&An(s,a)){let l=s[a];pt(l)?(r=!0,i||(s[a]=q(l(t),n[a]))):me(l)&&(i||(e.defaults=n[a]),e.depth++,r=mi(l,t,e,i)||r,e.depth--)}return r}function It(s,t){let e=[],i=[].concat(t);for(let n=0;n<s.length;n++){let o=s[n];J(o.type,i)&&e.push(o)}return e}var uw=new WeakMap;function Pc(s,t,e){if(t===null||typeof t!="object")return Qt(e,s);let i=uw.get(t);return i||(i=Qt(e,s),uw.set(t,i)),i}function Dr(s){let t=s.overlay;return t&&t.gradient&&t.gradient!=="none"}function ge(s){return M(s)&&s!==null}function Lc(s,t){let e=s.type,i=t instanceof Date;return!e&&i||wi(e,ii)}function Jn(s){return s.length===1?s[0]:s}var XL=/area/i;function $L(s){return s.missingValues?s.missingValues:XL.test(s.type)||s.stack?Ze:zs}function Xv(s,t){let i=wt.current.bindPoint(s,null,t).valueFields;for(let n in i)if(hc(i[n]))return!0}function mw({start:s,dir:t,min:e,max:i,getter:n,hasItem:o,series:r}){let a,l,c=s;do c+=t,o(c)&&(l=n(c),a=Xv(r,l.item));while(e<=c&&c<=i&&!a);if(a)return l}function g1(s,t,e,i,n){let{min:o,max:r}=t,a=o>0&&o<e,l=r+1<e;if(a||l){let c=$L(s),h,d;if(c!==zs)a&&(h=i(o-1)),l&&(d=i(r+1));else{let p,u;a&&(p=i(o-1),u=Xv(s,p.item),u?h=p:h=mw({start:o,dir:-1,min:0,max:e-1,getter:i,hasItem:n,series:s})),l&&(p=i(r+1),u=Xv(s,p.item),u?d=p:d=mw({start:r,dir:1,min:0,max:e-1,getter:i,hasItem:n,series:s}))}h&&(s._outOfRangeMinPoint=h),d&&(s._outOfRangeMaxPoint=d)}}var Sm=class extends tt{constructor(t,e){super(e),this.plotArea=t,this.chartService=t.chartService,this.categoryAxis=t.seriesCategoryAxis(e.series[0]),this.valueAxisRanges={},this.points=[],this.categoryPoints=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[],this.render()}render(){this.traverseDataPoints(this.addValue.bind(this))}pointOptions(t,e){let i=this.seriesOptions[e];if(!i){let n=this.pointType().prototype.defaults;this.seriesOptions[e]=i=v({},n,{vertical:!this.options.invertAxes},t)}return i}plotValue(t){if(!t)return 0;if(this.options.isStacked100&&rt(t.value)){let e=t.categoryIx,i=this.categoryPoints[e],n=[],o=0;for(let r=0;r<i.length;r++){let a=i[r];if(a){let l=t.series.stack,c=a.series.stack;if(l&&c&&l.group!==c.group)continue;rt(a.value)&&(o+=Math.abs(a.value),n.push(Math.abs(a.value)))}}if(o>0)return t.value/o}return t.value}plotRange(t,e=0){let i=this.categoryPoints[t.categoryIx];if(this.options.isStacked){let a=this.plotValue(t),l=a>=0,c=e,h=!1,d=M(t.series.stack)?t.series.stack:this.options.defaultStack,p=u=>u===!0||typeof u===to&&!u.group;if(d)for(let u=0;u<i.length;u++){let m=i[u];if(t===m)break;let f=M(m.series.stack)?m.series.stack:this.options.defaultStack;if(!f||typeof d===Wl&&d!==f||p(d)&&!p(f)||d.group&&d.group!==f.group)continue;let g=this.plotValue(m);(g>=0&&l||g<0&&!l)&&(e===0||g!==0)&&(c+=g,a+=g,h=!0,this.options.isStacked100&&(a=Math.min(a,1)))}return h&&(c-=e),[c,a]}let n=t.series,o=this.seriesValueAxis(n),r=this.categoryAxisCrossingValue(o);return[r,hc(t.value)?t.value:r]}stackLimits(t,e){let i=yt,n=Tt;for(let o=0;o<this.categoryPoints.length;o++){let r=this.categoryPoints[o];if(r)for(let a=0;a<r.length;a++){let l=r[a];if(l&&(l.series.stack===e||l.series.axis===t)){let c=this.plotRange(l,0)[1];M(c)&&isFinite(c)&&(n=Math.max(n,c),i=Math.min(i,c))}}}return{min:i,max:n}}updateStackRange(){let{isStacked:t,series:e}=this.options,i={};if(t)for(let n=0;n<e.length;n++){let o=e[n],r=o.axis,a=r+o.stack,l=i[a];if(!l){l=this.stackLimits(r,o.stack);let c=this.errorTotals;c&&(c.negative.length&&(l.min=Math.min(l.min,Aa(c.negative).min)),c.positive.length&&(l.max=Math.max(l.max,Aa(c.positive).max))),l.min!==yt||l.max!==Tt?i[a]=l:l=null}l&&(this.valueAxisRanges[r]=l)}}addErrorBar(t,e,i){let{value:n,series:o,seriesIx:r}=t,a=t.options.errorBars,l=e.fields[cm],c=e.fields[hm],h;rt(l)&&rt(c)?h={low:l,high:c}:a&&M(a.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[r]=this.seriesErrorRanges[r]||new J2(a.value,o,$e),h=this.seriesErrorRanges[r].getErrorRange(n,a.value)),h&&(t.low=h.low,t.high=h.high,this.addPointErrorBar(t,i))}addPointErrorBar(t,e){let i=!this.options.invertAxes,n=t.options.errorBars,{series:o,low:r,high:a}=t;if(this.options.isStacked){let c=this.stackedErrorRange(t,e);r=c.low,a=c.high}else{let c={categoryIx:e,series:o};this.updateRange({value:r},c),this.updateRange({value:a},c)}let l=new Yv(r,a,i,this,o,n);t.errorBars=[l],t.append(l)}stackedErrorRange(t,e){let i=this.plotRange(t,0)[1]-t.value,n=t.low+i,o=t.high+i;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},n<0&&(this.errorTotals.negative[e]=Math.min(this.errorTotals.negative[e]||0,n)),o>0&&(this.errorTotals.positive[e]=Math.max(this.errorTotals.positive[e]||0,o)),{low:n,high:o}}addValue(t,e){let{categoryIx:i,series:n,seriesIx:o}=e,r=this.categoryPoints[i];r||(this.categoryPoints[i]=r=[]);let a=this.seriesPoints[o];a||(this.seriesPoints[o]=a=[]);let l=this.createPoint(t,e);l&&(Object.assign(l,e),l.owner=this,l.noteText=t.fields.noteText,M(l.dataItem)||(l.dataItem=n.data[i]),this.addErrorBar(l,t,i)),this.points.push(l),a.push(l),r.push(l),this.updateRange(t.valueFields,e)}evalPointOptions(t,e,i){let n=i.categoryIx,o=i.category,r=i.series,a=i.seriesIx,l={defaults:r._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint","drilldownSeriesFactory","ariaTemplate","ariaContent"]},c=this._evalSeries[a];M(c)||(this._evalSeries[a]=c=mi(t,{},l,!0));let h=t;return c&&(h=v({},h),mi(h,{value:e,category:o,index:n,series:r,dataItem:r.data[n]},l)),h}updateRange(t,e){let i=e.series.axis,n=t.value,o=this.valueAxisRanges[i];isFinite(n)&&n!==null&&(o=this.valueAxisRanges[i]=o||{min:yt,max:Tt},o.min=Math.min(o.min,n),o.max=Math.max(o.max,n))}seriesValueAxis(t){let e=this.plotArea,i=t.axis,n=i?e.namedValueAxes[i]:e.valueAxis;if(!n)throw new Error("Unable to locate value axis with name "+i);return n}reflow(t){let e=this.categorySlots=[],i=this.points,n=this.categoryAxis,o=0;this.traverseDataPoints((r,a)=>{let{categoryIx:l,series:c}=a,h=this.seriesValueAxis(c),d=i[o++],p=e[l];if(p||(e[l]=p=this.categorySlot(n,l,h)),d){let u=this.plotRange(d,h.startValue()),m=this.valueSlot(h,u);if(m){let f=this.pointSlot(p,m);d.aboveAxis=this.aboveAxis(d,h),d.stackValue=u[1],this.options.isStacked100&&(d.percentage=this.plotValue(d)),this.reflowPoint(d,f)}else d.visible=!1}}),this.reflowCategories(e),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=t}valueSlot(t,e){return t.getSlot(e[0],e[1],!this.options.clip)}limitPoints(){let t=this.categoryPoints,e=t[0].concat(Pt(t));for(let i=0;i<e.length;i++)e[i]&&this.limitPoint(e[i])}limitPoint(t){let e=this.categoryAxis.limitSlot(t.box);e.equals(t.box)||t.reflow(e)}aboveAxis(t,e){let i=this.categoryAxisCrossingValue(e),n=t.value;return e.options.reverse?n<i:n>=i}categoryAxisCrossingValue(t){let e=this.categoryAxis,i=t.options;return[].concat(i.axisCrossingValues||i.axisCrossingValue)[e.axisIndex||0]||0}reflowPoint(t,e){t.reflow(e)}reflowCategories(){}pointSlot(t,e){let n=this.options.invertAxes,o=n?e:t,r=n?t:e;return new k(o.x1,r.y1,o.x2,r.y2)}categorySlot(t,e){return t.getSlot(e)}traverseDataPoints(t){let e=this.options.series,i=kr(e),n=e.length;for(let o=0;o<n;o++)this._outOfRangeCallback(e[o],"_outOfRangeMinPoint",o,t);for(let o=0;o<i;o++)for(let r=0;r<n;r++){let a=e[r],l=this.categoryAxis.categoryAt(o),c=this.plotArea.bindPoint(a,o);t(c,{category:l,categoryIx:o,categoriesCount:i,series:a,seriesIx:r})}for(let o=0;o<n;o++)this._outOfRangeCallback(e[o],"_outOfRangeMaxPoint",o,t)}_outOfRangeCallback(t,e,i,n){let o=t[e];if(o){let r=o.categoryIx,a=this.plotArea.bindPoint(t,r,o.item);n(a,{category:o.category,categoryIx:r,series:t,seriesIx:i,dataItem:o.item})}}formatPointValue(t,e){return t.value===null?"":this.chartService.format.auto(e,t.value)}pointValue(t){return t.valueFields.value}};b(Sm,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});var Ci=Sm;var QL={click:function(s,t){return s.trigger(um,this.eventArgs(t))},hover:function(s,t){return s.trigger(mm,this.eventArgs(t))},over:function(s,t){return s.trigger(fm,this.eventArgs(t))},out:function(s,t){return s.trigger(gm,this.eventArgs(t))},eventArgs:function(s){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:Ee(s),originalEvent:s,point:this}}},ve=QL;var ZL={createNote:function(){let s=this.options.notes,t=this.noteText||s.label.text;s.visible!==!1&&M(t)&&t!==null&&(this.note=new F2({value:this.value,text:t,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}},zn=ZL;function Mo(){let s="",t,e;for(t=0;t<32;t++)e=Math.random()*16|0,(t===8||t===12||t===16||t===20)&&(s+="-"),s+=(t===12?4:t===16?e&3|8:e).toString(16);return s}var Rc=class extends tt{constructor(t,e){super(),this.value=t,this.options=e,this.aboveAxis=q(this.options.aboveAxis,!0),this.tooltipTracking=!0,this._id=Mo()}render(){let{markers:t}=this.options;this._rendered||(this._rendered=!0,t.visible&&t.size&&(this.marker=this.createMarker(),this.append(this.marker)),this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))}createLabel(){let e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))}createLabelElement(t){return new Gt(this.getLabelText(t),v({align:$,vAlign:$,margin:{left:5,right:5},zIndex:q(t.zIndex,this.series.zIndex)},t),this.pointData())}getLabelText(t){let e=Dt(t);return e?e(this.pointData()):t.format?this.formatValue(t.format):this.value}getAriaLabelText(){let t=this.options.labels,e=dc(t);return e?e(this.pointData()):this.getLabelText(t)}markerBorder(){let t=this.options.markers,e=t.background,i=v({color:this.color},t.border);return M(i.color)||(i.color=new Oe(e).brightness(vr).toHex()),i}createVisual(){}createMarker(){let t=this.options.markers;return new ee({type:t.type,width:t.size,height:t.size,rotation:t.rotation,background:t.background,border:this.markerBorder(),opacity:t.opacity,zIndex:q(t.zIndex,this.series.zIndex),animation:t.animation,visual:t.visual,accessibilityOptions:v({ariaLabel:this.getAriaLabelText(this.options.labels)},this.options.accessibility)},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category})}markerBox(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box}reflow(t){let{options:e,aboveAxis:i}=this,n=e.vertical;this.render(),this.box=t;let o=t.clone();if(n?i?o.y1-=o.height():o.y2+=o.height():i?o.x1+=o.width():o.x2-=o.width(),this._childBox=o,this.marker&&this.marker.reflow(o),this.reflowLabel(o),this.errorBars)for(let r=0;r<this.errorBars.length;r++)this.errorBars[r].reflow(o);if(this.note){let r=this.markerBox();if(!(e.markers.visible&&e.markers.size)){let a=r.center();r=new k(a.x,a.y,a.x,a.y)}this.note.reflow(r)}}reflowLabel(t){let{options:e,label:i}=this,n=e.labels.position;i&&(n=n===Cc?nt:n,n=n===t1?lt:n,i.reflow(t),i.box.alignTo(this.markerBox(),n),i.reflow(i.box))}createHighlight(){let t=this.options.highlight.markers,e=this.markerBorder().color,i=this.options.markers,n=i.size+(i.border.width||0)+(t.border.width||0),o=new ee({type:i.type,width:n,height:n,rotation:i.rotation,background:t.color||e,border:{color:t.border.color,width:t.border.width,opacity:q(t.border.opacity,1)},opacity:q(t.opacity,1)});return o.reflow(this._childBox),o.getElement()}highlightVisual(){return(this.marker||{}).visual}highlightVisualArgs(){let t=this.marker,e,i;if(t)i=t.paddingBox.toRect(),e=t.visual;else{let n=this.options.markers.size,o=n/2,r=this.box.center();i=new T.Rect([r.x-o,r.y-o],[n,n])}return{options:this.options,rect:i,visual:e}}createFocusHighlight(){let t=this.options.markers,e=this.options.accessibility.highlight,i=t.size+(t.border.width||0),n=new ee({type:t.type,width:i,height:i,rotation:t.rotation,background:e.color,border:e.border,opacity:e.opacity,padding:e.border.width/2,zIndex:e.zIndex});return n.reflow(this._childBox),n.getElement()}tooltipAnchor(){let t=this.markerBox(),e=this.owner.pane.clipBox();if(!e||e.overlaps(t)){let n=t.x2+Qe,o=K,r,a;return this.aboveAxis?(r=t.y1,a=lt):(r=t.y2,a=nt),{point:new Y(n,r),align:{horizontal:o,vertical:a}}}}formatValue(t){return this.owner.formatPointValue(this,t)}overlapsBox(t){return this.markerBox().overlaps(t)}unclipElements(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}}focusVisual(){this.marker&&(this.marker.visual&&this.marker.visual.options.set("id",this._id),this.toggleFocusHighlight(!0))}clearFocusFromVisual(){this.marker&&(this.marker.visual&&this.marker.visual.options.set("id",""),this.toggleFocusHighlight(!1))}getIndex(){return M(this.categoryIx)?this.categoryIx:this.pointIx}};Rc.prototype.defaults={vertical:!0,markers:{visible:!0,background:ct,size:Ra,type:ne,border:{width:2},opacity:1},labels:{visible:!1,position:Cc,margin:at(3),padding:at(4),animation:{type:hi,delay:we}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:100},errorBars:{line:{width:1}},accessibility:{tabIndex:0,role:di,className:pi,ariaRoleDescription:ui}};v(Rc.prototype,ve);v(Rc.prototype,zn);var en=Rc;var Mm=class extends tt{constructor(t,e,i){super(),this.linePoints=t,this.series=e,this.seriesIx=i}points(){return this.toGeometryPoints(this.linePoints)}toGeometryPoints(t){let e=[];for(let i=0,n=t.length;i<n;i++)t[i]&&t[i].visible!==!1&&e.push(t[i]._childBox.toRect().center());return e}createVisual(){let t=this.series.visual;t?(this.visual=t({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:()=>(this.segmentVisual(),this.visual)}),this.visual&&!M(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()}segmentVisual(){let{options:t,series:e}=this,{color:i,_defaults:n}=e;pt(i)&&n&&(i=n.color);let o=_.Path.fromPoints(this.points(),{stroke:{color:i,width:e.width,opacity:e.opacity,dashType:e.dashType},zIndex:e.zIndex});t.closed&&o.close(),this.visual=o}aliasFor(t,e){return this.parent.getNearestPoint(e.x,e.y,this.seriesIx)}};b(Mm,{closed:!1});var nn=Mm;var KL={calculateStepPoints:function(s){let t=this.parent.plotArea.seriesCategoryAxis(this.series),{justified:e,vertical:i,reverse:n}=t.options,o=i?B:H,r=i?H:B,a=n?2:1,l=a,c=Qv(s[0],o,a,r,l),h=[c];for(let d=1;d<s.length;d++){let p=Qv(s[d],o,a,r,l);if(c[o]!==p[o]){let u=new T.Point;u[o]=c[o],u[r]=p[r],h.push(u,p)}c=p}return e?c!==Pt(h)&&h.push(c):h.push(Qv(Pt(s),o,a,r,n?1:2)),h}};function Qv(s,t,e,i,n){let o=s.box,r=new T.Point;return r[t]=o[t+e],r[i]=o[i+n],r}var Oc=KL;var Am=class extends nn{points(){return this.calculateStepPoints(this.linePoints)}};v(Am.prototype,Oc);var fw=Am;var Zv=class extends nn{segmentVisual(){let t=this.series,e=t._defaults,i=t.color;pt(i)&&e&&(i=e.color);let o=new vo(this.options.closed).process(this.points()),r=new _.Path({stroke:{color:i,width:t.width,opacity:t.opacity,dashType:t.dashType},zIndex:t.zIndex});r.segments.push.apply(r.segments,o),this.visual=r}},Ga=Zv;var JL={renderSegments:function(){let{options:s,seriesPoints:t}=this,e=s.series,i=t.length,n;this._segments=[];for(let o=0;o<i;o++){let r=e[o],a=this.sortPoints(t[o]),l=a.length,c=[];for(let h=0;h<l;h++){let d=a[h];d?c.push(d):this.seriesMissingValues(r)!==zs&&(c.length>1&&(n=this.createSegment(c,r,o,n),this._addSegment(n)),c=[])}c.length>1&&(n=this.createSegment(c,r,o,n),this._addSegment(n))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(s){this._segments.push(s),s.parent=this},sortPoints:function(s){return s},seriesMissingValues:function(s){let t=s.missingValues;return!t&&this.options.isStacked?Ze:t||zs},getNearestPoint:function(s,t,e){let i=new Y(s,t),n=this.seriesPoints[e],o=yt,r;for(let a=0;a<n.length;a++){let l=n[a];if(l&&M(l.value)&&l.value!==null&&l.visible!==!1){let h=l.box.center().distanceTo(i);h<o&&(r=l,o=h)}}return r}},Vc=JL;var v1=class extends _.Animation{setup(){this._setEnd(this.options.box.x1)}step(t){let e=this.options.box;this._setEnd(ze(e.x1,e.x2,t))}_setEnd(t){let e=this.element,i=e.segments,n=i[1].anchor(),o=i[2].anchor();e.suspend(),n.setX(t),e.resume(),o.setX(t)}};b(v1,{duration:we});_.AnimationFactory.current.register("clip",v1);var Kv=v1;var tR={createAnimation:function(){let s=this.getRoot();if(s&&(s.options||{}).transitions!==!1){let t=s.size(),e=_.Path.fromRect(t.toRect());this.visual.clip(e),this.animation=new Kv(e,{box:t}),Ec(this.options.series)&&this._setChildrenAnimation(e)}},_setChildrenAnimation:function(s){let t=this.animationPoints();for(let e=0;e<t.length;e++){let i=t[e];i&&i.visual&&M(i.visual.options.zIndex)&&i.visual.clip(s)}}},Pr=tR;var Tm=class extends Ci{render(){super.render(),this.updateStackRange(),this.renderSegments()}pointType(){return en}createPoint(t,e){let{series:i,seriesIx:n}=e,o=this.seriesMissingValues(i),r=t.valueFields.value;if(!M(r)||r===null)if(o===Ze)r=0;else return null;let a=this.pointOptions(i,n);a=this.evalPointOptions(a,r,e);let l=t.fields.color||i.color;pt(i.color)&&(l=a.color);let c=new en(r,a);return c.color=l,this.append(c),c}plotRange(t){let e=this.plotValue(t);if(this.options.isStacked){let i=t.categoryIx,n=this.categoryPoints[i];for(let o=0;o<n.length;o++){let r=n[o];if(t===r)break;e+=this.plotValue(r),this.options.isStacked100&&(e=Math.min(e,1))}}return[e,e]}createSegment(t,e,i){let n=e.style,o;return n===yr?o=fw:n===In?o=Ga:o=nn,new o(t,e,i)}animationPoints(){let t=this.points,e=[];for(let i=0;i<t.length;i++)e.push((t[i]||{}).marker);return e.concat(this._segments)}supportsPointInactiveOpacity(){return!1}};v(Tm.prototype,Vc,Pr);var Wa=Tm;var Jv=class extends nn{constructor(t,e,i,n,o){super(t,e,i),this.prevSegment=n,this.stackPoints=o}createVisual(){let t=this.series,e=t._defaults,i=t.line||{},n=t.color;pt(n)&&e&&(n=e.color),this.visual=new _.Group({zIndex:t.zIndex}),this.createFill({fill:{color:n,opacity:t.opacity},stroke:null}),i.width>0&&i.visible!==!1&&this.createStroke({stroke:v({color:n,opacity:t.opacity,lineCap:"butt"},i)})}strokeSegments(){let t=this._strokeSegments;return t||(t=this._strokeSegments=this.createStrokeSegments()),t}createStrokeSegments(){return this.segmentsFromPoints(this.points())}stackSegments(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)}createStackSegments(t){return this.segmentsFromPoints(this.toGeometryPoints(t)).reverse()}segmentsFromPoints(t){return t.map(e=>new T.Segment(e))}createStroke(t){let e=new _.Path(t);e.segments.push.apply(e.segments,this.strokeSegments()),this.visual.append(e)}hasStackSegment(){return this.prevSegment||this.stackPoints&&this.stackPoints.length}createFill(t){let e=this.strokeSegments(),i=e.slice(0),n=this.hasStackSegment();if(n){let r=this.stackSegments();Bi(i,r)}let o=new _.Path(t);o.segments.push.apply(o.segments,i),!n&&e.length>1&&this.fillToAxes(o),this.visual.append(o)}fillToAxes(t){let e=this.parent,i=e.options.invertAxes,n=e.seriesValueAxis(this.series),o=e.categoryAxisCrossingValue(n),r=n.getSlot(o,o,!0),a=this.strokeSegments(),l=a[0].anchor(),c=Pt(a).anchor(),h=i?r.x1:r.y1;i?t.lineTo(h,c.y).lineTo(h,l.y):t.lineTo(c.x,h).lineTo(l.x,h)}},sn=Jv;var Im=class extends sn{createStrokeSegments(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))}createStackSegments(t){return this.segmentsFromPoints(this.calculateStepPoints(t)).reverse()}};v(Im.prototype,Oc);var gw=Im;var t8=class extends sn{createStrokeSegments(){let t=new vo(this.options.closed),e=this.points();return t.process(e)}createStackSegments(){let t=this.strokeSegments(),e=[];for(let i=t.length-1;i>=0;i--){let n=t[i];e.push(new T.Segment(n.anchor(),n.controlOut(),n.controlIn()))}return e}},qa=t8;var e8=class extends Wa{createSegment(t,e,i,n){let o=this.options.isStacked,r=(e.line||{}).style,a,l;o&&i>0&&n&&(this.seriesMissingValues(e)!=="gap"?(l=n.linePoints,a=n):l=this._gapStackPoints(t,i,r));let c;return r===yr?c=gw:r===In?c=qa:c=sn,new c(t,e,i,a,l)}reflow(t){super.reflow(t);let e=this._stackPoints;if(e)for(let i=0;i<e.length;i++){let n=e[i],o=this.categoryAxis.getSlot(n.categoryIx);n.reflow(o)}}_gapStackPoints(t,e,i){let n=this.seriesPoints,o=t[0].categoryIx,r=t.length;o<0&&(o=0,r--);let a=o+r,l=this.seriesOptions[0]._outOfRangeMinPoint?1:0,c=[];this._stackPoints=this._stackPoints||[];for(let h=o;h<a;h++){let d=h+l,p=e,u;do p--,u=n[p][d];while(p>0&&!u);if(u)i!==yr&&h>o&&!n[p][d-1]&&c.push(this._previousSegmentPoint(h,d,d-1,p)),c.push(u),i!==yr&&h+1<a&&!n[p][d+1]&&c.push(this._previousSegmentPoint(h,d,d+1,p));else{let m=this._createGapStackPoint(h);this._stackPoints.push(m),c.push(m)}}return c}_previousSegmentPoint(t,e,i,n){let o=this.seriesPoints,r=n,a;for(;r>0&&!a;)r--,a=o[r][i];return a?a=o[r][e]:(a=this._createGapStackPoint(t),this._stackPoints.push(a)),a}_createGapStackPoint(t){let e=this.pointOptions({},0),i=new en(0,e);return i.categoryIx=t,i.series={},i}seriesMissingValues(t){return t.missingValues||Ze}supportsPointInactiveOpacity(){return!1}},i8=e8;var n8=class extends z{constructor(){super(),this.axisRanges={}}update(t){let e=this.axisRanges;for(let i in t){let n=t[i],o=e[i];e[i]=o=o||{min:yt,max:Tt},o.min=Math.min(o.min,n.min),o.max=Math.max(o.max,n.max)}}reset(t){this.axisRanges[t]=void 0}query(t){return this.axisRanges[t]}},Lr=n8;var zm=class extends tt{constructor(t,e,i){super(e),this.textBox=new Gt(t,this.options,i),this.append(this.textBox)}createVisual(){this.textBox.options.noclip=this.options.noclip}reflow(t){let e=this.options,{vertical:i,aboveAxis:n}=e,o=this.children[0],r=o.options,a=o.box,l=o.options.padding,c=t;r.align=i?$:K,r.vAlign=i?nt:$,e.position===Ua?i?(r.vAlign=nt,!n&&a.height()<t.height()&&(r.vAlign=lt)):r.align=n?dt:K:e.position===$?(r.vAlign=$,r.align=$):e.position===cw?i?r.vAlign=n?lt:nt:r.align=n?K:dt:e.position===Kn&&(i?n?c=new k(t.x1,t.y1-a.height(),t.x2,t.y1):c=new k(t.x1,t.y2,t.x2,t.y2+a.height()):(r.align=$,n?c=new k(t.x2,t.y1,t.x2+a.width(),t.y2):c=new k(t.x1-a.width(),t.y1,t.x1,t.y2))),e.rotation||(i?l.left=l.right=(c.width()-o.contentBox.width())/2:l.top=l.bottom=(c.height()-o.contentBox.height())/2),o.reflow(c)}alignToClipBox(t){let i=this.options.vertical?H:B,n=i+"1",o=i+"2",r=this.children[0],a=this.parent.box;if(a[n]<t[n]||t[o]<a[o]){let l=r.paddingBox.clone();l[n]=Math.max(a[n],t[n]),l[o]=Math.min(a[o],t[o]),this.reflow(l)}}};b(zm,{position:Kn,margin:at(3),padding:at(4),color:ft,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:hi,delay:we},zIndex:2});var x1=zm;var eR={addAccessibilityAttributesToVisual:function(){this._id=this._id||Mo();let s=v({ariaLabel:this.getAriaLabelText()},this.options.accessibility);Ta(this.visual,s)},getAriaLabelText(){let s=this.options.labels,t=dc(s);return t?t(this.pointData()):this.getLabelText(s)},focusVisual(){this.visual.options.set("id",this._id),this.toggleFocusHighlight(!0)},clearFocusFromVisual(){this.visual.options.set("id",""),this.toggleFocusHighlight(!1)}},En=eR;var iR=6,Ya=class extends tt{constructor(t,e){super(),this.options=e,this.color=e.color||ct,this.aboveAxis=q(this.options.aboveAxis,!0),this.value=t}render(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))}createLabel(){let e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))}createLabelElement(t){return new x1(this.getLabelText(t),v({vertical:this.options.vertical},t),this.pointData())}getLabelText(t){let e=Dt(t);return e?e(this.pointData()):this.formatValue(t.format)}formatValue(t){return this.owner.formatPointValue(this,t)}reflow(t){this.render();let e=this.label;if(this.box=t,e&&(e.options.aboveAxis=this.aboveAxis,e.reflow(t)),this.note&&this.note.reflow(t),this.errorBars)for(let i=0;i<this.errorBars.length;i++)this.errorBars[i].reflow(t)}createVisual(){let{box:t,options:e}=this,i=e.visual;if(this.visible!==!1)if(super.createVisual(),this.addAccessibilityAttributesToVisual(),i){let n=this.rectVisual=i({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:t.toRect(),createVisual:()=>{let o=new _.Group;return this.createRect(o),o},options:e});n&&this.visual.append(n)}else t.width()>0&&t.height()>0&&this.createRect(this.visual)}createRect(t){let e=this.options,i=e.border,n=M(i.opacity)?i.opacity:e.opacity,o=this.box.toRect();o.size.width=Math.round(o.size.width);let r=this.rectVisual=_.Path.fromRect(o,{fill:{color:this.color,opacity:e.opacity},stroke:{color:this.getBorderColor(),width:i.width,opacity:n,dashType:i.dashType}}),a=this.box.width(),l=this.box.height();if((e.vertical?a:l)>iR&&(se(r),(a<1||l<1)&&(r.options.stroke.lineJoin="round")),t.append(r),Dr(e)){let h=this.createGradientOverlay(r,{baseColor:this.color},v({end:e.vertical?void 0:[0,1]},e.overlay));t.append(h)}}createHighlight(t){let e=_.Path.fromRect(this.box.toRect(),t);return se(e)}highlightVisual(){return this.rectVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}}createFocusHighlight(t){let e=this.options.accessibility.highlight.border.width,i=_.Path.fromRect(this.box.pad(e/2).toRect(),t);return se(i)}getBorderColor(){let t=this.color,e=this.options.border,i=e._brightness||vr,n=e.color;return M(n)||(n=new Oe(t).brightness(i).toHex()),n}tooltipAnchor(){let{options:t,box:e,aboveAxis:i}=this,n=this.owner.pane.clipBox()||e,o=K,r=nt,a,l;if(t.vertical)a=Math.min(e.x2,n.x2)+Qe,i?l=Math.max(e.y1,n.y1):(l=Math.min(e.y2,n.y2),r=lt);else{let c=Math.max(e.x1,n.x1),h=Math.min(e.x2,n.x2);t.isStacked?(r=lt,i?(o=dt,a=h):a=c,l=Math.max(e.y1,n.y1)-Qe):(i?a=h+Qe:(a=c-Qe,o=dt),l=Math.max(e.y1,n.y1))}return{point:new Y(a,l),align:{horizontal:o,vertical:r}}}overlapsBox(t){return this.box.overlaps(t)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}}getIndex(){return this.categoryIx}};v(Ya.prototype,ve);v(Ya.prototype,zn);v(Ya.prototype,En);Ya.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}},accessibility:{role:di,className:pi,ariaRoleDescription:ui}};var Ds=Ya;function Em(s,t){s.forEach(t)}function km(s,t){let e=s.length;for(let i=e-1;i>=0;i--)t(s[i],i-e-1)}var Dm=class extends tt{constructor(t){super(t),this.forEach=t.rtl?km:Em}reflow(t){let{vertical:e,gap:i,spacing:n}=this.options,o=this.children,r=o.length,a=e?H:B,l=r+i+n*(r-1),c=(e?t.height():t.width())/l,h=t[a+1]+c*(i/2);this.forEach(o,(d,p)=>{let u=(d.box||t).clone();u[a+1]=h,u[a+2]=h+c,d.reflow(u),p<r-1&&(h+=c*n),h+=c})}};b(Dm,{vertical:!1,gap:0,spacing:0});var Ao=Dm;var Pm=class extends tt{reflow(t){let e=this.options.vertical?B:H,i=this.children,n=i.length,o=this.box=new k;for(let r=0;r<n;r++){let a=i[r];if(a.visible!==!1){let l=a.box.clone();l.snapTo(t,e),r===0&&(o=this.box=l.clone()),a.reflow(l),o.wrap(l)}}}};b(Pm,{vertical:!0});var s8=Pm;var Lm=class extends Ci{render(){super.render(),this.updateStackRange()}pointType(){return Ds}clusterType(){return Ao}stackType(){return s8}stackLimits(t,e){return super.stackLimits(t,e)}createPoint(t,e){let{categoryIx:i,series:n,seriesIx:o}=e,{options:r,children:a}=this,l=M(n.stack)?n.stack:r.defaultStack,c=this.pointValue(t),h=this.pointOptions(n,o),d=h.labels;l&&d.position===Kn&&(d.position=Ua),h.isStacked=l;let p=t.fields.color||n.color;c<0&&h.negativeColor&&(p=h.negativeColor),h=this.evalPointOptions(h,c,e),pt(n.color)&&(p=h.color);let u=this.pointType(),m=new u(c,h);m.color=p;let f=a[i];if(!f){let g=this.clusterType();f=new g({vertical:r.invertAxes,gap:r.gap,spacing:r.spacing,rtl:!r.invertAxes&&(this.chartService||{}).rtl}),this.append(f)}return r.isStacked?this.getStackWrap(l,f).append(m):f.append(m),m}getStackWrap(t,e){let i=typeof t===to?t.group||!0:t,n=e.children,o;if(typeof i===Wl||i===!0){for(let r=0;r<n.length;r++)if(n[r]._stackGroup===i){o=n[r];break}}if(!o){let r=this.stackType();o=new r({vertical:!this.options.invertAxes}),o._stackGroup=i,e.append(o)}return o}categorySlot(t,e,i){let n=this.options,o=t.getSlot(e),r=i.startValue();if(n.isStacked){let a=i.getSlot(r,r,!0),l=n.invertAxes?B:H;o[l+1]=o[l+2]=a[l+1]}return o}reflowCategories(t){let e=this.children,i=e.length;for(let n=0;n<i;n++)e[n].reflow(t[n])}createAnimation(){this._setAnimationOptions(),super.createAnimation(),Ec(this.options.series)&&this._setChildrenAnimation()}_setChildrenAnimation(){let t=this.points;for(let e=0;e<t.length;e++){let i=t[e],n=i.visual;n&&M(n.options.zIndex)&&(i.options.animation=this.options.animation,i.createAnimation())}}_setAnimationOptions(){let t=this.options,e=t.animation||{},i;if(t.isStacked){let n=this.seriesValueAxis(t.series[0]);i=n.getSlot(n.startValue())}else i=this.categoryAxis.getSlot(0);e.origin=new T.Point(i.x1,i.y1),e.vertical=!t.invertAxes}};b(Lm,{animation:{type:We}});var ts=Lm;var Rr=class extends tt{constructor(t,e){super(e),this.value=t}getLabelText(t){return this.formatValue(t.format)}reflow(t){let{options:e,value:i,owner:n}=this,o=n.seriesValueAxis(e),r=o.getSlot(i.open,i.close),a=o.getSlot(i.low,i.high);r.x1=a.x1=t.x1,r.x2=a.x2=t.x2,this.realBody=r;let l=a.center().x,c=[];c.push([[l,a.y1],[l,r.y1]]),c.push([[l,r.y2],[l,a.y2]]),this.lines=c,this.box=a.clone().wrap(r),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()}reflowNote(){this.note&&this.note.reflow(this.box)}createVisual(){super.createVisual(),this.addAccessibilityAttributesToVisual(),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()}mainVisual(t){let e=new _.Group;return this.createBody(e,t),this.createLines(e,t),e}createBody(t,e){let i=_.Path.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&i.options.set("stroke",{color:this.getBorderColor(),width:e.border.width,dashType:e.border.dashType,opacity:q(e.border.opacity,e.opacity)}),se(i),t.append(i),Dr(e)&&t.append(this.createGradientOverlay(i,{baseColor:this.color},v({end:e.vertical?void 0:[0,1]},e.overlay)))}createLines(t,e){this.drawLines(t,e,this.lines,e.line)}drawLines(t,e,i,n){if(!i)return;let o={stroke:{color:n.color||this.color,opacity:q(n.opacity,e.opacity),width:n.width,dashType:n.dashType,lineCap:"butt"}};for(let r=0;r<i.length;r++){let a=_.Path.fromPoints(i[r],o);se(a),t.append(a)}}getBorderColor(){let t=this.options.border,e=t.color;return M(e)||(e=new Oe(this.color).brightness(t._brightness).toHex()),e}createOverlay(){let t=_.Path.fromRect(this.box.toRect(),{fill:{color:ct,opacity:0},stroke:null});this.visual.append(t)}createHighlight(){let t=this.options.highlight,e=this.color;this.color=t.color||this.color;let i=this.mainVisual(v({},this.options,{line:{color:this.getBorderColor()}},t));return this.color=e,i}highlightVisual(){return this._mainVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}}tooltipAnchor(){let t=this.box,e=this.owner.pane.clipBox()||t;return{point:new Y(t.x2+Qe,Math.max(t.y1,e.y1)+Qe),align:{horizontal:K,vertical:nt}}}formatValue(t){return this.owner.formatPointValue(this,t)}overlapsBox(t){return this.box.overlaps(t)}pointData(){return{dataItem:this.dataItem,value:this.value,meanPoints:this.meanPoints,medianPoints:this.medianPoints,whiskerPoints:this.whiskerPoints,stackValue:this.stackValue,series:this.series}}getIndex(){return this.categoryIx}};Rr.prototype.createFocusHighlight=Ds.prototype.createFocusHighlight;b(Rr,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},labels:{format:""},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},accessibility:{role:di,className:pi,ariaRoleDescription:ui}});v(Rr.prototype,ve);v(Rr.prototype,zn);v(Rr.prototype,En);var Xa=Rr;var Rm=class extends Ci{reflowCategories(t){let e=this.children,i=e.length;for(let n=0;n<i;n++)e[n].reflow(t[n])}addValue(t,e){let{categoryIx:i,category:n,series:o,seriesIx:r}=e,{children:a,options:l}=this,c=t.valueFields,h=this.splitValue(c),d=kc(h),p=o.data[i],u=this.categoryPoints[i],m;u||(this.categoryPoints[i]=u=[]),d&&(m=this.createPoint(t,e));let f=a[i];f||(f=new Ao({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(f)),m&&(this.updateRange(c,e),f.append(m),m.categoryIx=i,m.category=n,m.series=o,m.seriesIx=r,m.owner=this,m.dataItem=p,m.noteText=t.fields.noteText),this.points.push(m),u.push(m)}pointType(){return Xa}createPoint(t,e){let{series:i}=e,n=this.pointType(),o=t.valueFields,r=v({},i),a=t.fields.color||i.color;r=this.evalPointOptions(r,o,e),(i.type===xo||i.type===yo)&&o.open>o.close&&(a=t.fields.downColor||i.downColor||i.color),pt(i.color)&&(a=r.color),r.vertical=!this.options.invertAxes;let l=new n(o,r);return l.color=a,l}splitValue(t){return[t.low,t.open,t.close,t.high]}updateRange(t,e){let i=e.series.axis,n=this.splitValue(t),o=this.valueAxisRanges[i]||{min:yt,max:Tt};this.valueAxisRanges[i]={min:Math.min.apply(Math,n.concat([o.min])),max:Math.max.apply(Math,n.concat([o.max]))}}formatPointValue(t,e){let i=t.value;return this.chartService.format.auto(e,i.open,i.high,i.low,i.close,t.category)}animationPoints(){return this.points}};v(Rm.prototype,Pr);var $a=Rm;var y1=class extends Xa{constructor(t,e){super(t,e),this.createNote()}reflow(t){let{options:e,value:i,owner:n}=this,o=n.seriesValueAxis(e),r,a;this.boxSlot=a=o.getSlot(i.q1,i.q3),this.realBody=a,this.reflowBoxSlot(t),this.whiskerSlot=r=o.getSlot(i.lower,i.upper),this.reflowWhiskerSlot(t);let l=o.getSlot(i.median);if(i.mean){let c=o.getSlot(i.mean);this.meanPoints=this.calcMeanPoints(t,c)}this.whiskerPoints=this.calcWhiskerPoints(a,r),this.medianPoints=this.calcMedianPoints(t,l),this.box=r.clone().wrap(a),this.reflowNote()}reflowBoxSlot(t){this.boxSlot.x1=t.x1,this.boxSlot.x2=t.x2}reflowWhiskerSlot(t){this.whiskerSlot.x1=t.x1,this.whiskerSlot.x2=t.x2}calcMeanPoints(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]}calcWhiskerPoints(t,e){let i=e.center().x;return[[[i-5,e.y1],[i+5,e.y1],[i,e.y1],[i,t.y1]],[[i-5,e.y2],[i+5,e.y2],[i,e.y2],[i,t.y2]]]}calcMedianPoints(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]}renderOutliers(t){let e=this.value,i=e.outliers||[],n=Math.abs(e.q3-e.q1)*3,o=[],r=t.markers||{};for(let a=0;a<i.length;a++){let l=i[a];l<e.q3+n&&l>e.q1-n?r=t.outliers:r=t.extremes;let c=v({},r.border);M(c.color)||(M(this.color)?c.color=this.color:c.color=new Oe(r.background).brightness(vr).toHex());let h=new ee({type:r.type,width:r.size,height:r.size,rotation:r.rotation,background:r.background,border:c,opacity:r.opacity});h.value=l,o.push(h)}return this.reflowOutliers(o),o}reflowOutliers(t){let e=this.owner.seriesValueAxis(this.options),i=this.box.center();for(let n=0;n<t.length;n++){let o=t[n].value,r=e.getSlot(o);this.options.vertical?r.move(i.x):r.move(void 0,i.y),this.box=this.box.wrap(r),t[n].reflow(r)}}mainVisual(t){let e=super.mainVisual(t),i=this.renderOutliers(t);for(let n=0;n<i.length;n++){let o=i[n].getElement();o&&e.append(o)}return e}createLines(t,e){this.drawLines(t,e,this.whiskerPoints,e.whiskers),this.drawLines(t,e,this.medianPoints,e.median),this.drawLines(t,e,this.meanPoints,e.mean)}getBorderColor(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:super.getBorderColor()}};b(y1,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:Ra,type:jl,background:ct,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:Ra,type:ne,background:ct,border:{width:2,opacity:1},opacity:0}});v(y1.prototype,ve);var b1=y1;var o8=class extends b1{reflowBoxSlot(t){this.boxSlot.y1=t.y1,this.boxSlot.y2=t.y2}reflowWhiskerSlot(t){this.whiskerSlot.y1=t.y1,this.whiskerSlot.y2=t.y2}calcMeanPoints(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]}calcWhiskerPoints(t,e){let i=e.center().y;return[[[e.x1,i-5],[e.x1,i+5],[e.x1,i],[t.x1,i]],[[e.x2,i-5],[e.x2,i+5],[e.x2,i],[t.x2,i]]]}calcMedianPoints(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]}},vw=o8;var r8=class extends $a{addValue(t,e){let{categoryIx:i,category:n,series:o,seriesIx:r}=e,{children:a,options:l}=this,c=t.valueFields,h=this.splitValue(c),d=kc(h),p=o.data[i],u=this.categoryPoints[i],m;u||(this.categoryPoints[i]=u=[]),d&&(m=this.createPoint(t,e));let f=a[i];f||(f=new Ao({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(f)),m&&(this.updateRange(c,e),f.append(m),m.categoryIx=i,m.category=n,m.series=o,m.seriesIx=r,m.owner=this,m.dataItem=p),this.points.push(m),u.push(m)}pointType(){return this.options.invertAxes?vw:b1}splitValue(t){return[t.lower,t.q1,t.median,t.q3,t.upper]}updateRange(t,e){let i=e.series.axis,n=this.splitValue(t).concat(this.filterOutliers(t.outliers));M(t.mean)&&(n=n.concat(t.mean));let o=this.valueAxisRanges[i]||{min:yt,max:Tt};this.valueAxisRanges[i]={min:Math.min.apply(Math,n.concat([o.min])),max:Math.max.apply(Math,n.concat([o.max]))}}formatPointValue(t,e){let i=t.value;return this.chartService.format.auto(e,i.lower,i.q1,i.median,i.q3,i.upper,i.mean,t.category)}filterOutliers(t){let e=(t||[]).length,i=[];for(let n=0;n<e;n++){let o=t[n];M(o)&&o!==null&&i.push(o)}return i}supportsPointInactiveOpacity(){return!1}},a8=r8;var l8=class extends f1{getAxis(){let t=this.chart.seriesAxes(this.series);return this.isVertical?t.y:t.x}},c8=l8;var _1=class extends tt{constructor(t,e){super(e),this.plotArea=t,this.chartService=t.chartService,this._initFields(),this.render()}_initFields(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]}render(){this.traverseDataPoints(this.addValue.bind(this))}addErrorBar(t,e,i){let n=t.value[e],o=e+"Value",r=e+"ErrorLow",a=e+"ErrorHigh",{seriesIx:l,series:c}=i,h=t.options.errorBars,d=i[r],p=i[a];if(rt(n)){let u;rt(d)&&rt(p)&&(u={low:d,high:p}),h&&M(h[o])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[e][l]=this.seriesErrorRanges[e][l]||new J2(h[o],c,e),u=this.seriesErrorRanges[e][l].getErrorRange(n,h[o])),u&&this.addPointErrorBar(u,t,e)}}addPointErrorBar(t,e,i){let{low:n,high:o}=t,{series:r,options:{errorBars:a}}=e,l=i===H,c={};e[i+"Low"]=n,e[i+"High"]=o,e.errorBars=e.errorBars||[];let h=new c8(n,o,l,this,r,a);e.errorBars.push(h),e.append(h),c[i]=n,this.updateRange(c,r),c[i]=o,this.updateRange(c,r)}addValue(t,e){let{x:i,y:n}=t,o=e.seriesIx,r=this.options.series[o],a=this.seriesMissingValues(r),l=this.seriesPoints[o],c=t;ge(i)&&ge(n)||(c=this.createMissingValue(c,a));let h;c&&(h=this.createPoint(c,e),h&&(Object.assign(h,e),this.addErrorBar(h,B,e),this.addErrorBar(h,H,e)),this.updateRange(c,e.series)),this.points.push(h),l.push(h)}seriesMissingValues(t){return t.missingValues}createMissingValue(){}updateRange(t,e){let i=this.chartService.intl,{xAxis:n,yAxis:o}=e,{x:r,y:a}=t,l=this.xAxisRanges[n],c=this.yAxisRanges[o];ge(r)&&(l=this.xAxisRanges[n]=l||{min:yt,max:Tt},oe(r)&&(r=Qt(i,r)),l.min=Math.min(l.min,r),l.max=Math.max(l.max,r)),ge(a)&&(c=this.yAxisRanges[o]=c||{min:yt,max:Tt},oe(a)&&(a=Qt(i,a)),c.min=Math.min(c.min,a),c.max=Math.max(c.max,a))}evalPointOptions(t,e,i){let{series:n,seriesIx:o}=i,r={defaults:n._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint","drilldownSeriesFactory","ariaTemplate","ariaContent"]},a=this._evalSeries[o];M(a)||(this._evalSeries[o]=a=mi(t,{},r,!0));let l=t;return a&&(l=v({},t),mi(l,{value:e,series:n,dataItem:i.dataItem},r)),l}pointType(){return en}pointOptions(t,e){let i=this.seriesOptions[e];if(!i){let n=this.pointType().prototype.defaults;this.seriesOptions[e]=i=v({},n,{markers:{opacity:t.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},t)}return i}createPoint(t,e){let i=e.series,n=this.pointOptions(i,e.seriesIx),o=e.color||i.color;n=this.evalPointOptions(n,t,e),pt(i.color)&&(o=n.color);let r=new en(t,n);return r.color=o,this.append(r),r}seriesAxes(t){let{xAxis:e,yAxis:i}=t,n=this.plotArea,o=e?n.namedXAxes[e]:n.axisX,r=i?n.namedYAxes[i]:n.axisY;if(!o)throw new Error("Unable to locate X axis with name "+e);if(!r)throw new Error("Unable to locate Y axis with name "+i);return{x:o,y:r}}reflow(t){let e=this.points,i=!this.options.clip,n=0;this.traverseDataPoints((o,r)=>{let a=e[n++],l=this.seriesAxes(r.series),c=l.x.getSlot(o.x,o.x,i),h=l.y.getSlot(o.y,o.y,i);if(a)if(c&&h){let d=this.pointSlot(c,h);a.reflow(d)}else a.visible=!1}),this.box=t}pointSlot(t,e){return new k(t.x1,e.y1,t.x2,e.y2)}traverseDataPoints(t){let{options:{series:e},seriesPoints:i}=this;for(let n=0;n<e.length;n++){let o=e[n];i[n]||(i[n]=[]);for(let a=0;a<o.data.length;a++){let{valueFields:l,fields:c}=this.plotArea.bindPoint(o,a);t(l,v({pointIx:a,series:o,seriesIx:n,dataItem:o.data[a],owner:this},c))}}}formatPointValue(t,e){let i=t.value;return this.chartService.format.auto(e,i.x,i.y)}animationPoints(){let t=this.points,e=[];for(let i=0;i<t.length;i++)e.push((t[i]||{}).marker);return e}};b(_1,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0});v(_1.prototype,Pr);var To=_1;var Bc=class extends en{constructor(t,e){super(t,e),this.category=t.category}createHighlight(){let t=this.options.highlight,e=t.border,i=this.options.markers,n=this.box.center(),o=(i.size+i.border.width+e.width)/2,r=new _.Group,a=new _.Circle(new T.Circle([n.x,n.y+o/5+e.width/2],o+e.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:i.background,stops:[{offset:0,color:i.background,opacity:.3},{offset:1,color:i.background,opacity:0}]})}),l=new _.Circle(new T.Circle([n.x,n.y],o),{stroke:{color:e.color||new Oe(i.background).brightness(vr).toHex(),width:e.width,opacity:e.opacity},fill:{color:i.background,opacity:t.opacity}});return r.append(a,l),r}createFocusHighlight(t){let e=this.options.accessibility.highlight,i=this.options.markers,n=this.box.center(),o=(i.size+i.border.width)/2+e.border.width/2;return new _.Circle(new T.Circle([n.x,n.y],o),t)}};Bc.prototype.defaults=v({},Bc.prototype.defaults,{labels:{position:$},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}});Bc.prototype.defaults.highlight.zIndex=void 0;var h8=Bc;var Om=class extends To{_initFields(){this._maxSize=Tt,super._initFields()}addValue(t,e){t.size!==null&&(t.size>0||t.size<0&&e.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(t.size)),super.addValue(t,e)):(this.points.push(null),this.seriesPoints[e.seriesIx].push(null))}reflow(t){this.updateBubblesSize(t),super.reflow(t)}pointType(){return h8}createPoint(t,e){let i=e.series,n=i.data.length,o=e.pointIx*(we/n),r={delay:o,duration:we-o,type:Es},a=e.color||i.color;t.size<0&&i.negativeValues.visible&&(a=q(i.negativeValues.color,a));let l=v({labels:{animation:{delay:o,duration:we-o}}},this.pointOptions(i,e.seriesIx),{markers:{type:ne,border:i.border,opacity:i.opacity,animation:r}});l=this.evalPointOptions(l,t,e),pt(i.color)&&(a=l.color),l.markers.background=a;let c=new h8(t,l);return c.color=a,this.append(c),c}updateBubblesSize(t){let{options:{series:e}}=this,i=Math.min(t.width(),t.height());for(let n=0;n<e.length;n++){let o=e[n],r=this.seriesPoints[n],a=o.minSize||Math.max(i*.02,10),l=o.maxSize||i*.2,c=a/2,h=l/2,d=Math.PI*c*c,m=(Math.PI*h*h-d)/this._maxSize;for(let f=0;f<r.length;f++){let g=r[f];if(g){let x=Math.abs(g.value.size)*m,y=Math.sqrt((d+x)/Math.PI),S=q(g.options.zIndex,0)+(1-y/h);v(g.options,{zIndex:S,markers:{size:y*2,zIndex:S},labels:{zIndex:S+1}})}}}}formatPointValue(t,e){let i=t.value;return this.chartService.format.auto(e,i.x,i.y,i.size,t.category)}createAnimation(){}createVisual(){}};b(Om,{tooltip:{format:"{3}"},labels:{format:"{3}"}});var d8=Om;var Vm=class extends ee{};v(Vm.prototype,ve);var xw=Vm;var Io=class extends tt{constructor(t,e){super(e),this.aboveAxis=this.options.aboveAxis,this.color=e.color||ct,this.value=t}render(){let t=this.options;this._rendered||(this._rendered=!0,M(this.value.target)&&(this.target=new xw({type:t.target.shape,background:t.target.color||this.color,opacity:t.opacity,zIndex:t.zIndex,border:t.target.border,vAlign:nt,align:dt}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createLabel(),this.createNote())}createLabel(){let e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))}createLabelElement(t){return new x1(this.getLabelText(t),t,this.pointData())}getLabelText(t){let e=Dt(t);return e?e(this.pointData()):this.formatValue(t.format)}reflow(t){this.render();let{options:e,target:i,owner:n}=this,o=e.invertAxes,r=n.seriesValueAxis(this.options),a=n.categorySlot(n.categoryAxis,e.categoryIx,r),l=r.getSlot(this.value.target),c=o?l:a,h=o?a:l;if(i){let p=new k(c.x1,h.y1,c.x2,h.y2);i.options.height=o?p.height():e.target.line.width,i.options.width=o?e.target.line.width:p.width(),i.reflow(p)}let d=this.label;d&&(d.options.aboveAxis=this.aboveAxis,d.reflow(t)),this.note&&this.note.reflow(t),this.box=t}createVisual(){super.createVisual(),this.addAccessibilityAttributesToVisual();let t=this.options,e=_.Path.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:t.opacity},stroke:null});t.border.width>0&&e.options.set("stroke",{color:t.border.color||this.color,width:t.border.width,dashType:t.border.dashType,opacity:q(t.border.opacity,t.opacity)}),this.bodyVisual=e,se(e),this.visual.append(e)}createAnimation(){this.bodyVisual&&(this.animation=_.Animation.create(this.bodyVisual,this.options.animation))}createHighlight(t){return _.Path.fromRect(this.box.toRect(),t)}highlightVisual(){return this.bodyVisual}highlightVisualArgs(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}}formatValue(t){return this.owner.formatPointValue(this,t)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series}}overlapsBox(t){return this.box.overlaps(t)}getIndex(){return this.categoryIx}};Io.prototype.tooltipAnchor=Ds.prototype.tooltipAnchor;Io.prototype.createFocusHighlight=Ds.prototype.createFocusHighlight;b(Io,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},labels:{visible:!1},tooltip:{format:"Current: {0}<br />Target: {1}"},notes:{label:{}},accessibility:{role:di,className:pi,ariaRoleDescription:ui}});v(Io.prototype,ve);v(Io.prototype,zn);v(Io.prototype,En);var p8=Io;var w1=class extends Ci{constructor(t,e){nR(e),super(t,e)}reflowCategories(t){let e=this.children,i=e.length;for(let n=0;n<i;n++)e[n].reflow(t[n])}plotRange(t){let e=t.series,i=this.seriesValueAxis(e),n=this.categoryAxisCrossingValue(i);return[n,t.value.current||n]}createPoint(t,e){let{categoryIx:i,series:n}=e,{options:o,children:r}=this,a=t.valueFields,l=v({vertical:!o.invertAxes,overlay:n.overlay,categoryIx:i,invertAxes:o.invertAxes},n),c=t.fields.color||n.color;l=this.evalPointOptions(l,a,e),pt(n.color)&&(c=l.color);let h=new p8(a,l);h.color=c;let d=r[i];return d||(d=new Ao({vertical:o.invertAxes,gap:o.gap,spacing:o.spacing,rtl:!o.invertAxes&&(this.chartService||{}).rtl}),this.append(d)),d.append(h),h}updateRange(t,e){let{current:i,target:n}=t,o=e.series.axis,r=this.valueAxisRanges[o];M(i)&&!isNaN(i)&&M(n&&!isNaN(n))&&(r=this.valueAxisRanges[o]=r||{min:yt,max:Tt},r.min=Math.min(r.min,i,n),r.max=Math.max(r.max,i,n))}formatPointValue(t,e){return this.chartService.format.auto(e,t.value.current,t.value.target)}pointValue(t){return t.valueFields.current}aboveAxis(t){return t.value.current>0}createAnimation(){let t=this.points;this._setAnimationOptions();for(let e=0;e<t.length;e++){let i=t[e];i.options.animation=this.options.animation,i.createAnimation()}}};w1.prototype._setAnimationOptions=ts.prototype._setAnimationOptions;b(w1,{animation:{type:We}});function nR(s){let t=s.series;for(let e=0;e<t.length;e++){let i=t[e],n=i.data;n&&!kt(n[0])&&!me(n[0])&&(i.data=[n])}}var u8=w1;var Bm=class extends z{constructor(t,e){super(),this.chartService=t,this.options=v({},this.options,e)}getStyle(t,e){let{background:i,border:{color:n}}=t;if(e){let r=e.color||e.options.color;i=q(i,r),n=q(n,r)}let o=at(t.padding||{},"auto");return{backgroundColor:i,borderColor:n,font:t.font,color:t.color,opacity:t.opacity,borderWidth:Ss(t.border.width),paddingTop:Ss(o.top),paddingBottom:Ss(o.bottom),paddingLeft:Ss(o.left),paddingRight:Ss(o.right)}}show(t,e,i){t.format=e.format;let n=this.getStyle(e,i);t.style=n;let o=new Oe(n.backgroundColor);!M(e.color)&&!o.isDark()&&(t.className="k-chart-tooltip-inverse"),this.chartService.notify(bm,t),this.visible=!0}hide(){this.chartService&&this.chartService.notify(_m),this.visible=!1}destroy(){delete this.chartService}};b(Bm,{border:{width:1},opacity:1});var Hc=Bm;var Hm=class extends Hc{constructor(t,e,i){super(t,i),this.crosshair=e,this.formatService=t.format,this.initAxisName()}initAxisName(){let t=this.crosshair.axis,e=t.plotArea,i;e.categoryAxis?i=t.getCategory?"categoryAxis":"valueAxis":i=t.options.vertical?"yAxis":"xAxis",this.axisName=i}showAt(t){let{crosshair:{axis:e},options:i}=this,n=e[i.stickyMode?"getCategory":"getValue"](t),o=n;i.format?o=this.formatService.auto(i.format,n):e.options.type===ii&&(o=this.formatService.auto(e.options.labels.dateFormats[e.options.baseUnit],n)),this.show({point:t,anchor:this.getAnchor(),crosshair:this.crosshair,value:o,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)}hide(){this.chartService.notify(_m,{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})}getAnchor(){let{crosshair:t,options:{position:e,padding:i}}=this,n=!t.axis.options.vertical,o=t.line.bbox(),r,a,l;return n?(r=$,e===lt?(a=nt,l=o.bottomLeft().translate(0,i)):(a=lt,l=o.topLeft().translate(0,-i))):(a=$,e===K?(r=dt,l=o.topLeft().translate(-i,0)):(r=K,l=o.topRight().translate(i,0))),{point:l,align:{horizontal:r,vertical:a}}}};b(Hm,{padding:10});var m8=Hm;var Nm=class extends tt{constructor(t,e,i){super(i),this.axis=e,this.stickyMode=e instanceof ci;let n=this.options.tooltip;n.visible&&(this.tooltip=new m8(t,this,v({},n,{stickyMode:this.stickyMode})))}showAt(t){this.point=t,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(t)}hide(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()}moveLine(){let{axis:t,point:e}=this,i=t.options.vertical,n=this.getBox(),o=i?H:B,r=new T.Point(n.x1,n.y1),a;if(i?a=new T.Point(n.x2,n.y1):a=new T.Point(n.x1,n.y2),e)if(this.stickyMode){let l=t.getSlot(t.pointCategoryIndex(e));r[o]=a[o]=l.center()[o]}else r[o]=a[o]=e[o];this.box=n,this.line.moveTo(r).lineTo(a)}getBox(){let t=this.axis,e=t.pane.axes,i=e.length,n=t.options.vertical,o=t.lineBox().clone(),r=n?B:H,a;for(let l=0;l<i;l++){let c=e[l];c.options.vertical!==n&&(a?a.wrap(c.lineBox()):a=c.lineBox().clone())}return o[r+1]=a[r+1],o[r+2]=a[r+2],o}createVisual(){super.createVisual();let t=this.options;this.line=new _.Path({stroke:{color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)}destroy(){this.tooltip&&this.tooltip.destroy(),super.destroy()}};b(Nm,{color:ft,width:2,zIndex:-1,tooltip:{visible:!1}});var f8=Nm;var Fm=class extends tt{constructor(t,e){super(t),this.pane=e}shouldClip(){let t=this.children,e=t.length;for(let i=0;i<e;i++)if(t[i].options.clip===!0)return!0;return!1}_clipBox(){return this.pane.chartsBox()}createVisual(){if(this.visual=new _.Group({zIndex:0}),this.shouldClip()){let e=(this.clipBox=this._clipBox()).toRect(),i=_.Path.fromRect(e);se(i),this.visual.clip(i),this.unclipLabels()}}stackRoot(){return this}unclipLabels(){let{children:t,clipBox:e}=this;for(let i=0;i<t.length;i++){let n=t[i].points||{},o=n.length;for(let r=0;r<o;r++){let a=n[r];if(a&&a.visible!==!1&&a.overlapsBox&&a.overlapsBox(e))if(a.unclipElements)a.unclipElements();else{let{label:l,note:c}=a;l&&l.options.visible&&(l.alignToClipBox&&l.alignToClipBox(e),l.options.noclip=!0),c&&c.options.visible&&(c.options.noclip=!0)}}}}destroy(){super.destroy(),delete this.parent}};Fm.prototype.isStackRoot=!0;var g8=Fm;var C1=class s extends yi{constructor(t){super(t),this.id=oR(),this.createTitle(),this.content=new tt,this.chartContainer=new g8({},this),this.append(this.content),this.axes=[],this.charts=[]}createTitle(){let t=this.options.title;me(t)&&(t=v({},t,{align:t.position,position:nt})),this.title=mo.buildTitle(t,s.prototype.options.title),this.title&&this.append(this.title)}appendAxis(t){this.content.append(t),this.axes.push(t),t.pane=this}appendAxisAt(t,e){this.content.append(t),this.axes.splice(e,0,t),t.pane=this}appendChart(t){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(t),this.chartContainer.append(t),t.pane=this}empty(){let t=this.parent;if(t){for(let e=0;e<this.axes.length;e++)t.removeAxis(this.axes[e]);for(let e=0;e<this.charts.length;e++)t.removeChart(this.charts[e])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]}reflow(t){let e;Pt(this.children)===this.content&&(e=this.children.pop()),super.reflow(t),e&&this.children.push(e),this.title&&(this.contentBox.y1+=this.title.box.height())}visualStyle(){let t=super.visualStyle();return t.zIndex=-10,t}renderComplete(){this.options.visible&&this.createGridLines()}stackRoot(){return this}clipRoot(){return this}createGridLines(){let t=this.axes,e=t.concat(this.parent.axes),i=[],n=[];for(let o=0;o<t.length;o++){let r=t[o],a=r.options.vertical,l=a?i:n;for(let c=0;c<e.length;c++)if(l.length===0){let h=e[c];a!==h.options.vertical&&Bi(l,r.createGridLines(h))}}}refresh(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()}chartsBox(){let t=this.axes,e=t.length,i=new k;for(let n=0;n<e;n++){let o=t[n],r=o.options.vertical?H:B,a=o.lineBox();i[r+1]=a[r+1],i[r+2]=a[r+2]}if(i.x2===0){let n=this.parent.axes,o=n.length;for(let r=0;r<o;r++){let a=n[r];if(!a.options.vertical){let l=a.lineBox();i.x1=l.x1,i.x2=l.x2}}}return i}clipBox(){return this.chartContainer.clipBox}notifyRender(){let t=this.getService();t&&t.notify(ow,{pane:new wc(this),index:this.paneIndex,name:this.options.name})}},sR=1;function oR(){return"pane"+sR++}C1.prototype.isStackRoot=!0;b(C1,{zIndex:-1,shrinkToFit:!0,title:{align:K},visible:!0});var v8=C1;var Um=class extends tt{constructor(t,e,i){super(e),this.initFields(t,e),this.series=t,this.initSeries(),this.charts=[],this.options.legend=this.options.legend||{},this.options.legend.data=[],this.axes=[],this.crosshairs=[],this.chartService=i,this.originalOptions=e,this.originalSeries=t,this._bindCache=new WeakMap,this.createPanes(),this.render(),this.createCrosshairs()}initFields(){}initSeries(){let t=this.series;for(let e=0;e<t.length;e++)t[e].index=e}bindPoint(t,e,i){let n=this._bindCache.get(t);n||(n=[],this._bindCache.set(t,n));let o=n[e];return o||(o=n[e]=wt.current.bindPoint(t,e,i)),o}createPanes(){let t=this.options.title||{},e=this.options.paneDefaults,i=this.options.panes||[],n=Math.max(i.length,1),o=[],r=v({title:{color:t.color}},e);for(let a=0;a<n;a++){let l=v({},r,i[a]);oe(l.title)&&(l.title=v({text:l.title},r.title));let c=new v8(l);c.paneIndex=a,o.push(c),this.append(c)}this.panes=o}crosshairOptions(t){return t.options.crosshair}createCrosshairs(t=this.panes){for(let e=0;e<t.length;e++){let i=t[e];for(let n=0;n<i.axes.length;n++){let o=i.axes[n],r=this.crosshairOptions(o);if(r&&r.visible){let a=new f8(this.chartService,o,r);this.crosshairs.push(a),i.content.append(a)}}}}removeCrosshairs(t){let e=this.crosshairs,i=t.axes;for(let n=e.length-1;n>=0;n--)for(let o=0;o<i.length;o++)if(e[n].axis===i[o]){e.splice(n,1);break}}hideCrosshairs(){let t=this.crosshairs;for(let e=0;e<t.length;e++)t[e].hide()}findPane(t){let e=this.panes,i;for(let n=0;n<e.length;n++)if(e[n].options.name===t){i=e[n];break}return i||e[0]}findPointPane(t){let e=this.panes,i;for(let n=0;n<e.length;n++)if(e[n].box.containsPoint(t)){i=e[n];break}return i}appendAxis(t){this.findPane(t.options.pane).appendAxis(t),this.axes.push(t),t.plotArea=this}removeAxis(t){let e=[];for(let i=0;i<this.axes.length;i++){let n=this.axes[i];t!==n?e.push(n):n.destroy()}this.axes=e}appendChart(t,e){this.charts.push(t),e?e.appendChart(t):this.append(t)}removeChart(t){let e=[];for(let i=0;i<this.charts.length;i++){let n=this.charts[i];n!==t?e.push(n):n.destroy()}this.charts=e}addToLegend(t){let e=t.length,i=this.options.legend,n=i.labels||{},o=i.inactiveItems||{},r=o.labels||{},a=[];for(let l=0;l<e;l++){let c=t[l],h=c.visible!==!1;if(c.visibleInLegend===!1)continue;let d=c.name,p=h?Dt(n):Dt(r)||Dt(n);p&&(d=p({text:ge(d)?d:"",series:c}));let u=c._defaults,m=c.color;pt(m)&&u&&(m=u.color);let f,g;h?(f={},g=m):(f={color:r.color,font:r.font},g=o.markers.color),ge(d)&&d!==""&&a.push({text:d,labels:f,markerColor:g,series:c,active:h})}Bi(i.data,a)}groupAxes(t){let e=[],i=[];for(let n=0;n<t.length;n++){let o=t[n].axes;for(let r=0;r<o.length;r++){let a=o[r];a.options.vertical?i.push(a):e.push(a)}}return{x:e,y:i,any:e.concat(i)}}groupSeriesByPane(){let t=this.series,e={};for(let i=0;i<t.length;i++){let n=t[i],o=this.seriesPaneName(n);e[o]?e[o].push(n):e[o]=[n]}return e}filterVisibleSeries(t){let e=[];for(let i=0;i<t.length;i++){let n=t[i];n.visible!==!1&&e.push(n)}return e}reflow(t){let e=this.options.plotArea,i=this.panes,n=at(e.margin);this.box=t.clone().unpad(n),this.reflowPanes(),this.detachLabels(),this.reflowAxes(i),this.reflowCharts(i)}redraw(t){let e=[].concat(t);this.initSeries();let i=this.getRoot();i&&i.cleanGradients();for(let n=0;n<e.length;n++)this.removeCrosshairs(e[n]),e[n].empty();this._bindCache=new WeakMap,this.render(e),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(e),this.createCrosshairs(e);for(let n=0;n<e.length;n++)e[n].refresh()}axisCrossingValues(t,e){let i=t.options,n=[].concat(i.axisCrossingValues||i.axisCrossingValue),o=e.length-n.length,r=n[0]||0;for(let a=0;a<o;a++)n.push(r);return n}alignAxisTo(t,e,i,n){let o=t.getSlot(i,i,!0),r=t.options.reverse?2:1,a=e.getSlot(n,n,!0),l=e.options.reverse?2:1,c=t.box.translate(a[B+l]-o[B+r],a[H+l]-o[H+r]);t.pane!==e.pane&&c.translate(0,t.pane.box.y1-e.pane.box.y1),t.reflow(c)}alignAxes(t,e){let i=t[0],n=e[0],o=this.axisCrossingValues(i,e),r=this.axisCrossingValues(n,t),a={},l={},c={},h={};for(let d=0;d<e.length;d++){let p=e[d],u=p.pane,m=u.id,f=p.options.visible!==!1,g=jm(t,u)||i,x=o;if(g!==i&&(x=this.axisCrossingValues(g,e)),this.alignAxisTo(p,g,r[d],x[d]),p.options._overlap)continue;R(p.lineBox().x1)===R(g.lineBox().x1)&&(a[m]&&p.reflow(p.box.alignTo(a[m].box,K).translate(-p.options.margin,0)),f&&(a[m]=p)),R(p.lineBox().x2)===R(g.lineBox().x2)&&(p._mirrored||(p.options.labels.mirror=!p.options.labels.mirror,p._mirrored=!0),this.alignAxisTo(p,g,r[d],x[d]),l[m]&&p.reflow(p.box.alignTo(l[m].box,dt).translate(p.options.margin,0)),f&&(l[m]=p));let y=jm(e,u)||n;y!==p&&(p.alignTo(y),p.reflow(p.box))}for(let d=0;d<t.length;d++){let p=t[d],u=p.pane,m=u.id,f=p.options.visible!==!1,g=jm(e,u)||n,x=r;g!==n&&(x=this.axisCrossingValues(g,t)),this.alignAxisTo(p,g,o[d],x[d]),!p.options._overlap&&(R(p.lineBox().y1)===R(g.lineBox().y1)&&(p._mirrored||(p.options.labels.mirror=!p.options.labels.mirror,p._mirrored=!0),this.alignAxisTo(p,g,o[d],x[d]),c[m]&&p.reflow(p.box.alignTo(c[m].box,nt).translate(0,-p.options.margin)),f&&(c[m]=p)),R(p.lineBox().y2,3)===R(g.lineBox().y2,3)&&(h[m]&&p.reflow(p.box.alignTo(h[m].box,lt).translate(0,p.options.margin)),f&&(h[m]=p)),d!==0&&(p.alignTo(i),p.reflow(p.box)))}}shrinkAxisWidth(t){let e=this.groupAxes(t).any,i=x8(e),n=0;for(let o=0;o<t.length;o++){let r=t[o];r.axes.length>0&&(n=Math.max(n,i.width()-r.contentBox.width()))}if(n!==0)for(let o=0;o<e.length;o++){let r=e[o];r.options.vertical||r.reflow(r.box.shrink(n,0))}}shrinkAxisHeight(t){let e;for(let i=0;i<t.length;i++){let n=t[i],o=n.axes,r=Math.max(0,x8(o).height()-n.contentBox.height());if(r!==0){for(let a=0;a<o.length;a++){let l=o[a];l.options.vertical&&l.reflow(l.box.shrink(0,r))}e=!0}}return e}fitAxes(t){let e=this.groupAxes(t).any,i=0;for(let n=0;n<t.length;n++){let o=t[n],r=o.axes,a=o.contentBox;if(r.length>0){let l=x8(r),c=Math.max(a.y1-l.y1,a.y2-l.y2);i=Math.max(i,a.x1-l.x1);for(let h=0;h<r.length;h++){let d=r[h];d.reflow(d.box.translate(0,c))}}}for(let n=0;n<e.length;n++){let o=e[n];o.reflow(o.box.translate(i,0))}}reflowAxes(t){let e=this.groupAxes(t);for(let i=0;i<t.length;i++)this.reflowPaneAxes(t[i]);e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(t),this.autoRotateAxisLabels(e),this.alignAxes(e.x,e.y),this.shrinkAxisWidth(t)&&this.alignAxes(e.x,e.y),this.shrinkAxisHeight(t),this.alignAxes(e.x,e.y),this.shrinkAxisHeight(t)&&this.alignAxes(e.x,e.y),this.fitAxes(t))}autoRotateAxisLabels(t){let{panes:e}=this,i=lR(e),n;for(let o=0;o<i.length;o++)i[o].autoRotateLabels()&&(n=!0);if(n){for(let o=0;o<e.length;o++)this.reflowPaneAxes(e[o]);t.x.length>0&&t.y.length>0&&(this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e))}}reflowPaneAxes(t){let e=t.axes,i=e.length;if(i>0)for(let n=0;n<i;n++)e[n].reflow(t.contentBox)}reflowCharts(t){let e=this.charts,i=e.length,n=this.box;for(let o=0;o<i;o++){let r=e[o].pane;(!r||J(r,t))&&e[o].reflow(n)}}reflowPanes(){let{box:t,panes:e}=this,i=e.length,n=t.height(),o=0,r=t.y1;for(let a=0;a<i;a++){let l=e[a],c=l.options.height;if(l.options.width=t.width(),!l.options.height)o++;else{if(c.indexOf&&c.indexOf("%")){let h=parseInt(c,10)/100;l.options.height=h*t.height()}l.reflow(t.clone()),n-=l.options.height}}for(let a=0;a<i;a++){let l=e[a];l.options.height||(l.options.height=n/o)}for(let a=0;a<i;a++){let l=e[a],c=t.clone().move(t.x1,r);l.reflow(c),r+=l.options.height}}backgroundBox(){let t=this.axes,e=t.length,i;for(let n=0;n<e;n++){let o=t[n];for(let r=0;r<e;r++){let a=t[r];if(o.options.vertical!==a.options.vertical){let l=o.lineBox().clone().wrap(a.lineBox());i?i=i.wrap(l):i=l}}}return i||this.box}chartsBoxes(){let t=this.panes,e=[];for(let i=0;i<t.length;i++)e.push(t[i].chartsBox());return e}addBackgroundPaths(t){let e=this.chartsBoxes();for(let i=0;i<e.length;i++)t.paths.push(_.Path.fromRect(e[i].toRect()))}backgroundContainsPoint(t){let e=this.chartsBoxes();for(let i=0;i<e.length;i++)if(e[i].containsPoint(t))return!0}createVisual(){super.createVisual();let t=this.options.plotArea,{opacity:e,background:i,border:n={}}=t;aR(i)&&(i=ct,e=0);let o=this._bgVisual=new _.MultiPath({fill:{color:i,opacity:e},stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType},zIndex:-1});this.addBackgroundPaths(o),this.appendVisual(o)}pointsByCategoryIndex(t){let e=this.charts,i=[];if(t!==null)for(let n=0;n<e.length;n++){if(e[n].pane.options.name==="_navigator")continue;let r=e[n].categoryPoints[t];if(r&&r.length)for(let a=0;a<r.length;a++){let l=r[a];l&&M(l.value)&&l.value!==null&&i.push(l)}}return i}pointsBySeriesIndex(t){return this.filterPoints(function(e){return e.series.index===t})}pointsByPointIndex(t){return this.filterPoints(function(e){return e.getIndex()===t})}pointsBySeriesName(t){return this.filterPoints(function(e){return e.series.name===t})}filterPoints(t){let e=this.charts,i=[];for(let n=0;n<e.length;n++){let r=e[n].points;for(let a=0;a<r.length;a++){let l=r[a];l&&l.visible!==!1&&t(l)&&i.push(l)}}return i}findPoint(t){let e=this.charts;for(let i=0;i<e.length;i++){let o=e[i].points;for(let r=0;r<o.length;r++){let a=o[r];if(a&&a.visible!==!1&&t(a))return a}}}paneByPoint(t){let e=this.panes;for(let i=0;i<e.length;i++){let n=e[i];if(n.box.containsPoint(t))return n}}detachLabels(){let t=this.groupAxes(this.panes),e=t.x,i=t.y;this.detachAxisGroupLabels(i,e),this.detachAxisGroupLabels(e,i)}detachAxisGroupLabels(t,e){let i=0;for(let n=0;n<t.length;n++){let o=t[n],r=o.pane,a=jm(e,r)||e[0],l=n+i,c=this.createLabelAxis(o,l,a);if(c){i++;let h=r.axes.indexOf(o)+i;r.appendAxisAt(c,h)}}}createLabelAxis(t,e,i){let n=t.options.labels,o=n.position,r=o!==Ul&&o!==ma,a=n.visible;if(r||a===!1)return null;let l=this.groupAxes(this.panes),c=i.options.vertical?l.x:l.y,h=this.axisCrossingValues(i,c),d=o===Ul,p=i.range(),u=d?p.max:p.min;if(W(h[e],p.min,p.max)-u===0)return null;h.splice(e+1,0,u),i.options.axisCrossingValues=h;let f=t.clone();return t.clear(),f.options.name=void 0,f.options.line.visible=!1,f.options.crosshair=void 0,f.options.notes=void 0,f.options.plotBands=void 0,f}isTrendline(t){return t&&J(t.type,So)}trendlineFactory(){}createTrendlineSeries(){let t=[];return this.series=this.series.map(e=>{if(!this.isTrendline(e))return e;let i=this.seriesByName(e.for);if(!i)throw new Error(`Invalid Configuration: Unable to locate linked series "${e.for}" for trendline "${e.name}".`);let n=wt.current.valueFields(i),o=Pt(n),r=this.trendlineFactory(Object.assign({},{field:o},e),i);return r&&(i.visible===!1&&(r.visible=!1),r.color===Bp&&(r.color=i.color),t.push(r)),r}).filter(e=>e!==null),t}seriesByName(t){return this.series.find(e=>e.name===t)}getFirstPoint(){return this.pointsBySeriesIndex(0)[0]}getPointBelow(t){return this._getNextPoint(t,this._pointsByVertical,1)}getPointAbove(t){return this._getNextPoint(t,this._pointsByVertical,-1)}getPointToTheRight(t){return this._getNextPoint(t,this._pointsByHorizontal,1)}getPointToTheLeft(t){return this._getNextPoint(t,this._pointsByHorizontal,-1)}_getNextPoint(t,e,i){let n=e.call(this,t),r=n.indexOf(t)+i,a=l=>{let c,h=0;do h+=l,c=e.call(this,t,h);while(c.length===0);return c};return r<0?(n=a(-1),n.at(-1)):r>=n.length?(n=a(1),n.at(0)):n[r]}_pointsByVertical(t){return this.pointsByPointIndex(t.getIndex())}_pointsByHorizontal(t,e=0){let i=lo(t.series.index+e,this.series.length);return this.pointsBySeriesIndex(i)}};function rR(s){return!s.pane.axes.some(t=>t.options.vertical===s.options.vertical&&t!==s&&t.options.visible!==!1)}function x8(s){let t=s.length,e;for(let i=0;i<t;i++){let n=s[i],o=n.options.visible!==!1;if(o||rR(n)){let r=o?n.contentBox():n.lineBox();e?e.wrap(r):e=r.clone()}}return e||new k}function jm(s,t){for(let e=0;e<s.length;e++){let i=s[e];if(i&&i.pane===t)return i}}function aR(s){return s===""||s===null||s==="none"||s==="transparent"||!M(s)}var lR=s=>s.reduce((t,e)=>t.concat(e.axes),[]);b(Um,{series:[],plotArea:{margin:{}},background:"",border:{color:ft,width:0},paneDefaults:{title:{}},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});var Ke=Um;var cR={hover:function(s,t){this._dispatchEvent(s,t,vm)},click:function(s,t){this._dispatchEvent(s,t,nw)}},es=cR;var y8=class extends z{constructor(t,e,i){super();let n=e.canonicalFields(t),o=e.valueFields(t),r=e.sourceFields(t,n),a=this._seriesFields=[],l=i.query(t.type),c=t.aggregate||l;this._series=t,this._binder=e;for(let h=0;h<n.length;h++){let d=n[h],p;if(me(c))p=c[d];else if(h===0||J(d,o))p=c;else break;p&&a.push({canonicalName:d,name:r[h],transform:pt(p)?p:Uv[p]})}}aggregatePoints(t,e){let{_series:i,_seriesFields:n}=this,o=this._bindPoints(t||[]),r=o.dataItems[0],a={};if(r&&!rt(r)&&!kt(r)){let l=function(){};l.prototype=r,a=new l}for(let l=0;l<n.length;l++){let c=n[l],h=this._bindField(o.values,c.canonicalName),d=c.transform(h,i,o.dataItems,e);if(d!==null&&me(d)&&!M(d.length)&&!(d instanceof Date)){a=d;break}else M(d)&&hR(c.name,a,d)}return a}_bindPoints(t){let{_binder:e,_series:i}=this,n=[],o=[];for(let r=0;r<t.length;r++){let a=t[r];n.push(e.bindPoint(i,a)),o.push(i.data[a])}return{values:n,dataItems:o}}_bindField(t,e){let i=[],n=t.length;for(let o=0;o<n;o++){let r=t[o],a=r.valueFields,l;M(a[e])?l=a[e]:l=r.fields[e],i.push(l)}return i}};function hR(s,t,e){let i=t,n=s;if(s.indexOf(".")>-1){let o=s.split(".");for(;o.length>1;)n=o.shift(),M(i[n])||(i[n]={}),i=i[n];n=o.shift()}i[n]=e}var b8=y8;var S1=class extends z{constructor(){super(),this._defaults={}}register(t,e){for(let i=0;i<t.length;i++)this._defaults[t[i]]=e}query(t){return this._defaults[t]}};S1.current=new S1;var Ps=S1;var M1=class extends Ds{createLabel(){let t=this.options.labels,e=v({},t,t.from),i=v({},t,t.to);e.visible&&(this.labelFrom=this.createLabelElement(e),this.append(this.labelFrom)),i.visible&&(this.labelTo=this.createLabelElement(i),this.append(this.labelTo))}reflow(t){this.render();let{labelFrom:e,labelTo:i,value:n}=this;this.box=t,e&&(e.options.aboveAxis=n.from>n.to,e.reflow(t)),i&&(i.options.aboveAxis=n.to>n.from,i.reflow(t)),this.note&&this.note.reflow(t)}};M1.prototype.defaults=v({},M1.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});var _8=M1;var Gm=class extends ts{pointType(){return _8}pointValue(t){return t.valueFields}formatPointValue(t,e){return t.value.from===null&&t.value.to===null?"":this.chartService.format.auto(e,t.value.from,t.value.to)}plotRange(t){return t?[t.value.from,t.value.to]:0}updateRange(t,e){let i=e.series.axis,{from:n,to:o}=t,r=this.valueAxisRanges[i];t!==null&&rt(n)&&rt(o)&&(r=this.valueAxisRanges[i]=r||{min:yt,max:Tt},r.min=Math.min(r.min,n),r.max=Math.max(r.max,n),r.min=Math.min(r.min,o),r.max=Math.max(r.max,o))}aboveAxis(t){let e=t.value;return e.from<e.to}};Gm.prototype.plotLimits=Ci.prototype.plotLimits;var w8=Gm;var C8=class extends en{aliasFor(){return this.parent}},S8=C8;var yw="auto",dR="{0}",pR="{1}",Nc=class extends tt{constructor(t,e){super(),this.value=t,this.options=e,this.aboveAxis=q(this.options.aboveAxis,!0),this.tooltipTracking=!0,this._id=Mo(),this.initLabelsFormat()}render(){if(this._rendered)return;this._rendered=!0;let{markers:t,labels:e}=this.options,i=this.value,n=this.fromPoint=new S8(i,v({},this.options,{labels:e.from,markers:t.from})),o=this.toPoint=new S8(i,v({},this.options,{labels:e.to,markers:t.to}));this.copyFields(n),this.copyFields(o),this.append(n),this.append(o)}reflow(t){this.render();let{from:e,to:i}=t;this.positionLabels(e,i),this.fromPoint.reflow(e),this.toPoint.reflow(i),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())}createHighlight(){let t=new _.Group;return t.append(this.fromPoint.createHighlight()),t.append(this.toPoint.createHighlight()),t}highlightVisual(){return this.visual}highlightVisualArgs(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}}createFocusHighlight(){let t=new _.Group;return t.append(this.fromPoint.createFocusHighlight()),t.append(this.toPoint.createFocusHighlight()),t}tooltipAnchor(){let t=this.owner.pane.clipBox();if(!t||t.overlaps(this.box)){let i=this.box,n=i.center(),o=K,r,a,l;return this.options.vertical?(r=n.x,a=i.y1-Qe,l=lt):(r=i.x2+Qe,a=n.y,l=$),{point:new Y(r,a),align:{horizontal:o,vertical:l}}}}formatValue(t){return this.owner.formatPointValue(this,t)}overlapsBox(t){return this.box.overlaps(t)}unclipElements(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()}initLabelsFormat(){let t=this.options.labels;t.format||((!t.from||!t.from.format)&&(t.from=Object.assign({},t.from,{format:dR})),(!t.to||!t.to.format)&&(t.to=Object.assign({},t.to,{format:pR})))}positionLabels(t,e){let{labels:i,vertical:n}=this.options;if(i.position===yw){let o,r;n?e.y1<=t.y1?(r=Cc,o=t1):(r=t1,o=Cc):e.x1<=t.x1?(r=K,o=dt):(r=dt,o=K),(!i.from||!i.from.position)&&(this.fromPoint.options.labels.position=o),(!i.to||!i.to.position)&&(this.toPoint.options.labels.position=r)}}copyFields(t){t.dataItem=this.dataItem,t.category=this.category,t.series=this.series,t.color=this.color,t.owner=this.owner}focusVisual(){this.fromPoint.focusVisual()}clearFocusFromVisual(){this.toPoint.clearFocusFromVisual()}getIndex(){return this.categoryIx}};v(Nc.prototype,ve);v(Nc.prototype,zn);Nc.prototype.defaults={markers:{visible:!1,background:ct,size:Ra,type:ne,border:{width:2},opacity:1},labels:{visible:!1,margin:at(3),padding:at(4),animation:{type:hi,delay:we},position:yw},notes:{label:{}},highlight:{markers:{border:{color:ct,width:2}},zIndex:100},tooltip:{format:"{0} - {1}"},accessibility:{role:di,className:pi,ariaRoleDescription:ui}};var Wm=Nc;var M8=class extends sn{createStrokeSegments(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))}stackSegments(){let t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),t}createStroke(t){let e=new _.Path(t),i=new _.Path(t);e.segments.push.apply(e.segments,this.strokeSegments()),i.segments.push.apply(i.segments,this.stackSegments()),this.visual.append(e),this.visual.append(i)}hasStackSegment(){return!0}fromPoints(){return this.linePoints.map(t=>t.fromPoint)}toPoints(){return this.linePoints.map(t=>t.toPoint)}},Fc=M8;var A8=class extends Fc{createStrokeSegments(){return this.createCurveSegments(this.toPoints())}stackSegments(){let t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),t}createCurveSegments(t){return new vo().process(this.toGeometryPoints(t))}},bw=A8;var qm=class extends Fc{createStrokeSegments(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))}stackSegments(){let t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints())),t.reverse()),t}};v(qm.prototype,Oc);var _w=qm;var Ym=class extends Ci{render(){super.render(),this.renderSegments()}pointType(){return Wm}createPoint(t,e){let{series:i,seriesIx:n}=e,o=t.valueFields;if(!ge(o.from)&&!ge(o.to))if(this.seriesMissingValues(i)===Ze)o={from:0,to:0};else return null;let r=this.pointOptions(i,n);r=this.evalPointOptions(r,o,e);let a=t.fields.color||i.color;pt(i.color)&&(a=r.color);let l=new Wm(o,r);return l.color=a,this.append(l),l}createSegment(t,e,i){let n=(e.line||{}).style,o;return n==="smooth"?o=bw:n==="step"?o=_w:o=Fc,new o(t,e,i)}plotRange(t,e){return t?[t.value.from,t.value.to]:[e,e]}valueSlot(t,e){let i=t.getSlot(e[0],e[0],!this.options.clip),n=t.getSlot(e[1],e[1],!this.options.clip);if(i&&n)return{from:i,to:n}}pointSlot(t,e){let{from:i,to:n}=e,o,r;return this.options.invertAxes?(o=new k(i.x1,t.y1,i.x2,t.y2),r=new k(n.x1,t.y1,n.x2,t.y2)):(o=new k(t.x1,i.y1,t.x2,i.y2),r=new k(t.x1,n.y1,t.x2,n.y2)),{from:o,to:r}}addValue(t,e){let i=t.valueFields;rt(i.from)||(i.from=i.to),rt(i.to)||(i.to=i.from),super.addValue(t,e)}updateRange(t,e){if(t!==null&&rt(t.from)&&rt(t.to)){let i=e.series.axis,n=this.valueAxisRanges[i]=this.valueAxisRanges[i]||{min:yt,max:Tt},{from:o,to:r}=t;n.min=Math.min(n.min,o,r),n.max=Math.max(n.max,o,r)}}formatPointValue(t,e){let i=t.value;return this.chartService.format.auto(e,i.from,i.to)}animationPoints(){let t=this.points,e=[];for(let i=0;i<t.length;i++){let n=t[i];n&&(e.push((n.fromPoint||{}).marker),e.push((n.toPoint||{}).marker))}return e.concat(this._segments)}};v(Ym.prototype,Vc,Pr);var T8=Ym;var I8=class extends Xa{reflow(t){let{options:e,value:i,owner:n}=this,o=n.seriesValueAxis(e),r=[],a=[],l=[],c=o.getSlot(i.low,i.high),h=o.getSlot(i.open,i.open),d=o.getSlot(i.close,i.close);h.x1=d.x1=c.x1=t.x1,h.x2=d.x2=c.x2=t.x2;let p=c.center().x;r.push([h.x1,h.y1]),r.push([p,h.y1]),a.push([p,d.y1]),a.push([d.x2,d.y1]),l.push([p,c.y1]),l.push([p,c.y2]),this.lines=[r,a,l],this.box=c.clone().wrap(h.clone().wrap(d)),this.reflowNote()}createBody(){}},z8=I8;var E8=class extends $a{pointType(){return z8}},k8=E8;var Xm=class extends tt{constructor(t,e,i){super(),this.from=t,this.to=e,this.series=i}linePoints(){let t=this.from,{from:{box:e},to:{box:i}}=this,n=[];if(t.isVertical){let o=t.aboveAxis?e.y1:e.y2;n.push([e.x1,o],[i.x2,o])}else{let o=t.aboveAxis?e.x2:e.x1;n.push([o,e.y1],[o,i.y2])}return n}createVisual(){super.createVisual();let t=this.series.line||{},e=_.Path.fromPoints(this.linePoints(),{stroke:{color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType}});se(e),this.visual.append(e)}};b(Xm,{animation:{type:hi,delay:we}});var D8=Xm;var P8=class extends ts{render(){super.render(),this.createSegments()}traverseDataPoints(t){let e=this.options.series,i=kr(e),n=!this.options.invertAxes;for(let o=0;o<e.length;o++){let r=e[o],a=0,l=0;for(let c=0;c<i;c++){let h=wt.current.bindPoint(r,c),d=h.valueFields.value,p=h.fields.summary,u=a,m;p?p.toLowerCase()==="total"?(h.valueFields.value=a,u=0,m=a):(h.valueFields.value=l,m=u-l,l=0):rt(d)&&(l+=d,a+=d,m=a),t(h,{category:this.categoryAxis.categoryAt(c),categoryIx:c,series:r,seriesIx:o,total:a,runningTotal:l,from:u,to:m,isVertical:n})}}}updateRange(t,e){super.updateRange({value:e.to},e)}aboveAxis(t){return t.value>=0}plotRange(t){return[t.from,t.to]}createSegments(){let t=this.options.series,e=this.seriesPoints,i=this.segments=[];for(let n=0;n<t.length;n++){let o=t[n],r=e[n];if(r){let a;for(let l=0;l<r.length;l++){let c=r[l];if(c&&a){let h=new D8(a,c,o);i.push(h),this.append(h)}a=c}}}}},L8=P8;function uR(s,t,e){let i=s[String(t)];return i?i(e):null}var $m=uR;function mR(s,t){let e=0,i=0,n=0,o=0,r=0,a,l,c=Number.MAX_VALUE,h=Number.MIN_VALUE;for(let d=0;d<s.length;d++){let p=s[d],{xValue:u,yValue:m}=t(p);isFinite(u)&&u!==null&&isFinite(m)&&m!==null&&(c=Math.min(u,c),h=Math.max(u,h),r++,e+=u,i+=m,n+=Math.pow(u,2),o+=u*m)}return r>0&&(a=(r*o-e*i)/(r*n-Math.pow(e,2)),l=(i-a*e)/r),{slope:a,intercept:l,count:r,xMin:c,xMax:h}}var fi=mR;var fR=(s,t)=>s.every(({valueFields:e})=>!ge(e[t])||e[t]>0),Ls=fR;function gR(s,t){let e=[],i=t.totalRangeIndices(),n=t.currentRangeIndices(),o={min:Math.floor(Math.max(n.min-1,i.min)),max:Math.ceil(Math.min(n.max+2,i.max))};for(let r=o.min;r<o.max;r++){let a=r+1;e[r]={category:t.categoryAt(r,!0),value:s(a)}}return e}var Rs=gR;function vR(s){let{options:t,categoryAxis:e,seriesValues:i}=s,n=yR({seriesValues:i,categoryAxis:e,options:t});return n?Object.assign({},t,{type:"line",data:n,categoryField:"category",field:"value"}):null}var xR=s=>({categoryIx:t,valueFields:e})=>({xValue:t+1,yValue:Math.log(e[s])});function yR({seriesValues:s,categoryAxis:t,options:e}){let i=s();if(!Ls(i,e.field))return null;let{slope:n,intercept:o,count:r}=fi(i,xR(e.field));if(r>0){let a=Math.exp(o),l=n;return Rs(c=>a*Math.exp(l*c),t)}return null}var ww=vR;function bR(s){let{options:t,categoryAxis:e,seriesValues:i}=s,n=wR({seriesValues:i,categoryAxis:e,options:t});return n?Object.assign({},t,{type:"line",data:n,categoryField:"category",field:"value"}):null}var _R=s=>({categoryIx:t,valueFields:e})=>({xValue:t+1,yValue:e[s]});function wR({seriesValues:s,categoryAxis:t,options:e}){let{slope:i,intercept:n,count:o}=fi(s(),_R(e.field));return o>0?Rs(r=>i*r+n,t):null}var Cw=bR;function CR(s){let{options:t,categoryAxis:e,seriesValues:i}=s,n=MR({seriesValues:i,categoryAxis:e,options:t});return n?Object.assign({},t,{type:"line",data:n,categoryField:"category",field:"value"}):null}var SR=s=>({categoryIx:t,valueFields:e})=>({xValue:Math.log(t+1),yValue:e[s]});function MR({seriesValues:s,categoryAxis:t,options:e}){let{slope:i,intercept:n,count:o}=fi(s(),SR(e.field));if(o>0){let r=i,a=n;return Rs(l=>r*Math.log(l)+a,t)}return null}var Sw=CR;function AR(s,t,e){let i=[],n=[],o=Math.max(zc,e)-1,r=0,a=0;for(let l=0;l<s.length;l++){let c=s[l],{xValue:h,yValue:d}=t(c);if(isFinite(d)&&d!==null?(n.push(d),a+=d,r=Math.max(l,r)):n.push(null),l>=o){let p=n.filter(m=>m!==null).length,u=n.shift()||0;if(p>0){let m=a/p;i.push([h,m]),a-=u;continue}}i.push([h,null])}return i.slice(0,r+1)}var Qm=AR;function TR(s){let{options:t}=s,e=ER(s);return e?Object.assign({},t,{type:"line",data:e,categoryField:"category",field:"value"}):null}var IR=s=>({categoryIx:t,valueFields:e})=>({xValue:t,yValue:e[s]});function zR({options:s,categoryAxis:t,seriesValues:e}){let i=(s.trendline||{}).period||zc,n=t.totalRangeIndices(),o=t.currentRangeIndices(),r={min:Math.floor(Math.max(o.min-i,n.min)),max:Math.ceil(Math.min(o.max+i+2,n.max))};return Qm(e(r),IR(s.field),i)}function ER(s){let{categoryAxis:t}=s,e=zR(s),i=[];return e.forEach(([n,o])=>{i[n]={category:t.categoryAt(n,!0),value:o}}),i.length>0?i:null}var Mw=TR;var Aw=1,kR=6;function DR(s,t,e){let i=Math.min(Math.max(e||Aw,Aw),kR)+1,n=new Pu,o=new Pu,r=0,a=Number.MAX_VALUE,l=Number.MIN_VALUE,c=d=>d,h=[];for(let d=0;d<s.length;d++){let p=s[d],{xValue:u,yValue:m}=t(p);if(isFinite(u)&&u!==null&&isFinite(m)&&m!==null){a=Math.min(u,a),l=Math.max(u,l),r++,o.set(d,0,m),n.set(d,0,1),n.set(d,1,u);for(let f=2;f<=i;f++)n.set(d,f,Math.pow(n.get(d,1),f))}else n.set(d,0,0)}return n.width=Math.min(i,r),r>0&&(h=PR(n,o),c=d=>h.reduce((p,u,m)=>p+u*Math.pow(d,m),0)),{coefficients:h,count:r,valueMapper:c,xMin:a,xMax:l}}function PR(s,t){let e=s.transpose(),i=e.multiply(s).inverse().multiply(e).multiply(t),n=[];for(let o=0;o<i.height;o++)n.push(i.get(o,0));return n}var Zm=DR;function LR(s){let{options:t,categoryAxis:e,seriesValues:i}=s,n=OR({seriesValues:i,categoryAxis:e,options:t});return n?Object.assign({},t,{type:"line",data:n,categoryField:"category",field:"value"}):null}var RR=s=>({categoryIx:t,valueFields:e})=>({xValue:t+1,yValue:e[s]});function OR({seriesValues:s,categoryAxis:t,options:e}){let i=(e.trendline||{}).order,{count:n,valueMapper:o}=Zm(s(),RR(e.field),i);return n>0?Rs(r=>o(r),t):null}var Tw=LR;function VR(s){let{options:t,categoryAxis:e,seriesValues:i}=s,n=HR({seriesValues:i,categoryAxis:e,options:t});return n?Object.assign({},t,{type:"line",data:n,categoryField:"category",field:"value"}):null}var BR=s=>({categoryIx:t,valueFields:e})=>({xValue:Math.log(t+1),yValue:Math.log(e[s])});function HR({seriesValues:s,categoryAxis:t,options:e}){let i=s();if(!Ls(i,e.field))return null;let{slope:n,intercept:o,count:r}=fi(i,BR(e.field));if(r>0){let a=Math.exp(o),l=n;return Rs(c=>a*Math.pow(c,l),t)}return null}var Iw=VR;var Qa={};Qa[r1]=ww;Qa[a1]=Cw;Qa[l1]=Sw;Qa[c1]=Mw;Qa[h1]=Tw;Qa[d1]=Iw;var zw=Qa;var R8=[ji,_o,Sr,Co],Ew=[Ji,wo].concat(R8),A1=class extends Ke{initFields(t){if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new Lr,this._seriesPointsCache={},this._currentPointsCache={},t.length>0){this.invertAxes=J(t[0].type,[We,Zn,wo,_o,Co,Mr,wr,Ar]);for(let e=0;e<t.length;e++){let i=t[e].stack;if(i&&i.type==="100%"){this.stack100=!0;break}}}}render(t=this.panes){this.series=[...this.originalSeries],this.createCategoryAxes(t),this.aggregateCategories(t),this.createTrendlineSeries(t),this.createCategoryAxesLabels(t),this.createCharts(t),this.createValueAxes(t)}removeAxis(t){let e=t.options.name;super.removeAxis(t),t instanceof ci?delete this.namedCategoryAxes[e]:(this.valueAxisRangeTracker.reset(e),delete this.namedValueAxes[e]),t===this.categoryAxis&&delete this.categoryAxis,t===this.valueAxis&&delete this.valueAxis}trendlineFactory(t,e){let i=this.seriesCategoryAxis(t),n=this.seriesValues.bind(this,e.index),o=$m(zw,t.type,{options:t,categoryAxis:i,seriesValues:n});return o&&(o.categoryAxis=e.categoryAxis,o.valueAxis=e.valueAxis,this.filterSeries(o,i))}trendlineAggregateForecast(){return this.series.map(t=>(t.trendline||{}).forecast).filter(t=>t!==void 0).reduce((t,e)=>({before:Math.max(t.before,e.before||0),after:Math.max(t.after,e.after||0)}),{before:0,after:0})}seriesValues(t,e){let i=[],n=this.srcSeries[t],o=this.seriesCategoryAxis(n);wi(o.options.type,ii)&&(this._seriesPointsCache={},this._currentPointsCache={},o.options.dataItems=[],n=this.aggregateSeries(n,o,o.totalRangeIndices()));let a=e?e.min:0,l=e?e.max:n.data.length;for(let c=a;c<l;c++){let h=this.bindPoint(n,c);i.push({categoryIx:c,category:h.fields.category,valueFields:h.valueFields})}return i}createCharts(t){let e=this.groupSeriesByPane();for(let i=0;i<t.length;i++){let n=t[i],o=e[n.options.name||"default"]||[];this.addToLegend(o);let r=this.filterVisibleSeries(o);if(!r)continue;let a=this.groupSeriesByCategoryAxis(r);for(let l=0;l<a.length;l++)this.createChartGroup(a[l],n)}}createChartGroup(t,e){this.createAreaChart(It(t,[ji,_o]),e),this.createRangeAreaChart(It(t,[Sr,Co]),e),this.createBarChart(It(t,[_i,We]),e),this.createRangeBarChart(It(t,[Va,Mr]),e),this.createBulletChart(It(t,[Zn,Tr]),e),this.createCandlestickChart(It(t,xo),e),this.createBoxPlotChart(It(t,[Oa,Ar]),e),this.createOHLCChart(It(t,yo),e),this.createWaterfallChart(It(t,[Ba,wr]),e),this.createLineChart(It(t,[Ji,wo]),e)}aggregateCategories(t){let e=[...this.series],i=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(let n=0;n<e.length;n++){let o=e[n];if(!this.isTrendline(o)){let r=this.seriesCategoryAxis(o),a=this.findPane(r.options.pane);(wi(r.options.type,ii)||o.categoryField)&&J(a,t)?o=this.aggregateSeries(o,r,r.currentRangeIndices()):o=this.filterSeries(o,r)}i.push(o)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=e,this.series=i}filterSeries(t,e){let i=(t.data||{}).length;if(e._seriesMax=Math.max(e._seriesMax||0,i),!(M(e.options.min)||M(e.options.max)))return t;let n=e.currentRangeIndices(),o=J(t.type,Ew),r=v({},t);return r.data=(r.data||[]).slice(n.min,n.max+1),o&&g1(r,n,i,a=>({item:t.data[a],category:e.categoryAt(a,!0),categoryIx:a-n.min}),a=>M(t.data[a])),r}clearSeriesPointsCache(){this._seriesPointsCache={}}seriesSourcePoints(t,e){let i=`${t.index};${e.categoriesHash()}`;if(this._seriesPointsCache&&this._seriesPointsCache[i])return this._currentPointsCache[i]=this._seriesPointsCache[i],this._seriesPointsCache[i];let n=e.options,o=n.srcCategories,r=wi(n.type,ii),a=t.data,l=[];r||e.indexCategories();for(let c=0;c<a.length;c++){let h=wt.current.bindPoint(t,c).fields.category;if(r&&(h=Pc(h,a[c],this.chartService.intl)),M(h)||(h=o[c]),M(h)&&h!==null){let d=e.totalIndex(h);l[d]=l[d]||{items:[],category:h},l[d].items.push(c)}}return this._currentPointsCache[i]=l,l}aggregateSeries(t,e,i){if(!t.data.length)return t;let o=this.seriesSourcePoints(t,e),r=v({},t),a=new b8(v({},t),wt.current,Ps.current),l=r.data=[],c=e.options.dataItems||[],h=d=>{let p=d-i.min,u=o[d];if(u||(u=o[d]={}),u.categoryIx=p,!u.item){let m=e.categoryAt(d,!0);u.category=m,u.item=a.aggregatePoints(u.items,m)}return u};for(let d=i.min;d<=i.max;d++){let p=h(d);l[p.categoryIx]=p.item,p.items&&p.items.length&&(c[p.categoryIx]=p.item)}return J(r.type,Ew)&&g1(r,i,e.totalCount(),h,d=>o[d]),e.options.dataItems=c,r}appendChart(t,e){let i=t.options.series,n=this.seriesCategoryAxis(i[0]),o=n.options.categories,r=Math.max(0,kr(i)-o.length);if(r>0)for(o=n.options.categories=n.options.categories.slice(0);r--;)o.push("");this.valueAxisRangeTracker.update(t.valueAxisRanges),super.appendChart(t,e)}seriesPaneName(t){let e=this.options,i=t.axis,n=[].concat(e.valueAxis),o=fe(n,function(c){return c.name===i})[0],a=((e.panes||[{}])[0]||{}).name||"default";return(o||{}).pane||a}seriesCategoryAxis(t){let e=t.categoryAxis,i=e?this.namedCategoryAxes[e]:this.categoryAxis;if(!i)throw new Error("Unable to locate category axis with name "+e);return i}stackableChartOptions(t,e){let i=t.some(r=>r.stack),n=t.some(r=>r.stack&&r.stack.type==="100%"),o=e.options.clip;return{defaultStack:t[0].stack,isStacked:i,isStacked100:n,clip:o}}groupSeriesByCategoryAxis(t){let e=[],i={};for(let o=0;o<t.length;o++){let r=t[o].categoryAxis||"$$default$$";An(i,r)||(i[r]=!0,e.push(r))}let n=[];for(let o=0;o<e.length;o++){let r=e[o],a=NR(t,r,o);a.length!==0&&n.push(a)}return n}createBarChart(t,e){if(t.length===0)return;let i=t[0],n=new ts(this,Object.assign({series:t,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing},this.stackableChartOptions(t,e)));this.appendChart(n,e)}createRangeBarChart(t,e){if(t.length===0)return;let i=t[0],n=new w8(this,{series:t,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing});this.appendChart(n,e)}createBulletChart(t,e){if(t.length===0)return;let i=t[0],n=new u8(this,{series:t,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing,clip:e.options.clip});this.appendChart(n,e)}createLineChart(t,e){if(t.length===0)return;let i=new Wa(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(t,e)));this.appendChart(i,e)}createAreaChart(t,e){if(t.length===0)return;let i=new i8(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(t,e)));this.appendChart(i,e)}createRangeAreaChart(t,e){if(t.length===0)return;let i=new T8(this,{invertAxes:this.invertAxes,series:t,clip:e.options.clip});this.appendChart(i,e)}createOHLCChart(t,e){if(t.length===0)return;let i=t[0],n=new k8(this,{invertAxes:this.invertAxes,gap:i.gap,series:t,spacing:i.spacing,clip:e.options.clip});this.appendChart(n,e)}createCandlestickChart(t,e){if(t.length===0)return;let i=t[0],n=new $a(this,{invertAxes:this.invertAxes,gap:i.gap,series:t,spacing:i.spacing,clip:e.options.clip});this.appendChart(n,e)}createBoxPlotChart(t,e){if(t.length===0)return;let i=t[0],n=new a8(this,{invertAxes:this.invertAxes,gap:i.gap,series:t,spacing:i.spacing,clip:e.options.clip});this.appendChart(n,e)}createWaterfallChart(t,e){if(t.length===0)return;let i=t[0],n=new L8(this,{series:t,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing});this.appendChart(n,e)}axisRequiresRounding(t,e){let i=It(this.series,dm);for(let n=0;n<this.series.length;n++){let o=this.series[n];if(J(o.type,R8)){let r=o.line;r&&r.style===yr&&i.push(o)}}for(let n=0;n<i.length;n++){let o=i[n].categoryAxis||"";if(o===t||!o&&e===0)return!0}}aggregatedAxis(t,e){let i=this.series;for(let n=0;n<i.length;n++){let o=i[n].categoryAxis||"";if((o===t||!o&&e===0)&&i[n].categoryField)return!0}}createCategoryAxesLabels(){let t=this.axes;for(let e=0;e<t.length;e++)t[e]instanceof ci&&t[e].createLabels()}createCategoryAxes(t){let e=this.invertAxes,i=[].concat(this.options.categoryAxis),n=[];for(let r=0;r<i.length;r++){let a=i[r],l=this.findPane(a.pane);if(J(l,t)){let{name:c,categories:h=[]}=a;a=v({vertical:e,reverse:!e&&this.chartService.rtl,axisCrossingValue:e?yt:0},a),M(a.justified)||(a.justified=this.isJustified()),this.axisRequiresRounding(c,r)&&(a.justified=!1);let d;if(Lc(a,h[0])?(a._forecast=this.trendlineAggregateForecast(),d=new $n(a,this.chartService)):d=new ci(a,this.chartService),i[r].categories=d.options.srcCategories,c){if(this.namedCategoryAxes[c])throw new Error(`Category axis with name ${c} is already defined`);this.namedCategoryAxes[c]=d}d.axisIndex=r,n.push(d),this.appendAxis(d)}}let o=this.categoryAxis||n[0];this.categoryAxis=o,e?this.axisY=o:this.axisX=o}isJustified(){let t=this.series;for(let e=0;e<t.length;e++){let i=t[e];if(!J(i.type,R8))return!1}return!0}createValueAxes(t){let e=this.valueAxisRangeTracker,i=e.query(),n=[].concat(this.options.valueAxis),o=this.invertAxes,r={vertical:!o,reverse:o&&this.chartService.rtl},a=[];this.stack100&&(r.roundToMajorUnit=!1,r.labels={format:"P0"});for(let c=0;c<n.length;c++){let h=n[c],d=this.findPane(h.pane);if(J(d,t)){let p=h.name,u=wi(h.type,ja)?{min:.1,max:1}:{min:0,max:1},m=e.query(p)||i||u;c===0&&m&&i&&(m.min=Math.min(m.min,i.min),m.max=Math.max(m.max,i.max));let f;wi(h.type,ja)?f=gr:f=Be;let g=new f(m.min,m.max,v({},r,h),this.chartService);if(p){if(this.namedValueAxes[p])throw new Error(`Value axis with name ${p} is already defined`);this.namedValueAxes[p]=g}g.axisIndex=c,a.push(g),this.appendAxis(g)}}let l=this.valueAxis||a[0];this.valueAxis=l,o?this.axisX=l:this.axisY=l}_dispatchEvent(t,e,i){let n=t._eventCoordinates(e),o=new Y(n.x,n.y),r=this.pointPane(o),a=[],l=[];if(!r)return;let c=r.axes;for(let h=0;h<c.length;h++){let d=c[h];d.getValue?Er(l,d.getValue(o)):Er(a,d.getCategory(o))}a.length===0&&Er(a,this.categoryAxis.getCategory(o)),a.length>0&&l.length>0&&t.trigger(i,{element:Ee(e),originalEvent:e,category:Jn(a),value:Jn(l)})}pointPane(t){let e=this.panes;for(let i=0;i<e.length;i++){let n=e[i];if(n.contentBox.containsPoint(t))return n}}updateAxisOptions(t,e){kw(this.options,t,e),kw(this.originalOptions,t,e)}_pointsByVertical(t,e=0){return this.invertAxes?this._siblingsBySeriesIndex(t.series.index,e):this._siblingsByPointIndex(t.getIndex())}_pointsByHorizontal(t,e=0){if(this.invertAxes)return this._siblingsByPointIndex(t.getIndex());let i=this._siblingsBySeriesIndex(t.series.index,e);return this.chartService.rtl?i.reverse():i}_siblingsByPointIndex(t){let e=this.charts,i=[];for(let n=0;n<e.length;n++){let o=e[n];if(o.pane&&o.pane.options.name==="_navigator")continue;let r=o.points.filter(a=>a&&a.visible!==!1&&a.getIndex()===t);i.push(...r.sort(this._getSeriesCompareFn(r[0])))}return i}_siblingsBySeriesIndex(t,e){let i=lo(t+e,this.series.length);return this.pointsBySeriesIndex(i)}_getSeriesCompareFn(t){let e=this._isInStackedSeries(t);return e&&this.invertAxes||!e&&!this.invertAxes?(i,n)=>i.box.center().x-n.box.center().x:(i,n)=>i.box.center().y-n.box.center().y}_isInStackedSeries(t){let e=J(t.series.type,[ji,_o,Sr,Co,Ji,wo,bo,Cr]),i=J(t.series.type,[_i,We]);return e||i&&t.options.isStacked}};function kw(s,t,e){let i=t instanceof ci?[].concat(s.categoryAxis):[].concat(s.valueAxis);v(i[t.axisIndex],e)}function NR(s,t,e){return fe(s,function(i){return e===0&&!i.categoryAxis||i.categoryAxis===t})}b(A1,{categoryAxis:{},valueAxis:{}});v(A1.prototype,es);var on=A1;var O8=class extends z{constructor(){super(),this._points=[]}destroy(){this._points=[]}show(t,e){let i=[].concat(t);this.hide();for(let n=0;n<i.length;n++){let o=i[n];o&&o.toggleHighlight&&o.hasHighlight()&&(this.togglePointHighlight(o,!0,e),this._points.push(o))}}togglePointHighlight(t,e,i){let n=(t.options.highlight||{}).toggle;if(n){let o={category:t.category,series:t.series,dataItem:t.dataItem,value:t.value,stackValue:t.stackValue,preventDefault:FR,visual:t.highlightVisual(),show:e};n(o),o._defaultPrevented||t.toggleHighlight(e,i)}else t.toggleHighlight(e,i)}hide(){let t=this._points;for(;t.length;)this.togglePointHighlight(t.pop(),!1)}isHighlighted(t){let e=this._points;for(let i=0;i<e.length;i++){let n=e[i];if(t===n)return!0}return!1}};function FR(){this._defaultPrevented=!0}var V8=O8;function T1(s,t){let e=(t||"").toLowerCase(),i=s.event;return e==="none"&&!(i.ctrlKey||i.shiftKey||i.altKey)||i[e+"Key"]}function Za(s){let t={};for(let e=0;e<s.length;e++){let i=s[e];i.axis.options.name&&(t[i.axis.options.name]={min:i.range.min,max:i.range.max})}return t}var Km=class extends z{constructor(t,e){super(),this.plotArea=t,this.options=v({},this.options,e)}start(t){return this._active=T1(t,this.options.key),this._active}move(t){if(this._active){let e=this.axisRanges=this._panAxes(t,B).concat(this._panAxes(t,H));if(e.length)return this.axisRanges=e,Za(e)}}end(){let t=this._active;return this._active=!1,t}pan(){let{plotArea:t,axisRanges:e}=this;if(e.length){for(let i=0;i<e.length;i++){let n=e[i];t.updateAxisOptions(n.axis,n.range)}t.redraw(t.panes)}}destroy(){delete this.plotArea}_panAxes(t,e){let i=this.plotArea,n=-t[e].delta,o=(this.options.lock||"").toLowerCase(),r=[];if(n!==0&&(o||"").toLowerCase()!==e){let a=i.axes;for(let l=0;l<a.length;l++){let c=a[l];if(e===B&&!c.options.vertical||e===H&&c.options.vertical){let h=c.pan(n);h&&(h.limitRange=!0,r.push({axis:c,range:h}))}}}return r}};Km.prototype.options={key:"none",lock:"none"};var B8=Km;var Jm=class extends z{constructor(t,e){super(),this.chart=t,this.options=v({},this.options,e),this.createElement()}createElement(){let t=this._marquee=document.createElement("div");t.className="k-marquee";let e=document.createElement("div");e.className="k-marquee-color",t.appendChild(e)}removeElement(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)}setStyles(t){Vt(this._marquee,t)}start(t){if(T1(t,this.options.key)){let e=this.chart,i=e._eventCoordinates(t),n=this._zoomPane=e._plotArea.paneByPoint(i),o=n?n.chartsBox().clone():null;if(n&&o){let r=this._elementOffset();return o.translate(r.left,r.top),this._zoomPaneClipBox=o,document.body.appendChild(this._marquee),this.setStyles({left:t.pageX+1,top:t.pageY+1,width:0,height:0}),!0}}return!1}_elementOffset(){let t=this.chart.element,{paddingLeft:e,paddingTop:i}=Vt(t,["paddingLeft","paddingTop"]),n=Ms(t);return{left:e+n.left,top:i+n.top}}move(t){this._zoomPane&&this.setStyles(this._selectionPosition(t))}end(t){if(this._zoomPane){let i=this._elementOffset(),n=this._selectionPosition(t);n.left-=i.left,n.top-=i.top;let o={x:n.left,y:n.top},r={x:n.left+n.width,y:n.top+n.height};return this._updateAxisRanges(o,r),this.removeElement(),delete this._zoomPane,Za(this.axisRanges)}}zoom(){let t=this.axisRanges;if(t&&t.length){let e=this.chart._plotArea;for(let i=0;i<t.length;i++){let n=t[i];e.updateAxisOptions(n.axis,n.range)}e.redraw(e.panes)}}destroy(){this.removeElement(),delete this._marquee,delete this.chart}_updateAxisRanges(t,e){let i=(this.options.lock||"").toLowerCase(),n=[],o=this._zoomPane.axes;for(let r=0;r<o.length;r++){let a=o[r],l=a.options.vertical;if(!(i===B&&!l)&&!(i===H&&l)&&M(a.axisIndex)){let c=a.pointsRange(t,e);c&&n.push({axis:a,range:c})}}this.axisRanges=n}_selectionPosition(t){let e=this._zoomPaneClipBox,i={x:t.x.startLocation,y:t.y.startLocation},{x:{location:n},y:{location:o}}=t,r=(this.options.lock||"").toLowerCase(),a=Math.min(i.x,n),l=Math.min(i.y,o),c=Math.abs(i.x-n),h=Math.abs(i.y-o);return r===B&&(a=e.x1,c=e.width()),r===H&&(l=e.y1,h=e.height()),n>e.x2&&(c=e.x2-i.x),n<e.x1&&(c=i.x-e.x1),o>e.y2&&(h=e.y2-i.y),o<e.y1&&(h=i.y-e.y1),{left:Math.max(a,e.x1),top:Math.max(l,e.y1),width:c,height:h}}};Jm.prototype.options={key:"shift",lock:"none"};var H8=Jm;var jR=.01,UR=.9,GR=.3,N8=class extends z{constructor(t,e){super(),this.chart=t,this.options=v({rate:GR},this.options,e)}updateRanges(t,e){let i=(this.options.lock||"").toLowerCase(),n=[],o=this.chart._plotArea.axes;for(let r=0;r<o.length;r++){let a=o[r],l=a.options.vertical;if(!(i===B&&!l)&&!(i===H&&l)&&a.zoomRange){let c=W(this.options.rate,jR,UR),h=a.zoomRange(-t*c,e);h&&n.push({axis:a,range:h})}}return this.axisRanges=n,Za(n)}zoom(){let t=this.axisRanges,e=this.chart._plotArea;if(t&&t.length&&e.updateAxisOptions){for(let i=0;i<t.length;i++){let n=t[i];e.updateAxisOptions(n.axis,n.range)}e.redraw(e.panes)}}destroy(){delete this.chart}},F8=N8;var j8=class extends tt{constructor(t,e){super(t),this.chartService=e}render(){let{children:t,options:e}=this,i=e.vertical;this.visual=new _.Layout(null,{spacing:i?0:e.spacing,lineSpacing:i?e.spacing:0,orientation:i?Pb:Kh,reverse:e.rtl,alignItems:i?ma:$});for(let n=0;n<t.length;n++){let o=t[n];o.reflow(new k),o.renderVisual()}}reflow(t){this.visual.rect(t.toRect()),this.visual.reflow();let e=this.visual.clippedBBox();e?this.box=Ki(e):this.box=new k}renderVisual(){this.addVisual()}createVisual(){}},U8=j8;var Os=10,zo=2,tf=class extends ee{visualStyle(){let t=this.markerOptions(),e=t.border;return{stroke:{width:e.width,color:e.color,opacity:q(e.opacity,t.opacity),dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},cursor:t.cursor}}markerOptions(){return this.options}markerHighlightOptions(){let t=this.markerOptions(),e=t.highlight.border.width;return v({},t,{background:t.border.color},t.highlight,t.type===jl?{background:t.highlight.border.color,border:{color:t.highlight.background,width:e/2},width:t.width,height:t.height,margin:{top:0,left:0}}:{})}createHighlight(){let t=new ee(this.markerHighlightOptions()),e=this.paddingBox.clone();return t.reflow(e.pad(t.options.border.width)),this.highlight=[t.getElement()],this.highlight}};b(tf,{border:{width:zo},width:Os-zo,height:Os-zo,background:ct,margin:{top:-1,left:-1},vAlign:nt,align:K,highlight:{width:Os,height:Os,border:{color:ct,width:zo}}});var Dw=tf;var ef=class extends ee{getElement(){let t=new _.Group,e=new _.MultiPath(this.visualStyle()),{paddingBox:i}=this,n=i.height()/2;return e.moveTo(i.x1,i.y1+n).lineTo(i.x1,i.y2).lineTo(i.x2,i.y2),t.append(e),t}};b(ef,{width:15,height:15,align:dt,vAlign:lt,margin:{right:-2,bottom:2}});var nf=ef;var sf=class extends ee{getElement(){let t=new _.Group,e=new _.MultiPath({stroke:{color:this.options.border.color,opacity:this.options.opacity,width:this.options.height,dashType:this.options.dashType}}),i=this.paddingBox,n=i.center().y;return e.moveTo(i.x1,n).lineTo(i.x2,n),t.append(e),t}createHighlight(){return this.highlight=[this.createHighlightLine(),this.createHighlightMarker()],this.highlight}createHighlightLine(){let t=v({},{border:{color:this.options.border.color,opacity:this.options.border.opacity,dashType:this.options.border.dashType}},this.options.highlight),e=new nf(t);return e.reflow(this.parent.paddingBox.clone()),this.highlightLine=e.getElement(),this.highlightLine}createHighlightMarker(){let t=v({},{background:this.options.background},this.options.highlight.markers),e=new ee(t),i=this.parent.paddingBox,n=t.border.width,o=this.parent.box.clone();return o.pad({left:n-i.x1,top:n-i.y1}),e.reflow(o),this.highlightMarker=e.getElement(),this.highlightMarker}};b(sf,{border:{width:0},type:Db,align:K,vAlign:$,highlight:{border:{width:zo},markers:{type:ne,width:Os,height:Os,border:{width:zo,color:ct},align:K,vAlign:nt}}});var Pw=sf;var of=class extends ee{createHighlight(){let t=v({},{background:this.options.background},this.options.highlight.markers),e=new ee(t),i=this.paddingBox.clone(),n=this.parent.box.clone();return i.align(n,B,K),i.align(n,H,nt),e.reflow(i),this.highlight=[e.getElement()],this.highlight}};b(of,{highlight:{markers:{type:ne,width:Os,height:Os,border:{width:zo,color:ct},margin:{top:-3,left:-3}}}});var Lw=of;var rf=class extends yi{constructor(t){super(t),this.createContainer(),t.rtl?(this.createLabel(),this.createMarker()):(this.createMarker(),this.createLabel()),this._id=Mo(),this.options.accessibility.ariaChecked=t.active}createContainer(){this.container=new Ia({vertical:!1,wrap:!1,align:$,spacing:this.options.spacing}),this.append(this.container)}createMarker(){this.markerWrap=new yi({vertical:!1,shrinkToFit:!0,wrap:!1,margin:1,width:22,height:22}),this.container.append(this.markerWrap),this.createMarkerArea(),this.options.markers.visible&&(this._marker=this._createMarker(),this.markerWrap.append(this._marker))}createMarkerArea(){let t=this.options,{markerColor:e,line:i={}}=t,n={border:{color:i.color||e,opacity:i.opacity,dashType:i.dashType}};return this._createLine(n)||this._createMarkerLine(n,i)||this._createSquare()}markerOptions(){let t=this.options,{markers:e={},markerColor:i}=t,{border:n={}}=e;return v({},e,{border:{color:n.color||i},highlight:t.highlight.markers})}_highlightOptions(){let t=this.options;return v({markers:{type:t.markers.type}},t.highlight)}_createLine(t){let e=this.options;return e.type===Ji&&!e.markers.visible&&(this._line=new Pw(v({},{background:e.markerColor,highlight:this._highlightOptions()},t,e.line)),this.markerWrap.append(this._line)),this._line}_createMarkerLine(t,e){return this.options.type===Ji&&(this._markerLineArea=new nf(v({},{border:{width:e.height}},t)),this.markerWrap.append(this._markerLineArea)),this._markerLineArea}_createSquare(){let t=this.options;return t.type===ji&&(this._square=new Lw(Object.assign({},{border:t.border,vAlign:t.markers.visible?lt:$,highlight:this._highlightOptions(),visual:t.visual},t.area,{background:t.area.background||t.markerColor})),this.markerWrap.append(this._square)),this._square}_createMarker(){return new Dw(this.markerOptions())}_highlightMarkers(){this.options.active&&this._toggleHighlight(!0)}_restoreMarkers(){this._toggleHighlight(!1)}_toggleHighlight(t){if(!this.options.highlight.visible)return;let e=this._marker||this._square||this._line;if(e&&e===this._line&&this._line.visual.visible(!t),e){let i=e.highlight;i||(i=e.createHighlight(),i.forEach(n=>n&&this.markerWrap.appendVisual(n))),i.forEach(n=>n&&n.visible(t))}}createLabel(){let t=this.options,e=v({},t.labels);this.container.append(new Gt(t.text,e))}getAriaLabelText(){return this.options.text}focusVisual(){this.visual.options.set("id",this._id),this.toggleFocusHighlight(!0),this._highlightMarkers()}clearFocusFromVisual(){this.visual.options.set("id",""),this.toggleFocusHighlight(!1),this._restoreMarkers()}renderComplete(){super.renderComplete();let t=this.options.cursor||{},e=this._itemOverlay=_.Path.fromRect(this.container.box.toRect(),{fill:{color:ct,opacity:0},stroke:null,cursor:t.style||t});this.appendVisual(e)}click(t,e){let i=this.eventArgs(e);!t.trigger(pm,i)&&e&&e.type==="contextmenu"&&e.preventDefault()}over(t,e){let i=this.eventArgs(e);return t.trigger(ew,i)||(t._legendItemHover(i.seriesIndex,i.pointIndex),this._highlightMarkers()),!0}out(t,e){t._unsetActivePoint(),this._restoreMarkers(),t.trigger(iw,this.eventArgs(e))}eventArgs(t){let e=this.options;return{element:Ee(t),text:e.text,series:e.series,seriesIndex:e.series.index,pointIndex:e.pointIndex}}createVisual(){super.createVisual();let t=this.options;if(this.options.visible){let e=v({ariaLabel:t.text},t.accessibility);Ta(this.visual,e)}}renderVisual(){let t=this.options,e=t.visual;e?(this.visual=e({active:t.active,series:t.series,sender:this.getSender(),pointIndex:t.pointIndex,options:{type:t.type,markers:v({background:this.options.markerColor},this.markerOptions()),labels:t.labels},createVisual:()=>{this.createVisual(),this.renderChildren(),this.renderComplete();let i=this.visual;return delete this.visual,i}}),this._marker=this._markerLineArea=this._square=this._line=null,this.addVisual()):super.renderVisual()}createFocusHighlight(t){let e=t.stroke.width;return _.Path.fromRect(this.container.box.pad(e/2).toRect(),t)}};b(rf,{accessibility:{role:rw,className:aw,ariaRoleDescription:lw},markers:{},highlight:{visible:!0,markers:{}}});var G8=rf;var af="custom",lf=class extends tt{constructor(t,e={}){super(t),this.chartService=e,J(this.options.position,[nt,dt,lt,K,af])||(this.options.position=dt),this.createContainers(),this.createLegendTitle(t.title),this.createItems()}createContainers(){let t=this.options,{position:e,align:i}=t,n=e,o=$;e===af?n=K:J(e,[nt,lt])?(i===ma?n=K:i===Ul?n=dt:n=$,o=e):i&&(i===ma?o=nt:i===Ul&&(o=lt)),this.container=new yi({margin:t.margin,padding:t.padding,background:t.background,border:t.border,vAlign:o,align:n,zIndex:t.zIndex,shrinkToFit:!0}),this.hasTitle()?this.itemsContainer=new yi({vAlign:o,align:n,zIndex:t.zIndex,shrinkToFit:!0}):this.itemsContainer=this.container,this.append(this.container)}createItems(){let t=this.getService(),e=this.options,i=this.isVertical(),n=new U8({vertical:i,spacing:e.spacing,rtl:t.rtl},t),o=e.data;e.reverse&&(o=o.slice(0).reverse());let r=o.length;for(let a=0;a<r;a++){let l=o[a],{markers:c={},dashType:h,legendItem:d,opacity:p}=l.series||{},u=v({visible:c.visible!==!1,type:ne},c);delete u.size;let m=v({},{markers:u,labels:e.labels,rtl:t.rtl,line:Object.assign({},{dashType:h},e.line),area:Object.assign({},{opacity:p},e.area),opacity:p,accessibility:e.accessibility},e.item,d,l,{markers:e.markers});n.append(new G8(m))}n.render(),this.itemsContainer.append(n)}isVertical(){let{orientation:t,position:e}=this.options;return e===af&&t!==Kh||(M(t)?t!==Kh:J(e,[K,dt]))}hasItems(){return this.container.children[0].children.length>0}getItems(){return this.itemsContainer.children[0].children}reflow(t){let e=this.options,i=t.clone();if(!this.hasItems()){this.box=i;return}e.position===af?(this.containerCustomReflow(i),this.box=i):this.containerReflow(i),this.hasTitle()&&this.title.reflow(new k(this.container.box.x1,this.title.box.y1,this.container.box.x2,this.title.box.y2))}containerReflow(t){let{options:e,container:i}=this,{position:n,width:o,height:r}=e,a=n===nt||n===lt?B:H,l=this.isVertical(),c=t.clone(),h=t.clone();(n===K||n===dt)&&(h.y1=c.y1=0),l&&r?(h.y2=h.y1+r,h.align(c,H,i.options.vAlign)):!l&&o&&(h.x2=h.x1+o,h.align(c,B,i.options.align)),i.reflow(h),h=i.box;let d=h.clone();(e.offsetX||e.offsetY)&&(h.translate(e.offsetX,e.offsetY),i.reflow(h)),d[a+1]=t[a+1],d[a+2]=t[a+2],this.box=d}containerCustomReflow(t){let{options:e,container:i}=this,{offsetX:n,offsetY:o,width:r,height:a}=e,l=this.isVertical(),c=t.clone();l&&a?c.y2=c.y1+a:!l&&r&&(c.x2=c.x1+r),i.reflow(c),c=i.box,i.reflow(new k(n,o,n+c.width(),o+c.height()))}renderVisual(){this.hasItems()&&super.renderVisual()}createLegendTitle(t){let e=v({},{color:ft,position:nt,align:$},t),i=e.text;if(!(!t||t.visible===!1||!t.text)){if(M(e)&&e.visible){let n=Dt(e);n?i=n({text:i}):e.format&&(i=this.chartService.format.auto(e.format,i))}this.title=new Gt(i,e),this.createTitleLayout(),this.appendTitleLayoutContent()}}createTitleLayout(){this.layout=new Ia({vertical:!0,wrap:!1}),this.container.append(this.layout)}hasTitle(){return!!(this.options.title&&this.options.title.visible!==!1&&this.options.title.text)}appendTitleLayoutContent(){this.options.title.position===lt?(this.layout.append(this.itemsContainer),this.layout.append(this.title)):(this.layout.append(this.title),this.layout.append(this.itemsContainer))}};b(lf,{position:dt,data:[],offsetX:0,offsetY:0,margin:at(2),padding:at(5),border:{color:ft,width:0},item:{cursor:Zh,spacing:6},spacing:6,background:"",zIndex:1,markers:{},line:{width:20,height:2,cursor:Zh,opacity:1},area:{type:kb,align:dt,width:15,height:15}});var I1=lf;var z1=class extends z{constructor(){super(),this._registry=[]}register(t,e){this._registry.push({type:t,seriesTypes:e})}create(t,e,i){let n=this._registry,o=n[0],r;for(let a=0;a<n.length;a++){let l=n[a];r=It(t,l.seriesTypes);let c=It(t,So);if(r.length-c.length>0){o=l;break}}return new o.type(r,e,i)}};z1.current=new z1;var kn=z1;var WR=3,qR=.1;function Eo(s){let t=document.createElement("div");return s&&(t.className=s),t}function Rw(s){let t=s;for(;t&&!hr(t,"k-handle");)t=t.parentNode;return t}var cf=class extends z{constructor(t,e,i,n){super();let o=t.element;this.options=v({},this.options,i),this.chart=t,this.observer=n,this.chartElement=o,this.categoryAxis=e,this._dateAxis=this.categoryAxis instanceof $n,this.initOptions(),this.visible=this.options.visible&&o.offsetHeight,this.visible&&(this.createElements(),this.set(this._index(this.options.from),this._index(this.options.to)),this.bindEvents())}onPane(t){return this.categoryAxis.pane===t}createElements(){let t=this.options,e=this.wrapper=Eo("k-selector k-pointer-events-none");Vt(e,{top:t.offset.top,left:t.offset.left,width:t.width,height:t.height,direction:"ltr"});let i=this.selection=Eo("k-selection k-pointer-events-none");this.leftMask=Eo("k-mask k-pointer-events-none"),this.rightMask=Eo("k-mask k-pointer-events-none"),e.appendChild(this.leftMask),e.appendChild(this.rightMask),e.appendChild(i);let n=this.body=Eo("k-selection-bg k-pointer-events-none");i.appendChild(n);let o=this.leftHandle=Eo("k-handle k-left-handle k-pointer-events-auto"),r=this.rightHandle=Eo("k-handle k-right-handle k-pointer-events-auto");o.appendChild(Eo()),r.appendChild(Eo()),i.appendChild(o),i.appendChild(r),this.chartElement.appendChild(e);let a=Vt(i,["borderLeftWidth","borderRightWidth","height"]),l=Vt(o,"height").height,c=Vt(r,"height").height;t.selection={border:{left:a.borderLeftWidth,right:a.borderRightWidth}},Vt(o,{top:(a.height-l)/2}),Vt(r,{top:(a.height-c)/2}),e.style.cssText=e.style.cssText}bindEvents(){this.options.mousewheel!==!1&&(this._mousewheelHandler=this._mousewheel.bind(this),Sa(this.chartElement,{[Ic]:this._mousewheelHandler})),this._domEvents=Ea.create(this.chartElement,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})}initOptions(){let{options:t,categoryAxis:e}=this,i=e.pane.chartsBox(),n=this.chart.chartService.intl;this._dateAxis&&v(t,{min:Qt(n,t.min),max:Qt(n,t.max),from:Qt(n,t.from),to:Qt(n,t.to)});let{paddingLeft:o,paddingTop:r}=Vt(this.chartElement,["paddingLeft","paddingTop"]);this.options=v({},{width:i.width(),height:i.height()+qR,padding:{left:o,top:r},offset:{left:i.x1+o,top:i.y1+r},from:t.min,to:t.max},t)}destroy(){this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper&&(this._mousewheelHandler&&(Ma(this.chartElement,{[Ic]:this._mousewheelHandler}),this._mousewheelHandler=null),this.chartElement.removeChild(this.wrapper),this.wrapper=null)}_rangeEventArgs(t){return{axis:this.categoryAxis.options,from:this._value(t.from),to:this._value(t.to)}}_pointInPane(t,e){let i=this.categoryAxis.pane.box,n=this.chart._toModelCoordinates(t,e);return i.containsPoint(n)}_start(t){let e=this.options,i=Ee(t);if(this._state||!i)return;let n=Iu(t);if(!this._pointInPane(n.x,n.y))return;let r=Rw(i),a=this.body.getBoundingClientRect(),l=!r&&n.x>=a.x&&n.x<=a.x+a.width&&n.y>=a.y&&n.y<=a.y+a.height;this.chart._unsetActivePoint(),this._state={moveTarget:r,startLocation:t.x?t.x.location:0,inBody:l,range:{from:this._index(e.from),to:this._index(e.to)}};let c=this._rangeEventArgs({from:this._index(e.from),to:this._index(e.to)});this.trigger(p1,c)&&(this._state=null)}_press(t){let e;this._state?e=this._state.moveTarget:e=Rw(Ee(t)),e&&bt(e,"k-handle-active")}_move(t){if(!this._state)return;let{_state:e,options:i,categoryAxis:n}=this,{range:o,moveTarget:r}=e,a=n.options.reverse,l=this._index(i.from),c=this._index(i.to),h=this._index(i.min),d=this._index(i.max),p=e.startLocation-t.x.location,u={from:o.from,to:o.to},m=o.to-o.from,f=Vt(this.wrapper,"width").width/(n.categoriesCount()-1),g=Math.round(p/f)*(a?-1:1);if(!r&&!e.inBody)return;let x=r&&hr(r,"k-left-handle"),y=r&&hr(r,"k-right-handle");e.inBody?(o.from=Math.min(Math.max(h,l-g),d-m),o.to=Math.min(o.from+m,d)):x&&!a||y&&a?(o.from=Math.min(Math.max(h,l-g),d-1),o.to=Math.max(o.from+1,o.to)):(x&&a||y&&!a)&&(o.to=Math.min(Math.max(h+1,c-g),d),o.from=Math.min(o.to-1,o.from)),(o.from!==u.from||o.to!==u.to)&&(this.move(o.from,o.to),this.trigger(Fa,this._rangeEventArgs(o)))}_end(){if(this._state){let t=this._state.moveTarget;t&&ga(t,"k-handle-active");let e=this._state.range;this.set(e.from,e.to),this.trigger(u1,this._rangeEventArgs(e)),delete this._state}}_tap(t){let{options:e,categoryAxis:i}=this,n=this.chart._eventCoordinates(t),o=i.pointCategoryIndex(new Y(n.x,i.box.y1)),r=this._index(e.from),a=this._index(e.to),l=this._index(e.min),c=this._index(e.max),h=a-r,d=r+h/2,p={},u=t.event.which===3,m=Math.round(d-o);this._state||u||(this.chart._unsetActivePoint(),i.options.justified||m--,p.from=Math.min(Math.max(l,r-m),c-h),p.to=Math.min(p.from+h,c),this._start(t),this._state&&(this._state.range=p,this.trigger(Fa,this._rangeEventArgs(p)),this._end()))}_mousewheel(t){let e=dr(t);if(this._start(t),this._state){let i=this._state.range;t.preventDefault(),t.stopPropagation(),Math.abs(e)>1&&(e*=WR),this.options.mousewheel.reverse&&(e*=-1),this.expand(e)&&this.trigger(Fa,{axis:this.categoryAxis.options,delta:e,originalEvent:t,from:this._value(i.from),to:this._value(i.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(()=>{this._end()},m1)}}_gesturestart(t){let e=this.options,i=t.touches[0];if(!this._pointInPane(i.pageX,i.pageY))return;this._state={range:{from:this._index(e.from),to:this._index(e.to)}};let o=this._rangeEventArgs(this._state.range);this.trigger(p1,o)?this._state=null:t.preventDefault()}_gestureend(){this._state&&(this.trigger(u1,this._rangeEventArgs(this._state.range)),delete this._state)}_gesturechange(t){if(!this._state)return;let{chart:e,_state:i,options:n,categoryAxis:o}=this,r=i.range,a=e._toModelCoordinates(t.touches[0].x.location).x,l=e._toModelCoordinates(t.touches[1].x.location).x,c=Math.min(a,l),h=Math.max(a,l);t.preventDefault(),r.from=o.pointCategoryIndex(new Y(c))||n.min,r.to=o.pointCategoryIndex(new Y(h))||n.max,this.move(r.from,r.to),this.trigger(Fa,this._rangeEventArgs(r))}_index(t){let e=t;return t instanceof Date&&(e=this.categoryAxis.categoryIndex(t)),e}_value(t){let e=t;return this._dateAxis&&(e=this.categoryAxis.categoryAt(t),e>this.options.max&&(e=this.options.max)),e}_slot(t){let e=this.categoryAxis,i=this._index(t);return e.getSlot(i,i,!0)}move(t,e){let i=this.options,n=this.categoryAxis.options.reverse,{offset:o,padding:r,selection:{border:a}}=i,l=n?e:t,c=n?t:e,h="x"+(n?2:1),d=this._slot(l),p=R(d[h]-o.left+r.left);Vt(this.leftMask,{width:p}),Vt(this.selection,{left:p}),d=this._slot(c);let u=R(i.width-(d[h]-o.left+r.left));Vt(this.rightMask,{width:u});let m=i.width-u;m!==i.width&&(m+=a.right),Vt(this.rightMask,{left:m}),Vt(this.selection,{width:Math.max(i.width-(p+u)-a.right,0)})}set(t,e){let i=this.options,n=this._index(i.min),o=this._index(i.max),r=W(this._index(t),n,o),a=W(this._index(e),r+1,o);i.visible&&this.move(r,a),i.from=this._value(r),i.to=this._value(a)}expand(t){let e=this.options,i=this._index(e.min),n=this._index(e.max),o=e.mousewheel.zoom,r=this._index(e.from),a=this._index(e.to),l={from:r,to:a},c=v({},l);if(this._state&&(l=this._state.range),o!==dt&&(l.from=W(W(r-t,0,a-1),i,n)),o!==K&&(l.to=W(W(a+t,l.from+1,n),i,n)),l.from!==c.from||l.to!==c.to)return this.set(l.from,l.to),!0}zoom(t,e){let i=this.options,n=this._index(i.min),o=this._index(i.max),r=this._index(i.from),a=this._index(i.to),l={from:r,to:a},c=v({},l),{reverse:h}=this.categoryAxis.options,d=B+(h?"2":"1"),p=this.categoryAxis.lineBox(),u=Math.abs(p[d]-e[B]),m=p.width(),f=R(u/m,2),g=R(f*t),x=R((1-f)*t);if(this._state&&(l=this._state.range),l.from=W(W(r-g,0,a-1),n,o),l.to=W(W(a+x,l.from+1,o),n,o),l.from!==c.from||l.to!==c.to)return this.set(l.from,l.to),!0}trigger(t,e){return(this.observer||this.chart).trigger(t,e)}};b(cf,{visible:!0,mousewheel:{zoom:"both"},min:Tt,max:yt});var E1=cf;var W8=class extends Hc{show(t){if(!t||!t.tooltipAnchor||this._current&&this._current===t)return;let e=v({},this.options,t.options.tooltip),i=t.tooltipAnchor();i?(this._current=t,super.show({point:t,anchor:i},e,t)):this.hide()}hide(){delete this._current,super.hide()}},q8=W8;var hf=class extends Hc{constructor(t,e){super(t.chartService,e),this.plotArea=t,this.formatService=t.chartService.format}showAt(t,e){let i=fe(t,function(n){let o=n.series.tooltip;return!(o&&o.visible===!1)});if(i.length>0){let n=i[0],o=this.plotArea.categoryAxis.getSlot(n.categoryIx),r=e?this._slotAnchor(e,o):this._defaultAnchor(n,o);this.show({anchor:r,shared:!0,points:t,category:n.category,categoryText:this.formatService.auto(this.options.categoryFormat,n.category),series:this.plotArea.series},this.options)}}_slotAnchor(t,e){let i=this.plotArea.categoryAxis,n={horizontal:"left",vertical:"center"};return i.options.vertical||(t.x=e.center().x),{point:t,align:n}}_defaultAnchor(t,e){let i=t.owner.pane.chartsBox(),n=this.plotArea.categoryAxis.options.vertical,o=i.center(),r=e.center(),a={horizontal:"center",vertical:"center"},l;return n?l=new Y(o.x,r.y):l=new Y(r.x,o.y),{point:l,align:a}}};b(hf,{categoryFormat:"{0:d}"});var k1=hf;var df=class extends _.Animation{setup(){let{element:t,options:e}=this;if(t.bbox()){this.origin=e.origin;let n=e.vertical?H:B,o=this.fromScale=new T.Point(1,1);o[n]=xr,t.transform(T.transform().scale(o.x,o.y))}else this.abort()}step(t){let e=ze(this.fromScale.x,1,t),i=ze(this.fromScale.y,1,t);this.element.transform(T.transform().scale(e,i,this.origin))}abort(){super.abort(),this.element.transform(null)}};b(df,{duration:we});_.AnimationFactory.current.register(We,df);var pf=class extends _.Animation{setup(){let t=this.center=this.element.bbox().center();this.element.transform(T.transform().scale(xr,xr,t))}step(t){this.element.transform(T.transform().scale(t,t,this.center))}};b(pf,{easing:"easeOutElastic"});_.AnimationFactory.current.register(Es,pf);var uf=class extends _.Animation{setup(){this.fadeTo=this.element.opacity(),this.element.opacity(0)}step(t){this.element.opacity(t*this.fadeTo)}};b(uf,{duration:200,easing:"linear"});_.AnimationFactory.current.register(hi,uf);var mf=class extends _.Animation{setup(){this.element.transform(T.transform().scale(xr,xr,this.options.center))}step(t){this.element.transform(T.transform().scale(t,t,this.options.center))}};b(mf,{easing:"easeOutElastic",duration:we});_.AnimationFactory.current.register(Ui,mf);var ff=class extends To{render(){super.render(),this.renderSegments()}createSegment(t,e,i){let n=e.style,o;return n===In?o=Ga:o=nn,new o(t,e,i)}animationPoints(){return super.animationPoints().concat(this._segments)}createMissingValue(t,e){if(e===Ze){let i={x:t.x,y:t.y};return ge(i.x)||(i.x=0),ge(i.y)||(i.y=0),i}}};v(ff.prototype,Vc);var D1=ff;function YR(s,t,e){let i=[],{xMin:n,xMax:o}=t,r=(e||{}).forecast;r&&(r.before>0&&(n-=r.before),r.after>0&&(o+=r.after));let a=(e||{}).samplingInterval,l=q(a,Zi(n,o)/10);a<=0&&(l=o-n);for(let c=n;c<=o;c+=l)i.push([c,s(c)]);return i}var Vs=YR;function XR(s){let{options:t,seriesValues:e}=s,i=QR({seriesValues:e,options:t});return i?Object.assign({},t,{type:"scatterLine",data:i}):null}var $R=s=>({valueFields:t})=>({xValue:t.x,yValue:Math.log(t[s])});function QR({seriesValues:s,options:t}){let e=s();if(!Ls(e,t.field))return null;let{slope:i,intercept:n,count:o,xMin:r,xMax:a}=fi(e,$R(t.field)),l={xMin:r,xMax:a};if(o>0){let c=Math.exp(n),h=i;return Vs(d=>c*Math.exp(h*d),l,t.trendline)}return null}var Ow=XR;var ZR=s=>({valueFields:t})=>({xValue:t.x,yValue:t[s]}),Or=ZR;function KR(s){let{options:t,seriesValues:e}=s,i=JR({seriesValues:e,options:t});return i?Object.assign({},t,{type:"scatterLine",data:i}):null}function JR({seriesValues:s,options:t}){let{slope:e,intercept:i,count:n,xMin:o,xMax:r}=fi(s(),Or(t.field)),a={xMin:o,xMax:r};return n>0?Vs(l=>e*l+i,a,t.trendline):null}var Vw=KR;function tO(s,t){let e=Number.MAX_VALUE,i=Number.MIN_VALUE;for(let n=0;n<s.length;n++){let o=s[n],{xValue:r,yValue:a}=t(o);isFinite(r)&&r!==null&&isFinite(a)&&a!==null&&(e=Math.min(r,e),i=Math.max(r,i))}return{xMin:e,xMax:i}}var gf=tO;function eO(s){let{options:t,seriesValues:e}=s,i=sO({seriesValues:e,options:t});return i?Object.assign({},t,{type:"scatterLine",data:i}):null}var iO=s=>({valueFields:t})=>({xValue:t.x,yValue:t[s]}),nO=s=>({valueFields:t})=>({xValue:Math.log(t.x),yValue:t[s]});function sO({seriesValues:s,options:t}){let e=s();if(!Ls(e,"x"))return null;let{slope:i,intercept:n,count:o}=fi(e,nO(t.field)),r=gf(e,iO(t.field));if(o>0){let a=i,l=n;return Vs(c=>a*Math.log(c)+l,r,t.trendline)}return null}var Bw=eO;function oO(s){let{options:t}=s,e=rO(s);return e?Object.assign({},t,{type:"scatterLine",data:e}):null}function rO({options:s,seriesValues:t}){let e=(s.trendline||{}).period||zc,n=Qm(t({before:e,after:e}),Or(s.field),e);return n.length>0?n:null}var Hw=oO;function aO(s){let{options:t,seriesValues:e}=s,i=lO({seriesValues:e,options:t});return i?Object.assign({},t,{type:"scatterLine",data:i}):null}function lO({seriesValues:s,options:t}){let e=(t.trendline||{}).order,i=Or(t.field),{count:n,valueMapper:o,xMin:r,xMax:a}=Zm(s(),i,e),l={xMin:r,xMax:a};return n>0?Vs(o,l,t.trendline):null}var Nw=aO;function cO(s){let{options:t,seriesValues:e}=s,i=dO({seriesValues:e,options:t});return i?Object.assign({},t,{type:"scatterLine",data:i}):null}var hO=s=>({valueFields:t})=>({xValue:Math.log(t.x),yValue:Math.log(t[s])});function dO({seriesValues:s,options:t}){let e=s();if(!Ls(e,"x"))return null;let{slope:i,intercept:n,count:o}=fi(e,hO(t.field)),r=gf(e,Or(t.field));if(o>0){let a=Math.exp(n),l=i;return Vs(c=>a*Math.pow(c,l),r,t.trendline)}return null}var Fw=cO;var Ka={};Ka[r1]=Ow;Ka[a1]=Vw;Ka[l1]=Bw;Ka[c1]=Hw;Ka[h1]=Nw;Ka[d1]=Fw;var jw=Ka;var P1=class extends Ke{initFields(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new Lr,this.yAxisRangeTracker=new Lr}render(t=this.panes){this.series=[...this.originalSeries],this.createTrendlineSeries();let e=this.groupSeriesByPane();for(let i=0;i<t.length;i++){let n=t[i],o=e[n.options.name||"default"]||[];this.addToLegend(o);let r=this.filterVisibleSeries(o);r&&(this.createScatterChart(It(r,s1),n),this.createScatterLineChart(It(r,o1),n),this.createBubbleChart(It(r,Es),n))}this.createAxes(t)}appendChart(t,e){this.xAxisRangeTracker.update(t.xAxisRanges),this.yAxisRangeTracker.update(t.yAxisRanges),super.appendChart(t,e)}removeAxis(t){let e=t.options.name;super.removeAxis(t),t.options.vertical?(this.yAxisRangeTracker.reset(e),delete this.namedYAxes[e]):(this.xAxisRangeTracker.reset(e),delete this.namedXAxes[e]),t===this.axisX&&delete this.axisX,t===this.axisY&&delete this.axisY}seriesPaneName(t){let e=this.options,i=t.xAxis,n=[].concat(e.xAxis),o=fe(n,function(p){return p.name===i})[0],r=t.yAxis,a=[].concat(e.yAxis),l=fe(a,function(p){return p.name===r})[0],h=(e.panes||[{}])[0].name||"default";return(o||{}).pane||(l||{}).pane||h}createScatterChart(t,e){t.length>0&&this.appendChart(new To(this,{series:t,clip:e.options.clip}),e)}createScatterLineChart(t,e){t.length>0&&this.appendChart(new D1(this,{series:t,clip:e.options.clip}),e)}createBubbleChart(t,e){t.length>0&&this.appendChart(new d8(this,{series:t,clip:e.options.clip}),e)}createXYAxis(t,e,i){let n=t.name,o=e?this.namedYAxes:this.namedXAxes,r=e?this.yAxisRangeTracker:this.xAxisRangeTracker,a=v({reverse:!e&&this.chartService.rtl},t,{vertical:e}),l=wi(a.type,ja),c=r.query(),h=l?{min:.1,max:1}:{min:0,max:1},d=r.query(n)||c||h,p=[a.min,a.max],u=this.series;for(let x=0;x<u.length;x++){let y=u[x],C=y[e?"yAxis":"xAxis"];if(C===a.name||i===0&&!C){let S=wt.current.bindPoint(y,0).valueFields;p.push(S[e?"y":"x"]);break}}i===0&&c&&(d.min=Math.min(d.min,c.min),d.max=Math.max(d.max,c.max));let m;for(let x=0;x<p.length;x++)if(p[x]instanceof Date){m=!0;break}let f;wi(a.type,ii)||!a.type&&m?f=$2:l?f=gr:f=Be;let g=new f(d.min,d.max,a,this.chartService);if(g.axisIndex=i,n){if(o[n])throw new Error(`${e?"Y":"X"} axis with name ${n} is already defined`);o[n]=g}return this.appendAxis(g),g}createAxes(t){let e=this.options,i=[].concat(e.xAxis),n=[],o=[].concat(e.yAxis),r=[];for(let a=0;a<i.length;a++){let l=this.findPane(i[a].pane);J(l,t)&&n.push(this.createXYAxis(i[a],!1,a))}for(let a=0;a<o.length;a++){let l=this.findPane(o[a].pane);J(l,t)&&r.push(this.createXYAxis(o[a],!0,a))}this.axisX=this.axisX||n[0],this.axisY=this.axisY||r[0]}_dispatchEvent(t,e,i){let n=t._eventCoordinates(e),o=new Y(n.x,n.y),r=this.axes,a=r.length,l=[],c=[];for(let h=0;h<a;h++){let d=r[h],p=d.options.vertical?c:l,u=d.getValue(o);u!==null&&p.push(u)}l.length>0&&c.length>0&&t.trigger(i,{element:Ee(e),originalEvent:e,x:Jn(l),y:Jn(c)})}updateAxisOptions(t,e){let i=t.options.vertical,n=this.groupAxes(this.panes),o=(i?n.y:n.x).indexOf(t);Uw(this.options,o,i,e),Uw(this.originalOptions,o,i,e)}trendlineFactory(t,e){let i=this.seriesValues.bind(this,e.index),n=$m(jw,t.type,{options:t,seriesValues:i});return n&&(n.xAxis=e.xAxis,n.yAxis=e.yAxis),n}seriesValues(t){let e=[],i=this.series[t];for(let n=0;n<i.data.length;n++){let o=this.bindPoint(i,n);e.push({pointIx:n,valueFields:o.valueFields})}return e}};function Uw(s,t,e,i){let n=[].concat(e?s.yAxis:s.xAxis)[t];v(n,i)}b(P1,{xAxis:{},yAxis:{}});v(P1.prototype,es);var jc=P1;var Uc=class extends tt{constructor(t,e,i){super(i),this.value=t,this.sector=e}render(){this._rendered||this.visible===!1||(this._rendered=!0,this.createLabel())}createLabel(){let t=this.options.labels,e=this.owner.chartService,i=this.getLabelText(t);if(t.visible&&(i||i===0)){if(t.position===$||t.position===Ua)t.color||(t.color=ho(this.options.color)),t.background||(t.background=this.options.color);else{let n=e.theme.seriesDefaults.labels;t.color=t.color||n.color,t.background=t.background||n.background}this.label=new Gt(i,v({},t,{align:$,vAlign:"",animation:{type:hi,delay:this.animationDelay}}),this.pointData()),this.append(this.label)}}getLabelText(t){let e=Dt(t);return e?e(this.pointData()):this.owner.chartService.format.auto(t.format,this.value)}reflow(t){this.render(),this.box=t,this.reflowLabel()}reflowLabel(){let{options:{labels:t},label:e}=this,i=this.sector.clone(),n=t.distance,o=i.middle();if(e){let r=e.box.height(),a=e.box.width(),l;if(t.position===$)i.radius=Math.abs((i.radius-r)/2)+r,l=i.point(o),e.reflow(new k(l.x,l.y-r/2,l.x,l.y));else if(t.position===Ua)i.radius=i.radius-r/2,l=i.point(o),e.reflow(new k(l.x,l.y-r/2,l.x,l.y));else{let c;l=i.clone().expand(n).point(o),l.x>=i.center.x?(c=l.x+a,e.orientation=dt):(c=l.x-a,e.orientation=K),e.reflow(new k(c,l.y-r,l.x,l.y))}}}createVisual(){let{sector:t,options:e}=this;if(super.createVisual(),this.addAccessibilityAttributesToVisual(),this.value)if(e.visual){let i=(t.startAngle+180)%360,n=e.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new T.Point(t.center.x,t.center.y),radius:t.radius,innerRadius:t.innerRadius,startAngle:i,endAngle:i+t.angle,options:e,sender:this.getSender(),createVisual:()=>{let o=new _.Group;return this.createSegmentVisual(o),o}});n&&this.visual.append(n)}else this.createSegmentVisual(this.visual)}createSegmentVisual(t){let{sector:e,options:i}=this,n=i.border||{},o=n.width>0?{stroke:{color:n.color,width:n.width,opacity:n.opacity,dashType:n.dashType}}:{},r=i.color,a={color:r,opacity:i.opacity},l=this.createSegment(e,v({fill:a,stroke:{opacity:i.opacity},zIndex:i.zIndex},o));t.append(l),Dr(i)&&t.append(this.createGradientOverlay(l,{baseColor:r,fallbackFill:a},v({center:[e.center.x,e.center.y],innerRadius:e.innerRadius,radius:e.radius,userSpace:!0},i.overlay)))}createSegment(t,e){return e.singleSegment?new _.Circle(new T.Circle(new T.Point(t.center.x,t.center.y),t.radius),e):uo.current.createRing(t,e)}createAnimation(){let{options:t,sector:{center:e}}=this;v(t,{animation:{center:[e.x,e.y],delay:this.animationDelay}}),super.createAnimation()}createHighlight(t){let e=this.options.highlight||{},i=e.border||{};return this.createSegment(this.sector,v({},t,{fill:{color:e.color,opacity:e.opacity},stroke:{opacity:i.opacity,width:i.width,color:i.color}}))}highlightVisual(){return this.visual.children[0]}highlightVisualArgs(){let t=this.sector;return{options:this.options,radius:t.radius,innerRadius:t.innerRadius,center:new T.Point(t.center.x,t.center.y),startAngle:t.startAngle,endAngle:t.angle+t.startAngle,visual:this.visual}}createFocusHighlight(t){let e=this.options.accessibility.highlight.border.width,i=this.createSegment(this.sector,v({},t,{stroke:{width:e*2}})),n=new _.MultiPath;return n.paths.push(_.Path.fromRect(i.bbox())),n.paths.push(this.createSegment(this.sector,{})),i.clip(n),i}tooltipAnchor(){let t=this.sector.clone().expand(Qe),e=t.middle();return{point:t.point(e),align:mO(e+180)}}formatValue(t){return this.owner.formatPointValue(this,t)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}}getIndex(){return this.index}},pO=R(jt(30),10),uO=R(jt(60),10);function mO(s){let t=jt(s),e=R(Math.sin(t),10),i=R(Math.cos(t),10),n;Math.abs(e)>uO?n=$:i<0?n=dt:n=K;let o;return Math.abs(e)<pO?o=$:e<0?o=lt:o=nt,{horizontal:n,vertical:o}}b(Uc,{color:ct,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:Op,margin:at(.5),align:ne,zIndex:1,position:Kn},animation:{type:Ui},highlight:{visible:!0,border:{width:1}},visible:!0,accessibility:{role:di,className:pi,ariaRoleDescription:ui}});v(Uc.prototype,ve);v(Uc.prototype,En);var L1=Uc;var fO={createLegendItem:function(s,t,e){let i=this.options.legend||{},n=i.labels||{},o=i.inactiveItems||{},r=o.labels||{};if(e&&e.visibleInLegend!==!1){let a=e.visible!==!1,l=a?Dt(n):Dt(r)||Dt(n),c=e.category;l&&(c=l({text:c,series:e.series,dataItem:e.dataItem,percentage:e.percentage,value:s}));let h,d;a?(h={},d=t.color):(h={color:r.color,font:r.font},d=(o.markers||{}).color),ge(c)&&c!==""&&this.legendItems.push({active:a,pointIndex:e.index,text:c,series:e.series,markerColor:d,labels:h})}}},R1=fO;var gO=70,Gc=class extends tt{constructor(t,e){super(e),this.plotArea=t,this.chartService=t.chartService,this.points=[],this.legendItems=[],this.render()}render(){this.traverseDataPoints(this.addValue.bind(this))}traverseDataPoints(t){let{options:e,plotArea:{options:{seriesColors:i=[]}}}=this,n=i.length,o=e.series,r=o.length;for(let a=0;a<r;a++){let l=o[a],c=l.data,{total:h,points:d,count:p}=Dc(l),u=360/h,m;isFinite(u)||(m=360/p);let f;M(l.startAngle)?f=l.startAngle:f=e.startAngle,a!==r-1&&l.labels.position===Kn&&(l.labels.position=$);for(let g=0;g<d.length;g++){let x=d[g];if(!x)continue;let{fields:y,value:C,visible:S}=x,w=C!==0?m||C*u:0,I=c.length!==1&&!!y.explode;pt(l.color)||(l.color=y.color||i[g%n]),t(C,new As(null,0,0,f,w),{owner:this,category:M(y.category)?y.category:"",index:g,series:l,seriesIx:a,dataItem:c[g],percentage:h!==0?C/h:0,explode:I,visibleInLegend:y.visibleInLegend,visible:S,zIndex:r-a,animationDelay:this.animationDelay(g,a,r)}),S!==!1&&(f+=w)}}}evalSegmentOptions(t,e,i){let n=i.series;mi(t,{value:e,series:n,dataItem:i.dataItem,category:i.category,percentage:i.percentage},{defaults:n._defaults,excluded:["data","content","template","visual","toggle","ariaTemplate","ariaContent"]})}addValue(t,e,i){let n=v({},i.series,{index:i.index});if(this.evalSegmentOptions(n,t,i),this.createLegendItem(t,n,i),i.visible===!1)return;let o=new L1(t,e,n);Object.assign(o,i),this.append(o),this.points.push(o)}reflow(t){let{options:e,points:i,seriesConfigs:n=[]}=this,o=i.length,r=t.clone(),a=5,l=Math.min(r.width(),r.height()),c=l/2,h=l-l*.85,d=new k(r.x1,r.y1,r.x1+l,r.y1+l),p=d.center(),u=r.center(),m=e.series.length,f=[],g=[],x=q(e.padding,h);this.targetBox=t,x=x>c-a?c-a:x,d.translate(u.x-p.x,u.y-p.y);let y=c-x,C=new Y(y+d.x1+x,y+d.y1+x);for(let S=0;S<o;S++){let w=i[S],I=w.sector,D=w.seriesIx;if(I.radius=y,I.center=C,n.length){let F=n[D];I.innerRadius=F.innerRadius,I.radius=F.radius}D===m-1&&w.explode&&(I.center=I.clone().setRadius(I.radius*.15).point(I.middle())),w.reflow(d);let E=w.label;E&&E.options.position===Kn&&D===m-1&&(E.orientation===dt?g.push(E):f.push(E))}f.length>0&&(f.sort(this.labelComparator(!0)),this.leftLabelsReflow(f)),g.length>0&&(g.sort(this.labelComparator(!1)),this.rightLabelsReflow(g)),this.box=d}leftLabelsReflow(t){let e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)}rightLabelsReflow(t){let e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)}distanceBetweenLabels(t){let e=Pt(this.points),i=e.sector,n=t.length-1,o=i.radius+e.options.labels.distance,r=[],a=t[0].box,l=R(a.y1-(i.center.y-o-a.height()-a.height()/2));r.push(l);for(let c=0;c<n;c++){let h=t[c+1].box;a=t[c].box,l=R(h.y1-a.y2),r.push(l)}return l=R(i.center.y+o-t[n].box.y2-t[n].box.height()/2),r.push(l),r}distributeLabels(t,e){let i=t.length,n,o,r;for(let a=0;a<i;a++)for(r=-t[a],n=o=a;r>0&&(n>=0||o<i);)r=this._takeDistance(t,a,--n,r),r=this._takeDistance(t,a,++o,r);this.reflowLabels(t,e)}_takeDistance(t,e,i,n){let o=n;if(t[i]>0){let r=Math.min(t[i],o);o-=r,t[i]-=r,t[e]+=r}return o}reflowLabels(t,e){let i=Pt(this.points),n=i.sector,o=i.options.labels,r=e.length,a=o.distance,l=n.center.y-(n.radius+a)-e[0].box.height(),c;t[0]+=2;for(let h=0;h<r;h++){let d=e[h],p=d.box;l+=t[h],c=this.hAlignLabel(p.x2,n.clone().expand(a),l,l+p.height(),d.orientation===dt),d.orientation===dt?(o.align!==ne&&(c=n.radius+n.center.x+a),d.reflow(new k(c+p.width(),l,c,l))):(o.align!==ne&&(c=n.center.x-n.radius-a),d.reflow(new k(c-p.width(),l,c,l))),l+=p.height()}}createVisual(){let{options:{connectors:t},points:e}=this,i=e.length,n=4;super.createVisual(),this._connectorLines=[];for(let o=0;o<i;o++){let r=e[o],{sector:a,label:l}=r,c=a.middle(),h=(r.options.connectors||{}).color||t.color;if(l){let d=new _.Path({stroke:{color:h,width:t.width},animation:{type:hi,delay:r.animationDelay}});if(l.options.position===Kn){let p=l.box,u=a.center,m=a.point(c),f=new Y(p.x1,p.center().y),g,x,y;m=a.clone().expand(t.padding).point(c),d.moveTo(m.x,m.y),l.orientation===dt?(x=new Y(p.x1-t.padding,p.center().y),y=Gw(u,m,f,x),f=new Y(x.x-n,x.y),y=y||f,y.x=Math.min(y.x,f.x),this.pointInCircle(y,a.center,a.radius+n)||y.x<a.center.x?(g=a.center.x+a.radius+n,r.options.labels.align!==_i?g<f.x?d.lineTo(g,m.y):d.lineTo(m.x+n*2,m.y):d.lineTo(g,m.y),d.lineTo(f.x,x.y)):(y.y=x.y,d.lineTo(y.x,y.y))):(x=new Y(p.x2+t.padding,p.center().y),y=Gw(u,m,f,x),f=new Y(x.x+n,x.y),y=y||f,y.x=Math.max(y.x,f.x),this.pointInCircle(y,a.center,a.radius+n)||y.x>a.center.x?(g=a.center.x-a.radius-n,r.options.labels.align!==_i?g>f.x?d.lineTo(g,m.y):d.lineTo(m.x-n*2,m.y):d.lineTo(g,m.y),d.lineTo(f.x,x.y)):(y.y=x.y,d.lineTo(y.x,y.y))),d.lineTo(x.x,x.y),this._connectorLines.push(d),this.visual.append(d)}}}}renderVisual(){if(super.renderVisual(),uc(this.options.series,t=>t.autoFit)){let t=this.targetBox,e=this.box.center(),i=this.visual.bbox();if(!i)return;let n=i.bottomRight(),o=Math.min((e.y-t.y1)/(e.y-i.origin.y),(t.y2-e.y)/(n.y-e.y),(e.x-t.x1)/(e.x-i.origin.x),(t.x2-e.x)/(n.x-e.x));o<1&&this.visual.transform(T.transform().scale(o,o,[e.x,e.y]))}}labelComparator(t){let e=t?-1:1;return function(i,n){let o=(i.parent.sector.middle()+270)%360,r=(n.parent.sector.middle()+270)%360;return(o-r)*e}}hAlignLabel(t,e,i,n,o){let{radius:r,center:{x:a,y:l}}=e,c=Math.min(Math.abs(l-i),Math.abs(l-n));return c>r?t:a+Math.sqrt(r*r-c*c)*(o?1:-1)}pointInCircle(t,e,i){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(i,2)}formatPointValue(t,e){return this.chartService.format.auto(e,t.value)}animationDelay(t){return t*gO}stackRoot(){return this}};function Gw(s,t,e,i){let n=(i.x-e.x)*(s.y-e.y)-(i.y-e.y)*(s.x-e.x),o=(i.y-e.y)*(t.x-s.x)-(i.x-e.x)*(t.y-s.y),r;if(o!==0){let a=n/o;r=new Y(s.x+a*(t.x-s.x),s.y+a*(t.y-s.y))}return r}b(Gc,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}});v(Gc.prototype,R1);Gc.prototype.isStackRoot=!0;var O1=Gc;var Y8=class extends Ke{render(){this.createPieChart(this.series)}createPieChart(t){let e=t[0],i=new O1(this,{series:t,padding:e.padding,startAngle:e.startAngle,connectors:e.connectors,legend:this.options.legend});this.appendChart(i)}appendChart(t,e){super.appendChart(t,e),Bi(this.options.legend.data,t.legendItems)}getPointBelow(t){return this.getPointToTheRight(t)}getPointAbove(t){return this.getPointToTheLeft(t)}},V1=Y8;var B1=class extends L1{reflowLabel(){let{options:{labels:t},label:e}=this,i=this.sector.clone(),n=i.middle();if(e){let o=e.box.height();if(t.position===$){i.radius-=(i.radius-i.innerRadius)/2;let r=i.point(n);e.reflow(new k(r.x,r.y-o/2,r.x,r.y))}else super.reflowLabel()}}createSegment(t,e){return uo.current.createRing(t,e)}};b(B1,{overlay:{gradient:"roundedGlass"},labels:{position:$},animation:{type:Ui}});v(B1.prototype,ve);var H1=B1;var vO=50,vf=class extends O1{addValue(t,e,i){let n=v({},i.series,{index:i.index});if(this.evalSegmentOptions(n,t,i),this.createLegendItem(t,n,i),i.visible===!1)return;let o=new H1(t,e,n);Object.assign(o,i),this.append(o),this.points.push(o)}reflow(t){let e=this.options,i=t.clone(),n=5,o=Math.min(i.width(),i.height()),r=o/2,a=o-o*.85,l=e.series,c=l.length,h=q(e.padding,a);h=h>r-n?r-n:h;let d=r-h,p=0,u;for(let y=0;y<c;y++){let C=l[y];y===0&&M(C.holeSize)&&(u=C.holeSize,d-=C.holeSize),M(C.size)?d-=C.size:p++,M(C.margin)&&y!==c-1&&(d-=C.margin)}M(u)||(u=(r-h)/(c+.75)*.75,d-=u);let m=u,f=0,g,x;this.seriesConfigs=[];for(let y=0;y<c;y++){let C=l[y];g=q(C.size,d/p),m+=f,x=m+g,this.seriesConfigs.push({innerRadius:m,radius:x}),f=C.margin||0,m=x}super.reflow(t)}animationDelay(t,e,i){return t*vO+we*(e+1)/(i+1)}};b(vf,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});var X8=vf;var $8=class extends V1{render(){this.createDonutChart(this.series)}createDonutChart(t){let e=t[0],i=new X8(this,{series:t,padding:e.padding,connectors:e.connectors,legend:this.options.legend});this.appendChart(i)}getPointBelow(t){return this._getNextPoint(t,this._pointsByVertical,-1)}getPointAbove(t){return this._getNextPoint(t,this._pointsByVertical,1)}},Q8=$8;var xO=.15,Z8=class extends Ke{initFields(){this.valueAxisRangeTracker=new Lr}render(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()}alignAxes(){let t=this.valueAxis,e=t.range(),i=t.options.reverse?e.max:e.min,n=t.getSlot(i),o=this.polarAxis.getSlot(0).center,r=t.box.translate(o.x-n.x1,o.y-n.y1);t.reflow(r)}createValueAxis(){let t=this.valueAxisRangeTracker,e=t.query(),i=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1}),n,o;i.type===ja?(n=Rv,o={min:.1,max:1}):(n=Lv,o={min:0,max:1});let r=t.query(name)||e||o;r&&e&&(r.min=Math.min(r.min,e.min),r.max=Math.max(r.max,e.max));let a=new n(r.min,r.max,i,this.chartService);this.valueAxis=a,this.appendAxis(a)}reflowAxes(){let{options:{plotArea:t},valueAxis:e,polarAxis:i,box:n}=this,o=Math.min(n.width(),n.height())*xO,r=at(t.padding||{},o),a=n.clone().unpad(r),l=a.clone();l.y2=l.y1+Math.min(l.width(),l.height()),l.align(a,H,$);let c=l.clone().shrink(0,l.height()/2);i.reflow(l),e.reflow(c);let h=e.lineBox().height()-e.box.height();e.reflow(e.box.unpad({top:h})),this.axisBox=l,this.alignAxes(l)}backgroundBox(){return this.box}detachLabels(){}},xf=Z8;var yf=class extends To{pointSlot(t,e){let i=t.center.y-e.y1,n=Y.onCircle(t.center,t.startAngle,i);return new k(n.x,n.y,n.x,n.y)}};b(yf,{clip:!1});var bf=yf;var N1=class extends D1{};N1.prototype.pointSlot=bf.prototype.pointSlot;b(N1,{clip:!1});var _f=N1;var K8=class extends qa{fillToAxes(t){let e=this._polarAxisCenter();t.lineTo(e.x,e.y)}_polarAxisCenter(){return this.parent.plotArea.polarAxis.box.center()}strokeSegments(){let t=this._strokeSegments;if(!t){let e=this._polarAxisCenter(),i=new vo(!1),n=this.points();n.push(e),t=this._strokeSegments=i.process(n),t.pop()}return t}},Ww=K8;var J8=class extends sn{fillToAxes(t){let i=this.parent.plotArea.polarAxis.box.center(),n=new T.Segment([i.x,i.y]);t.segments.unshift(n),t.segments.push(n)}},qw=J8;var t5=class extends _f{createSegment(t,e,i){let n=(e.line||{}).style,o;return n===In?o=new Ww(t,e,i):o=new qw(t,e,i),o}createMissingValue(t,e){let i;return ge(t.x)&&e!==zs&&(i={x:t.x,y:t.y},e===Ze&&(i.y=0)),i}seriesMissingValues(t){return t.missingValues||Ze}_hasMissingValuesGap(){let t=this.options.series;for(let e=0;e<t.length;e++)if(this.seriesMissingValues(t[e])===Wv)return!0}sortPoints(t){if(t.sort(yO),this._hasMissingValuesGap())for(let e=0;e<t.length;e++){let i=t[e];if(i){let n=i.value;!ge(n.y)&&this.seriesMissingValues(i.series)===Wv&&delete t[e]}}return t}};function yO(s,t){return s.value.x-t.value.x}var Yw=t5;var F1=class extends xf{createPolarAxis(){let t=new Pv(this.options.xAxis,this.chartService);this.polarAxis=t,this.axisX=t,this.appendAxis(t)}render(){this.series=[...this.originalSeries],this.createTrendlineSeries(),super.render()}valueAxisOptions(t){return v(t,{majorGridLines:{type:gn},minorGridLines:{type:gn}},this.options.yAxis)}createValueAxis(){super.createValueAxis(),this.axisY=this.valueAxis}trendlineFactory(t,e){let i=jc.prototype.trendlineFactory.call(this,t,e);return i&&(i.type=Mc),i}appendChart(t,e){this.valueAxisRangeTracker.update(t.yAxisRanges),Ke.prototype.appendChart.call(this,t,e)}createCharts(){let t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createLineChart(It(t,[Mc]),e),this.createScatterChart(It(t,[n1]),e),this.createAreaChart(It(t,[i1]),e)}createLineChart(t,e){if(t.length===0)return;let i=new _f(this,{series:t});this.appendChart(i,e)}createScatterChart(t,e){if(t.length===0)return;let i=new bf(this,{series:t});this.appendChart(i,e)}createAreaChart(t,e){if(t.length===0)return;let i=new Yw(this,{series:t});this.appendChart(i,e)}_dispatchEvent(t,e,i){let n=t._eventCoordinates(e),o=new Y(n.x,n.y),r=this.axisX.getValue(o),a=this.axisY.getValue(o);r!==null&&a!==null&&t.trigger(i,{element:Ee(e),x:r,y:a})}createCrosshairs(){}};b(F1,{xAxis:{},yAxis:{}});v(F1.prototype,es,{seriesValues:jc.prototype.seriesValues});var Xw=F1;function bO(s){let t=[];for(let e=0;e<s.length;e++){let i=s[e];t[i.seriesIx]=t[i.seriesIx]||[],t[i.seriesIx].push(i)}return t}var wf=class extends Wa{pointSlot(t,e){let i=t.center.y-e.y1,n=Y.onCircle(t.center,t.middle(),i);return new k(n.x,n.y,n.x,n.y)}renderSegments(){if(super.renderSegments(),this._segments&&this._segments.length>1){let t=bO(this._segments);for(let e=0;e<t.length;e++){let i=t[e];if(i&&i.length>1){let n=i[0].linePoints[0],o=Pt(i),r=Pt(o.linePoints),a=n.categoryIx===0,l=r.categoryIx===r.categoriesCount-1;a&&l&&Pt(i).linePoints.push(n)}}}}createSegment(t,e,i){let n=e.style,o;n===In?o=Ga:o=nn;let r=new o(t,e,i),a=this.seriesMissingValues(e);return(t.length===e.data.length||a===zs)&&(r.options.closed=!0),r}};b(wf,{clip:!1,limitPoints:!1});var Cf=wf;var e5=class extends qa{fillToAxes(){}},$w=e5;var i5=class extends sn{fillToAxes(){}},Qw=i5;var n5=class extends Cf{createSegment(t,e,i,n){let o=this.options.isStacked,r=(e.line||{}).style,a,l,c;return o&&i>0&&n&&(l=n.linePoints.slice(0),a=n),r===In?(c=new $w(t,e,i,a,l),c.options.closed=!0):(t.push(t[0]),c=new Qw(t,e,i,a,l)),c}seriesMissingValues(t){return t.missingValues||Ze}},Zw=n5;var Sf=class extends H1{constructor(t,e){super(t,null,e)}getIndex(){return this.categoryIx}};b(Sf,{overlay:{gradient:"none"},labels:{distance:10}});var Kw=Sf;var Mf=class extends tt{constructor(t){super(t),this.forEach=t.rtl?km:Em}reflow(t){let{options:e,children:i}=this,{gap:n,spacing:o}=e,r=i.length,a=r+n+o*(r-1),l=t.angle/a,c=t.startAngle+l*(n/2);this.forEach(i,h=>{let d=t.clone();d.startAngle=c,d.angle=l,h.sector&&(d.radius=h.sector.radius),h.reflow(d),h.sector=d,c+=l+l*o})}};b(Mf,{gap:1,spacing:0});var Jw=Mf;var s5=class extends tt{reflow(t){let{options:{reverse:e},children:i}=this,n=i.length,o=e?n-1:0,r=e?-1:1;this.box=new k;for(let a=o;a>=0&&a<n;a+=r){let l=i[a].sector;l.startAngle=t.startAngle,l.angle=t.angle}}},tC=s5;var j1=class extends ts{pointType(){return Kw}clusterType(){return Jw}stackType(){return tC}categorySlot(t,e){return t.getSlot(e)}pointSlot(t,e){let i=t.clone(),n=t.center.y;return i.radius=n-e.y1,i.innerRadius=n-e.y2,i}reflowPoint(t,e){t.sector=e,t.reflow()}createAnimation(){this.options.animation.center=this.box.toRect().center(),super.createAnimation()}};j1.prototype.reflow=Ci.prototype.reflow;b(j1,{clip:!1,limitPoints:!1,animation:{type:"pie"}});var eC=j1;var U1=class extends xf{createPolarAxis(){let t=new bc(this.options.categoryAxis,this.chartService);this.polarAxis=t,this.categoryAxis=t,this.appendAxis(t),this.aggregateCategories(),this.createTrendlineSeries(),this.createCategoryAxesLabels()}valueAxisOptions(t){return this._hasBarCharts&&v(t,{majorGridLines:{type:gn},minorGridLines:{type:gn}}),this._isStacked100&&v(t,{roundToMajorUnit:!1,labels:{format:"P0"}}),v(t,this.options.valueAxis)}aggregateCategories(){on.prototype.aggregateCategories.call(this,this.panes)}createCategoryAxesLabels(){on.prototype.createCategoryAxesLabels.call(this,this.panes)}filterSeries(t){return t}trendlineFactory(t,e){let i=on.prototype.trendlineFactory.call(this,t,e);return i&&(i.type=bo),i}createCharts(){let t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createAreaChart(It(t,[Cr]),e),this.createLineChart(It(t,[bo]),e),this.createBarChart(It(t,[Ac]),e)}chartOptions(t){let e={series:t},i=t[0];if(i){let n=this.filterVisibleSeries(t),o=i.stack;e.isStacked=o&&n.length>1,e.isStacked100=o&&o.type==="100%"&&n.length>1,e.isStacked100&&(this._isStacked100=!0)}return e}createAreaChart(t,e){if(t.length===0)return;let i=new Zw(this,this.chartOptions(t));this.appendChart(i,e)}createLineChart(t,e){if(t.length===0)return;let i=new Cf(this,this.chartOptions(t));this.appendChart(i,e)}createBarChart(t,e){if(t.length===0)return;let i=t[0],n=this.chartOptions(t),o=this.filterVisibleSeries(t),r=o.some(c=>c.stack),a=o.some(c=>c.stack&&c.stack.type==="100%");n.gap=i.gap,n.spacing=i.spacing,n.defaultStack=i.stack&&o.length>1,n.isStacked=r&&o.length>1,n.isStacked100=a&&o.length>1;let l=new eC(this,n);this.appendChart(l,e),this._hasBarCharts=!0}seriesCategoryAxis(){return this.categoryAxis}_dispatchEvent(t,e,i){let n=t._eventCoordinates(e),o=new Y(n.x,n.y),r=this.categoryAxis.getCategory(o),a=this.valueAxis.getValue(o);r!==null&&a!==null&&t.trigger(i,{element:Ee(e),category:r,value:a})}createCrosshairs(){}_pointsByVertical(t){return super._pointsByVertical(t).sort(this._getSeriesCompareFn())}_getSeriesCompareFn(){return(t,e)=>e.value-t.value}};v(U1.prototype,es,{appendChart:on.prototype.appendChart,aggregateSeries:on.prototype.aggregateSeries,seriesSourcePoints:on.prototype.seriesSourcePoints,seriesValues:on.prototype.seriesValues});b(U1,{categoryAxis:{categories:[]},valueAxis:{}});var iC=U1;var Wc=class extends tt{constructor(t,e,i){super(e),this.value=t,this.options.index=i.index}getLabelText(t){let e=Dt(t);return e?e(this.pointData()):t.format?this.formatValue(t.format):this.value}reflow(t){let e=this.points,i=this.children[0],n=Math.min(e[0].x,e[3].x),o=Math.max(e[1].x,e[2].x);this.box=new k(n,e[0].y,o,e[2].y),i&&i.reflow(new k(t.x1,e[0].y,t.x2,e[2].y))}createVisual(){let t=this.options,e;super.createVisual(),this.addAccessibilityAttributesToVisual(),t.visual?e=t.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:t,sender:this.getSender(),createVisual:()=>this.createPath()}):e=this.createPath(),e&&this.visual.append(e)}createPath(){let t=this.options,e=t.border;return _.Path.fromPoints(this.points,{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.color,opacity:e.opacity,width:e.width}}).close()}createHighlight(t){return _.Path.fromPoints(this.points,t)}highlightVisual(){return this.visual.children[0]}highlightVisualArgs(){let t=_.Path.fromPoints(this.points).close();return{options:this.options,path:t}}createFocusHighlight(t){let e=this.options.accessibility.highlight.border.width,i=_.Path.fromPoints(this.points,v({},t,{stroke:{width:e*2}})).close(),n=new _.MultiPath;return n.paths.push(_.Path.fromRect(this.box.clone().pad(e).toRect())),n.paths.push(_.Path.fromPoints(this.points)),i.clip(n),i}tooltipAnchor(){let t=this.box;return{point:new Y(t.center().x,t.y1),align:{horizontal:"center",vertical:"top"}}}formatValue(t){let e=this;return e.owner.formatPointValue(e,t)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}}getIndex(){return this.index}};b(Wc,{color:ct,border:{width:1},labels:{format:""},accessibility:{role:di,className:pi,ariaRoleDescription:ui}});v(Wc.prototype,ve);v(Wc.prototype,En);var nC=Wc;var G1=class extends tt{constructor(t,e){super(e),this.plotArea=t,this.chartService=t.chartService,this.points=[],this.labels=[],this.legendItems=[],this.render()}formatPointValue(t,e){return this.plotArea.chartService.format.auto(e,t.value)}render(){let{options:e,plotArea:{options:{seriesColors:i=[]}}}=this,n=e.series[0],o=n.data;if(!o)return;let{total:r,points:a}=Dc(n);for(let l=0;l<a.length;l++){let c=a[l];if(!c)continue;let h=c.fields;pt(n.color)||(n.color=h.color||i[l%i.length]),h=v({index:l,owner:this,series:n,seriesIx:0,dataItem:o[l],percentage:c.value/r},h,{visible:c.visible});let d=c.valueFields.value,p=this.createSegment(d,h),u=this.createLabel(d,h);p&&u&&p.append(u)}}evalSegmentOptions(t,e,i){let n=i.series;mi(t,{value:e,series:n,dataItem:i.dataItem,index:i.index},{defaults:n._defaults,excluded:["data","content","template","toggle","visual","ariaTemplate","ariaContent"]})}createSegment(t,e){let i=v({},e.series);if(this.evalSegmentOptions(i,t,e),this.createLegendItem(t,i,e),e.visible!==!1){let n=new nC(t,i,e);return Object.assign(n,e),this.append(n),this.points.push(n),n}}createLabel(t,e){let{series:i,dataItem:n}=e,o=v({},this.options.labels,i.labels),r=t;if(o.visible){let a=Dt(o),l={dataItem:n,value:t,percentage:e.percentage,category:e.category,series:i};a?r=a(l):o.format&&(r=this.chartService.format.auto(o.format,r)),o.color||(o.color=ho(i.color),o.background||(o.background=i.color)),this.evalSegmentOptions(o,t,e);let c=new Gt(r,v({vAlign:o.position},o),l);return this.labels.push(c),c}}labelPadding(){let t=this.labels,e={left:0,right:0};for(let i=0;i<t.length;i++){let o=t[i].options.align;if(o!==$){let r=t[i].box.width();o===K?e.left=Math.max(e.left,r):e.right=Math.max(e.right,r)}}return e}dynamicSlopeReflow(t,e,i){let{options:n,points:o}=this,r=o.length,a=o[0],l=a;for(let p=0;p<o.length;p++)o[p].percentage>l.percentage&&(l=o[p]);let c=a.percentage/l.percentage*e,h=(e-c)/2,d=0;for(let p=0;p<r;p++){let u=o[p].percentage,m=o[p+1],f=m?m.percentage:u,g=o[p].points=[],x=n.dynamicHeight?i*u:i/r,y;u?y=(e-c*(f/u))/2:y=f?0:e/2,y=W(y,0,e),g.push(new T.Point(t.x1+h,t.y1+d)),g.push(new T.Point(t.x1+e-h,t.y1+d)),g.push(new T.Point(t.x1+e-y,t.y1+x+d)),g.push(new T.Point(t.x1+y,t.y1+x+d)),h=y,d+=x+n.segmentSpacing,c=W(e-2*y,0,e)}}constantSlopeReflow(t,e,i){let{options:n,points:o}=this,r=o.length,a=n.neckRatio<=1,l=a?n.neckRatio*e:e,c=a?0:(e-e/n.neckRatio)/2,d=((a?e:e-c*2)-l)/2,p=0;for(let u=0;u<r;u++){let m=o[u].points=[],f=o[u].percentage,g=n.dynamicHeight?d*f:d/r,x=n.dynamicHeight?i*f:i/r;m.push(new T.Point(t.x1+c,t.y1+p)),m.push(new T.Point(t.x1+e-c,t.y1+p)),m.push(new T.Point(t.x1+e-c-g,t.y1+x+p)),m.push(new T.Point(t.x1+c+g,t.y1+x+p)),c+=g,p+=x+n.segmentSpacing}}reflow(t){let e=this.points,i=e.length;if(!i)return;let n=this.options,o=t.clone().unpad(this.labelPadding()),r=o.height()-n.segmentSpacing*(i-1),a=o.width();n.dynamicSlope?this.dynamicSlopeReflow(o,a,r):this.constantSlopeReflow(o,a,r);for(let l=0;l<i;l++)e[l].reflow(t)}};b(G1,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:$,position:$,zIndex:1}});v(G1.prototype,R1);var Af=G1;var _O=1e6,o5=class extends Af{constructor(t,e){e.dynamicSlope=!1,e.neckRatio=_O,super(t,e)}},sC=o5;var r5=class extends Ke{render(){this.createChart(Af,It(this.series,[br])),this.createChart(sC,It(this.series,[_r]))}createChart(t,e){let i=e[0];if(!i)return;let n=new t(this,{series:e,legend:this.options.legend,neckRatio:i.neckRatio,dynamicHeight:i.dynamicHeight,dynamicSlope:i.dynamicSlope,segmentSpacing:i.segmentSpacing,highlight:i.highlight});this.appendChart(n)}appendChart(t,e){super.appendChart(t,e),Bi(this.options.legend.data,t.legendItems)}_pointsByVertical(t){return this.pointsBySeriesIndex(t.series.index)}getPointToTheRight(t){return this.getPointBelow(t)}getPointToTheLeft(t){return this.getPointAbove(t)}},oC=r5;var wO=(s,t=.05)=>{let e=eo(s),i=1-t;return n=>{let o=e.toHSL(),r=100-o.l,a=i-n;return o.l+=Math.min(a*r,r),o.toCss()}},rC=wO;var Ja=class extends tt{constructor(t,e){super(),this.options=e,this.color=e.color||ct,this.value=t}render(){this._rendered||(this._rendered=!0,this.createMarker(),this.createLabel(),this.createNote())}createLabel(){let e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))}createLabelElement(t){let e=t.color;return e||(e=ho(this.color)),new Gt(this.getLabelText(t),v({align:$,vAlign:$,margin:{left:5,right:5},zIndex:q(t.zIndex,this.series.zIndex)},t,{color:e}),this.pointData())}getLabelText(t){let e=Dt(t);return e?e(this.pointData()):this.formatValue(t.format)}formatValue(t){return this.owner.formatPointValue(this,t)}reflow(t){this.render();let e=this.label;this.box=t,e&&e.reflow(this.markerBox()),this.note&&this.note.reflow(t),this.marker.reflow(this.markerBox())}createVisual(){super.createVisual(),this.addAccessibilityAttributesToVisual()}markerBox(){let e=this.options.markers,i=e.border,n=this.box.toRect(),r=q(e.type,"rect")===Np,a=q(i.width,r?1:0),l=Math.round(a/2);if(e.size){let c=n.center();n.size.width=n.size.height=e.size,n.origin.x=Math.round(c.x-n.size.width/2),n.origin.y=Math.round(c.y-n.size.height/2)}return n.size.width-=a,n.size.height-=a,n.origin.y+=l+.5,n.origin.x+=l+.5,Ki(n)}markerBorder(){let t=this.options,i=t.markers.border,n=q(i.opacity,t.opacity);return{color:i.color||this.color,width:i.width,opacity:n,dashType:i.dashType}}createMarker(){let t=this.options,e=t.markers,i=new ee({type:q(e.type,"rect"),width:e.size,height:e.size,rotation:e.rotation,background:this.color,border:this.markerBorder(),borderRadius:e.borderRadius,opacity:this.series.opacity||t.opacity,zIndex:q(t.zIndex,this.series.zIndex),animation:t.animation,visual:t.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});this.marker=i,this.append(i)}createHighlight(t){let e=this.options,i=this.options.highlight.markers||this.options.markers,n=new ee({type:q(i.type,"rect"),width:i.size,height:i.size,rotation:i.rotation,background:i.color||this.color,border:this.markerBorder(),borderRadius:i.borderRadius,opacity:this.series.opacity||e.opacity,zIndex:q(e.zIndex,this.series.zIndex)});n.reflow(this.markerBox());let o=n.getElement();return o.options.fill=t.fill,o.options.stroke=t.stroke,o}highlightVisual(){return this.rectVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}}createFocusHighlight(){let t=this.options.markers,e=this.options.accessibility.highlight,i=new ee({type:q(t.type,"rect"),width:t.size,height:t.size,rotation:t.rotation,background:e.color,border:e.border,borderRadius:t.borderRadius,padding:e.border.width/2,zIndex:e.zIndex});return i.reflow(this.markerBox()),i.getElement()}tooltipAnchor(){let t=this.box.center().x,e=this.box.y1-Qe;return{point:new Y(t,e),align:{horizontal:$,vertical:lt}}}overlapsBox(t){return this.box.overlaps(t)}unclipElements(){}pointData(){return{x:this.value.x,y:this.value.y,value:this.value.value,dataItem:this.dataItem,series:this.series}}};v(Ja.prototype,ve);v(Ja.prototype,zn);v(Ja.prototype,En);Ja.prototype.defaults={markers:{type:"rect",borderRadius:4,border:{color:"transparent"}},padding:{top:1},labels:{visible:!1,padding:3},opacity:1,notes:{label:{}},accessibility:{role:di,className:pi,ariaRoleDescription:ui}};var a5=Ja;var Tf=class extends tt{constructor(t,e){super(e),this.plotArea=t,this.chartService=t.chartService,this._initFields(),this.render()}_initFields(){this.points=[],this.seriesOptions=[],this.valueRange={min:yt,max:Tt},this._evalSeries=[]}render(){this.setRange(),this.traverseDataPoints(this.addValue.bind(this))}setRange(){let{options:{series:t}}=this;for(let e=0;e<t.length;e++){let i=t[e];for(let n=0;n<i.data.length;n++){let{valueFields:o}=this.plotArea.bindPoint(i,n);M(o.value)&&o.value!==null&&(this.valueRange.min=Math.min(this.valueRange.min,o.value),this.valueRange.max=Math.max(this.valueRange.max,o.value))}}}addValue(t,e){let i;t&&M(t.value)&&t.value!==null&&(i=this.createPoint(t,e),i&&Object.assign(i,e)),this.points.push(i)}evalPointOptions(t,e,i){let{series:n,seriesIx:o}=i,r={defaults:n._defaults,excluded:["data","tooltip","content","template","visual","toggle","drilldownSeriesFactory","ariaTemplate","ariaContent"]},a=this._evalSeries[o];M(a)||(this._evalSeries[o]=a=mi(t,{},r,!0));let l=t;return a&&(l=v({},t),mi(l,{value:e,series:n,dataItem:i.dataItem,min:this.valueRange.min,max:this.valueRange.max},r)),l}pointType(){return a5}pointOptions(t,e){let i=this.seriesOptions[e];if(!i){let n=this.pointType().prototype.defaults;this.seriesOptions[e]=i=v({},n,{markers:{opacity:t.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},t)}return i}createPoint(t,e){let i=e.series,n=this.pointOptions(i,e.seriesIx),o=e.color||i.color;n=this.evalPointOptions(n,t,e),pt(i.color)?o=n.color:this.valueRange.max!==0&&(o=rC(o)(t.value/this.valueRange.max));let r=new a5(t,n);return r.color=o,this.append(r),r}seriesAxes(t){let{xAxis:e,yAxis:i}=t,n=this.plotArea,o=e?n.namedXAxes[e]:n.axisX,r=i?n.namedYAxes[i]:n.axisY;if(!o)throw new Error("Unable to locate X axis with name "+e);if(!r)throw new Error("Unable to locate Y axis with name "+i);return{xAxis:o,yAxis:r}}reflow(t){let e=this.points,i=!this.options.clip,n=0;this.traverseDataPoints((o,r)=>{let a=e[n++],{xAxis:l,yAxis:c}=this.seriesAxes(r.series),h=l.categoryIndex(o.x),d=c.categoryIndex(o.y),p=l.getSlot(h,h,i),u=c.getSlot(d,d,i);if(a)if(p&&u){let m=this.pointSlot(p,u);a.reflow(m)}else a.visible=!1}),this.box=t}pointSlot(t,e){return new k(t.x1,e.y1,t.x2,e.y2)}traverseDataPoints(t){let{options:{series:e}}=this;for(let i=0;i<e.length;i++){let n=e[i],{xAxis:o,yAxis:r}=this.seriesAxes(n),a=o.currentRangeIndices(),l=r.currentRangeIndices();for(let c=0;c<n.data.length;c++){let{valueFields:h,fields:d}=this.plotArea.bindPoint(n,c),p=o.totalIndex(h.x),u=r.totalIndex(h.y),m=a.min<=p&&p<=a.max,f=l.min<=u&&u<=l.max;m&&f&&t(h,v({pointIx:c,series:n,seriesIx:i,dataItem:n.data[c],owner:this},d))}}}formatPointValue(t,e){let i=t.value;return this.chartService.format.auto(e,i.x,i.y,i.value)}animationPoints(){let t=this.points,e=[];for(let i=0;i<t.length;i++)e.push((t[i]||{}).marker);return e}};b(Tf,{series:[],tooltip:{format:"{0}, {1}: {2}"},labels:{format:"{2}"},clip:!0});var aC=Tf;var W1=class extends Ke{initFields(){this.namedXAxes={},this.namedYAxes={}}render(t=this.panes){this.bindCategories(),this.createAxes(t),this.createCharts(t),this.createAxisLabels()}bindCategories(){let t=this.srcSeries||this.series;for(let e=0;e<t.length;e++){let i=t[e],n=i.data||[],{xAxis:o,yAxis:r}=this.seriesAxes(i),a=V2(o.categories||[]),l=V2(r.categories||[]);for(let c=0;c<n.length;c++){let{x:h,y:d}=wt.current.bindPoint(i,c).valueFields;a.has(h)||a.add(h),l.has(d)||l.add(d)}o.categories=a.values(),r.categories=l.values()}}createCharts(t){let e=this.groupSeriesByPane();for(let i=0;i<t.length;i++){let n=t[i],o=e[n.options.name||"default"]||[];this.addToLegend(o);let r=this.filterVisibleSeries(o);r&&this.createHeatmapChart(It(r,[e1]),n)}}createHeatmapChart(t,e){let i=new aC(this,{series:t});this.appendChart(i,e)}seriesPaneName(t){let e=this.options,i=t.xAxis,n=[].concat(e.xAxis),o=fe(n,function(p){return p.name===i})[0],r=t.yAxis,a=[].concat(e.yAxis),l=fe(a,function(p){return p.name===r})[0],h=(e.panes||[{}])[0].name||"default";return(o||{}).pane||(l||{}).pane||h}seriesAxes(t){let e,i,n=this.options,o=[].concat(n.xAxis),r=t.xAxis;r?e=o.find(c=>c.name===r):e=o[0];let a=[].concat(n.yAxis),l=t.yAxis;if(l?i=a.find(c=>c.name===l):i=a[0],!e)throw new Error("Unable to locate X axis with name "+r);if(!i)throw new Error("Unable to locate Y axis with name "+l);return{xAxis:e,yAxis:i}}createAxisLabels(){let t=this.axes;for(let e=0;e<t.length;e++)t[e].createLabels()}createXYAxis(t,e,i){let n=t.name,o=e?this.namedYAxes:this.namedXAxes,r=Object.assign({axisCrossingValue:0},t,{vertical:e,reverse:e||this.chartService.rtl?!t.reverse:t.reverse,justified:!1}),a=r.categories?r.categories[0]:null,l=[r.min,r.max,a],c=this.series;for(let u=0;u<c.length;u++){let m=c[u],f=m[e?"yAxis":"xAxis"];if(f===r.name||i===0&&!f){let g=wt.current.bindPoint(m,0).valueFields;l.push(g[e?"y":"x"]);break}}let h;for(let u=0;u<l.length;u++)if(l[u]instanceof Date){h=!0;break}let d;wi(r.type,ii)||!r.type&&h?d=$n:d=ci;let p=new d(r,this.chartService);if(p.axisIndex=i,n){if(o[n])throw new Error(`${e?"Y":"X"} axis with name ${n} is already defined`);o[n]=p}return this.appendAxis(p),p.indexCategories(),p}createAxes(t){let e=this.options,i=[].concat(e.xAxis),n=[],o=[].concat(e.yAxis),r=[];for(let a=0;a<i.length;a++){let l=this.findPane(i[a].pane);J(l,t)&&n.push(this.createXYAxis(i[a],!1,a))}for(let a=0;a<o.length;a++){let l=this.findPane(o[a].pane);J(l,t)&&r.push(this.createXYAxis(o[a],!0,a))}this.axisX=this.axisX||n[0],this.axisY=this.axisY||r[0]}removeAxis(t){let e=t.options.name;super.removeAxis(t),t.options.vertical?delete this.namedYAxes[e]:delete this.namedXAxes[e],t===this.axisX&&delete this.axisX,t===this.axisY&&delete this.axisY}_dispatchEvent(t,e,i){let n=t._eventCoordinates(e),o=new Y(n.x,n.y),r=this.axes,a=r.length,l=[],c=[];for(let h=0;h<a;h++){let d=r[h],p=d.options.vertical?c:l;Er(p,d.getCategory(o))}l.length>0&&c.length>0&&t.trigger(i,{element:Ee(e),originalEvent:e,x:Jn(l),y:Jn(c)})}updateAxisOptions(t,e){let i=t.options.vertical,n=this.groupAxes(this.panes),o=(i?n.y:n.x).indexOf(t);lC(this.options,o,i,e),lC(this.originalOptions,o,i,e)}crosshairOptions(t){return Object.assign({},t.options.crosshair,{zIndex:0})}_pointsByVertical(t,e=0){let i=this.axisX.options.reverse?e*-1:e,n=this.axisX.children,o=this._getPointAxisXIndex(t)+i;o=lo(o,n.length);let r=n[o].value,a=this.filterPoints(l=>l5(l.pointData().x,r)).sort((l,c)=>this._getPointAxisYIndex(l)-this._getPointAxisYIndex(c));return this.axisY.options.reverse?a.reverse():a}_pointsByHorizontal(t,e=0){let i=this.axisY.options.reverse?e*-1:e,n=this.axisY.children,o=this._getPointAxisYIndex(t)+i;o=lo(o,n.length);let r=n[o].value,a=this.filterPoints(l=>l5(l.pointData().y,r)).sort((l,c)=>this._getPointAxisXIndex(l)-this._getPointAxisXIndex(c));return this.axisX.options.reverse?a.reverse():a}_getPointAxisXIndex(t){return this._getPointAxisIndex(this.axisX,t.pointData().x)}_getPointAxisYIndex(t){return this._getPointAxisIndex(this.axisY,t.pointData().y)}_getPointAxisIndex(t,e){return t.children.findIndex(i=>l5(e,i.value))}};function l5(s,t){return s instanceof Date&&t instanceof Date?Ts(s,t):s===t}function lC(s,t,e,i){let n=[].concat(e?s.yAxis:s.xAxis)[t];v(n,i)}b(W1,{xAxis:{},yAxis:{}});v(W1.prototype,es);var cC=W1;var an="color",rn="first",CO="from",Si="max",c5="min",ko="noteText",SO="summary",MO="to";kn.current.register(on,[We,_i,Ji,wo,ji,_o,xo,yo,Zn,Tr,Oa,Ar,Va,Mr,Ba,wr,Sr,Co,...So]);kn.current.register(jc,[s1,o1,Es,...So]);kn.current.register(V1,[Ui]);kn.current.register(Q8,[Sc]);kn.current.register(oC,[br,_r]);kn.current.register(Xw,[i1,Mc,n1,...So]);kn.current.register(iC,[Cr,Ac,bo,...So]);kn.current.register(cC,[e1]);wt.current.register([We,_i,Ji,wo,ji,_o],[$e],[tn,an,ko,cm,hm,ks]);wt.current.register([Va,Mr,Sr,Co],[CO,MO],[tn,an,ko,ks]);wt.current.register([Ba,wr],[$e],[tn,an,ko,SO,ks]);wt.current.register([i1,Mc,n1],[B,H],[an,ks]);wt.current.register([Cr,Ac,bo],[$e],[tn,an,ks]);wt.current.register([br,_r],[$e],[tn,an,"visibleInLegend","visible",ks]);Ps.current.register([We,_i,Ji,wo,ji,_o,Ba,wr],{value:Si,color:rn,noteText:rn,errorLow:c5,errorHigh:Si});Ps.current.register([Va,Mr,Sr,Co],{from:c5,to:Si,color:rn,noteText:rn});Ps.current.register([Cr,Ac,bo],{value:Si,color:rn});wt.current.register([s1,o1,Es],[B,H],[an,ko,Z_,K_,J_,tw]);wt.current.register([Es],[B,H,"size"],[an,tn,ko]);wt.current.register([e1],[B,H,$e],[an,ko]);wt.current.register([xo,yo],["open","high","low","close"],[tn,an,"downColor",ko]);Ps.current.register([xo,yo],{open:Si,high:Si,low:c5,close:Si,color:rn,downColor:rn,noteText:rn});wt.current.register([Oa,Ar],["lower","q1","median","q3","upper","mean","outliers"],[tn,an,ko,ks]);Ps.current.register([Oa,Ar],{lower:Si,q1:Si,median:Si,q3:Si,upper:Si,mean:Si,outliers:rn,color:rn,noteText:rn});wt.current.register([Zn,Tr],["current","target"],[tn,an,"visibleInLegend",ko,ks]);Ps.current.register([Zn,Tr],{current:Si,target:Si,color:rn,noteText:rn});wt.current.register([Ui,Sc],[$e],[tn,an,"explode","visibleInLegend","visible",ks]);var h5=[tn,$e,B,H],AO="mousedown",tl="mousemove",hC="contextmenu",dC="mouseleave",pC="keydown",uC="focus",mC="blur",TO=20,If=class extends z{constructor(t,e,i,n={}){super(),this.observers=[],this.addObserver(n.observer),this.chartService=new za(this,n),this.chartService.theme=i,this._initElement(t);let o=v({},this.options,e);this._originalOptions=v({},o),this._theme=i,this._initTheme(o,i),this._focusState={},this._initHandlers(),this._initSurface(),this.bindCategories(),sv.preloadFonts(e,()=>{this.fontLoaded=!0,this._destroyed||(this.trigger("init"),this._redraw(),this._attachEvents())})}_initElement(t){for(this._setElementClass(t),t.style.position="relative",t.tabIndex=t.getAttribute("tabindex")?t.getAttribute("tabindex"):0,t.setAttribute("role","graphics-document document");t.firstChild;)t.removeChild(t.firstChild);this.element=t}_setElementClass(t){bt(t,"k-chart")}_initTheme(t,e){let i=[],n=t.series||[];for(let o=0;o<n.length;o++)i.push(Object.assign({},n[o]));t.series=i,IO(t),this.applyDefaults(t,e),t.seriesColors===null&&delete t.seriesColors,oe(t.title)&&(t.title={text:t.title}),this.options=v({},e,t),this.applySeriesColors()}getSize(){let t=this.options.chartArea||{},e=t.width?parseInt(t.width,10):Math.floor(this.element.offsetWidth),i=t.height?parseInt(t.height,10):Math.floor(this.element.offsetHeight);return{width:e,height:i}}resize(t){let e=this.getSize(),i=this._size,n=e.width>0||e.height>0;t||n&&(!i||e.width!==i.width||e.height!==i.height)?(this._size=e,this._resize(e,t),this.trigger("resize",e)):n&&this._selections&&uc(this._selections,o=>!o.visible)&&(this._destroySelections(),this._setupSelection())}_resize(){this._noTransitionsRedraw()}redraw(t){if(this.applyDefaults(this.options),this.applySeriesColors(),t){let e=this._model._plotArea,i=e.findPane(t);e.redraw(i)}else this._redraw()}getAxis(t){return _c(t,this._plotArea.axes)}findAxisByName(t){return this.getAxis(t)}findPaneByName(t){let e=this._plotArea.panes;for(let i=0;i<e.length;i++)if(e[i].options.name===t)return new wc(e[i])}findPaneByIndex(t){let e=this._plotArea.panes;if(e[t])return new wc(e[t])}plotArea(){return new Fv(this._plotArea)}toggleHighlight(t,e){let i=this._plotArea,n=(i.srcSeries||i.series||[])[0],o;if(pt(e))o=i.filterPoints(e);else{let r,a;me(e)?(r=e.series,a=e.category):r=a=e,n.type===Sc?o=fC(i.pointsBySeriesName(r),a):J(n.type,[Ui,br,_r])?o=fC((i.charts[0]||{}).points,a):o=i.pointsBySeriesName(r)}o&&this.togglePointsHighlight(t,o)}togglePointsHighlight(t,e){let i=this._highlight;for(let n=0;n<e.length;n++)i.togglePointHighlight(e[n],t)}showTooltip(t){let e=this._sharedTooltip(),{_tooltip:i,_plotArea:n}=this,o,r;if(pt(t)?(o=n.findPoint(t),o&&e&&(r=o.categoryIx)):e&&M(t)&&(r=n.categoryAxis.categoryIndex(t)),e){if(r>=0){let a=this._plotArea.pointsByCategoryIndex(r);i.showAt(a)}}else o&&i.show(o)}hideTooltip(){this._tooltip.hide()}_initSurface(){let t=this.surface,e=this._surfaceWrap(),i=this.options.chartArea||{};i.width&&Qi(e,{width:i.width}),i.height&&Qi(e,{height:i.height}),!t||t.options.type!==this.options.renderAs?(this._destroySurface(),this.surface=_.Surface.create(e,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler)):(this.surface.clear(),this.surface.resize())}_surfaceWrap(){return this.element}_redraw(){let t=this._getModel();this._size={width:t.options.width,height:t.options.height},this._destroyView(),this._setElementAccessibilityAttributes(),this._model=t,this._plotArea=t._plotArea,this._legend=t._legend,t.renderVisual(),this.options.transitions!==!1&&t.traverse(function(e){e.animation&&e.animation.setup()}),this._initSurface(),this.surface.draw(t.visual),this.options.transitions!==!1&&t.traverse(function(e){e.animation&&e.animation.play()}),this._tooltip=this._createTooltip(),this._highlight=new V8,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this.trigger(sw),vC(this._plotArea.panes),this._navState||this._cancelDomEvents()}_setElementAccessibilityAttributes(){let t=this.options.title,e=oe(t)?t:t.description||t.text;e&&this.element.setAttribute("aria-roledescription",e)}exportVisual(t){let e;if(t&&(t.width||t.height||t.options)){let i=this.options,n=v({},t.options,{chartArea:{width:t.width,height:t.height}});d5(this._originalOptions,n),this.options=v({},this._originalOptions,n),this._initTheme(this.options,this._theme),this.bindCategories();let o=this._getModel();o.renderVisual(),vC(o._plotArea.panes),e=o.visual,this.options=i}else e=this.surface.exportVisual();return e}_sharedTooltip(){return this._plotArea instanceof on&&this.options.tooltip&&this.options.tooltip.shared}_createPannable(){let t=this.options;t.pannable!==!1&&(this._pannable=new B8(this._plotArea,t.pannable))}_createZoomSelection(){let t=this.options.zoomable,e=(t||{}).selection;t!==!1&&e!==!1&&(this._zoomSelection=new H8(this,e))}_createMousewheelZoom(){let t=this.options.zoomable,e=(t||{}).mousewheel;t!==!1&&e!==!1&&(this._mousewheelZoom=new F8(this,e))}_toggleDragZoomEvents(){let t=this.options.pannable,e=this.options.zoomable,i=(e||{}).selection,n=(e||{}).mousewheel,o=!t&&(e===!1||i===!1)&&!this.requiresHandlers([ym,Ha,Na]),r=(e===!1||n===!1)&&!this.requiresHandlers([Tc,Ir,zr]),a=this.element;this._dragZoomEnabled&&o&&r?(a.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):!this._dragZoomEnabled&&!(o&&r)&&(a.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!o,!r)}_toggleDomEvents(t,e){let i=this.domEvents;i&&(i.toggleDrag&&i.toggleDrag(t),i.toggleZoom&&i.toggleZoom(e))}_createTooltip(){let{options:{tooltip:t}}=this,e;return this._sharedTooltip()?e=this._createSharedTooltip(t):e=new q8(this.chartService,t),e}_createSharedTooltip(t){return new k1(this._plotArea,t)}applyDefaults(t,e){zO(t,e),EO(t,e)}applySeriesColors(){let t=this.options,e=t.series,i=t.seriesColors||[];for(let n=0;n<e.length;n++){let o=e[n],r=i[n%i.length],a=o._defaults;o.color=o.color||r,a&&(a.color=a.color||r)}}_getModel(){let t=this.options,e=this._createPlotArea(),i=new fv(this._modelOptions());i.chart=this,i._plotArea=e;let n=mo.buildTitle(t.title),o=mo.buildTitle(t.subtitle,{align:t.title.align,position:t.title.position});if(i.append.apply(i,mo.orderTitles([n,o])),t.legend&&t.legend.visible){let r=new I1(e.options.legend,this.chartService);i.append(r),i._legend=r}return i.append(e),i.reflow(),i}_modelOptions(){let t=this.options,e=this.getSize();return v({transitions:t.transitions,width:e.width||600,height:e.height||400},t.chartArea)}_createPlotArea(t){let e=this.options;return kn.current.create(t?[]:e.series,e,this.chartService)}_setupSelection(){let{_plotArea:{axes:t}}=this,e=this._selections=[];for(let i=0;i<t.length;i++){let n=t[i],o=n.options;if(n instanceof ci&&o.select&&!o.vertical){let r=n.range(),a=new E1(this,n,v({min:r.min,max:r.max},o.select));e.push(a)}}}_selectStart(t){return this.trigger(p1,t)}_select(t){return this.trigger(Fa,t)}_selectEnd(t){return this.trigger(u1,t)}_initHandlers(){this._clickHandler=this._click.bind(this),this._keydownHandler=this._keydown.bind(this),this._focusHandler=this._focus.bind(this),this._blurHandler=this._blur.bind(this),this._mousedownHandler=this._mousedown.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=Un(this._mousemove.bind(this),TO)}addObserver(t){t&&this.observers.push(t)}removeObserver(t){let e=this.observers.indexOf(t);e>=0&&this.observers.splice(e,1)}requiresHandlers(t){let e=this.observers;for(let i=0;i<e.length;i++)if(e[i].requiresHandlers(t))return!0}trigger(t,e={}){e.sender=this,t===bm?e.anchor.point=this._toDocumentCoordinates(e.anchor.point):t===fm?this._updateDrilldownPoint(e.point):t===gm?this._resetDrilldownPoint():t===um?(this._focusPoint(e.point),this._startDrilldown(e.point)):t===pm&&this._focusLegendItem(e);let i=this.observers,n=!1;for(let o=0;o<i.length;o++)i[o].trigger(t,e)&&(n=!0);return n}_attachEvents(){let t=this.element;this._touchAction=t.style.touchAction,Sa(t,{[hC]:this._clickHandler,[Ic]:this._mousewheelHandler,[dC]:this._mouseleaveHandler,[pC]:this._keydownHandler,[AO]:this._mousedownHandler,[uC]:this._focusHandler,[mC]:this._blurHandler}),this._shouldAttachMouseMove()&&Sa(t,{[tl]:this._mousemove}),this.domEvents=Ea.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()}_mouseleave(t){this._hoveredPoint&&(this._hoveredPoint.out(this,t),this._hoveredPoint=null),this._plotAreaHovered&&(this._plotAreaHovered=!1,this.trigger(xm)),this._hasInactiveOpacity()&&this._activeChartInstance&&(this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._updateSeriesOpacity(null,!0))}_cancelDomEvents(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()}_gesturestart(t){this._mousewheelZoom&&!this._stopChartHandlers(t)&&(this._gestureDistance=t.distance,this._unsetActivePoint(),this._clearFocusedElement(),this.surface.suspendTracking())}_gestureend(t){this._zooming&&!this._stopChartHandlers(t)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger(zr,{}))}_gesturechange(t){let e=this._mousewheelZoom;if(e&&!this._stopChartHandlers(t)){t.preventDefault();let i=this._gestureDistance,n=-t.distance/i+1;if(Math.abs(n)>=.1){n=Math.round(n*10),this._gestureDistance=t.distance;let o={delta:n,axisRanges:q1(this._plotArea.axes),originalEvent:t};if(this._zooming||!this.trigger(Tc,o)){let r=this._eventCoordinates(t);this._zooming||(this._zooming=!0),(o.axisRanges=e.updateRanges(n,r))&&!this.trigger(Ir,o)&&e.zoom()}}}}_mouseout(t){if(t.element){let e=this._drawingChartElement(t.element,t);e&&e.leave&&e.leave(this,t.originalEvent)}}_start(t){let e=this._eventCoordinates(t);this._stopChartHandlers(t)||!this._plotArea.backgroundContainsPoint(e)||(this.requiresHandlers([ym,Ha,Na])&&this._startNavigation(t,e,ym),this._pannable&&this._pannable.start(t)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._clearFocusedElement(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(t)&&this.trigger(Tc,{axisRanges:q1(this._plotArea.axes),originalEvent:t}))}_move(t){let{_navState:e,_pannable:i}=this;if(!this._stopChartHandlers(t)){if(i){let n=i.move(t);n&&!this.trigger(Ha,{axisRanges:n,originalEvent:t})&&i.pan()}else if(e){let n={},o=e.axes;for(let r=0;r<o.length;r++){let a=o[r];if(a.options.name){let c=a.options.vertical?t.y:t.x,h=c.startLocation-c.location;h!==0&&(n[a.options.name]=a.translateRange(h))}}e.axisRanges=n,this.trigger(Ha,{axisRanges:n,originalEvent:t})}this._zoomSelection&&this._zoomSelection.move(t)}}_end(t){if(this._stopChartHandlers(t))return;let e=this._pannable;if(e&&e.end(t)?(this.surface.resumeTracking(),this.trigger(Na,{axisRanges:q1(this._plotArea.axes),originalEvent:t}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(t,Na),this._zoomSelection){let i=this._zoomSelection.end(t);i&&!this.trigger(Ir,{axisRanges:i,originalEvent:t})&&(this._zoomSelection.zoom(),this.trigger(zr,{axisRanges:i,originalEvent:t}))}}_stopChartHandlers(t){let e=this._selections||[];if(!e.length)return!1;let i=this._eventCoordinates(t),n=this._plotArea.paneByPoint(i);if(n){for(let o=0;o<e.length;o++)if(e[o].onPane(n))return!0}}_mousewheelZoomRate(){let e=(this.options.zoomable||{}).mousewheel||{};return q(e.rate,hw)}_mousewheel(t){let e=dr(t),i=this._mousewheelZoom,n=this._eventCoordinates(t);if(!(this._stopChartHandlers(t)||!this._plotArea.backgroundContainsPoint(n)))if(i){let o={delta:e,axisRanges:q1(this._plotArea.axes),originalEvent:t};(this._zooming||!this.trigger(Tc,o))&&(t.preventDefault(),this._zooming||(this._unsetActivePoint(),this._clearFocusedElement(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),o.axisRanges=i.updateRanges(e,n),o.axisRanges&&!this.trigger(Ir,o)&&i.zoom(),this._mwTimeout=setTimeout(()=>{this.trigger(zr,o),this._zooming=!1,this.surface&&this.surface.resumeTracking()},m1))}else{let o=this._navState;if(o||this._startNavigation(t,n,Tc)||(o=this._navState),o){let r=o.totalDelta||e;o.totalDelta=r+e;let a=this._navState.axes,l={};for(let c=0;c<a.length;c++){let h=a[c],d=h.options.name;d&&(l[d]=h.scaleRange(-r*this._mousewheelZoomRate(),n))}this.trigger(Ir,{delta:e,axisRanges:l,originalEvent:t}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(()=>{this._endNavigation(t,zr)},m1)}}}_startNavigation(t,e,i){let n=this._model._plotArea,o=n.findPointPane(e),r=n.axes.slice(0);if(!o)return;let a=q1(r);this.trigger(i,{axisRanges:a,originalEvent:t})?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._clearFocusedElement(),this._navState={axisRanges:a,pane:o,axes:r})}_endNavigation(t,e){this._navState&&(this.trigger(e,{axisRanges:this._navState.axisRanges,originalEvent:t}),this._suppressHover=!1,this._navState=null)}_getChartElement(t,e){let i=this.surface.eventTarget(t);if(i)return this._drawingChartElement(i,t,e)}_drawingChartElement(t,e,i){let n=t,o;for(;n&&!o;)o=n.chartElement,n=n.parent;if(o)return o.aliasFor&&(o=o.aliasFor(e,this._eventCoordinates(e))),i&&(o=o.closest(i),o&&o.aliasFor&&(o=o.aliasFor())),o}_eventCoordinates(t){let e=Iu(t);return this._toModelCoordinates(e.x,e.y)}_elementPadding(){if(!this._padding){let{paddingLeft:t,paddingTop:e}=Vt(this.element,["paddingLeft","paddingTop"]);this._padding={top:e,left:t}}return this._padding}_toDocumentCoordinates(t){let e=this._elementPadding(),i=Ms(this.element);return{left:R(t.x+e.left+i.left),top:R(t.y+e.top+i.top)}}_toModelCoordinates(t,e){let i=this.element,n=Ms(i),o=this._elementPadding(),r=Du(i).invert(),a=new T.Point(t-n.left-o.left,e-n.top-o.top).transform(r);return new Y(a.x,a.y)}_tap(t){let e=this.surface.eventTarget(t),i=this._drawingChartElement(e,t),n=this._sharedTooltip();!this._startHover(e,t)&&!n&&this._unsetActivePoint(),n&&this._trackSharedTooltip(this._eventCoordinates(t),t,!0),this._propagateClick(i,t),this.handlingTap=!0,setTimeout(()=>{this.handlingTap=!1},0)}_click(t){let e=this._getChartElement(t);this._propagateClick(e,t)}_propagateClick(t,e){let i=t;for(;i;)i.click&&i.click(this,e),i=i.parent}_isLegendBeforeChart(){let{options:{legend:{position:t}},_legend:e}=this;return e&&e.hasItems()&&(t===nt||t===K)}_focus(){this._preventInitialPointFocus||(this._isLegendBeforeChart()?this._focusFirstLegendItem():this._focusFirstPoint()),this._preventInitialPointFocus=!1}_keydown(t){let{_focusState:{legendInFocus:e},_legend:i}=this;if(t.key===Mb){this._clearFocusedElement();let n=this._isLegendBeforeChart();e&&n!==t.shiftKey?this._navigatePoints(t):!e&&n===t.shiftKey&&i.hasItems()&&this._navigateLegend(t)}else e?this._navigateLegend(t):this._navigatePoints(t)}_navigatePoints(t){let{_focusState:e,_plotArea:i}=this;if(e.legendInFocus=!1,!e.focusedElement){this._focusFirstPoint(),t.preventDefault();return}let n=o=>{e.focusedPoint=o,this._focusElement(e.focusedPoint),t.preventDefault()};switch(t.key){case s6:n(i.getPointToTheRight(e.focusedPoint));break;case n6:n(i.getPointToTheLeft(e.focusedPoint));break;case i6:n(i.getPointBelow(e.focusedPoint));break;case e6:n(i.getPointAbove(e.focusedPoint));break;default:break}}_navigateLegend(t){let{_focusState:e,_legend:i,chartService:{rtl:n}}=this;if(e.legendInFocus=!0,!e.focusedElement){this._focusFirstLegendItem(),t.preventDefault();return}let o=i.getItems().length,r=a=>{e.focusedLegendItemIndex=a(e.focusedLegendItemIndex,o),this._focusElement(this._getFocusedLegendItem()),t.preventDefault()};switch(t.key){case e6:case n6:r(n?k2:D2);break;case i6:case s6:r(n?D2:k2);break;default:break}}_focusFirstPoint(){let t=this._focusState.focusedPoint=this._plotArea.getFirstPoint();t&&this._focusElement(t)}_hasFocus(){return this.element.ownerDocument.activeElement===this.element}_mousedown(){this._hasFocus()||(this._preventInitialPointFocus=!0)}_focusChart(){this._hasFocus()||(this._preventInitialPointFocus=!0,this.element.focus())}_focusPoint(t){this._focusState.focusedPoint=t,this._focusChart(),this._focusElement(t,!0)}_focusFirstLegendItem(){let{_focusState:t}=this;t.focusedLegendItemIndex=0,this._focusElement(this._getFocusedLegendItem()),t.legendInFocus=!0}_focusLegendItem(t){let{_focusState:e}=this;e.focusedLegendItemIndex=this._legend.getItems().findIndex(i=>i.options.series.index===t.seriesIndex&&i.options.pointIndex===t.pointIndex),e.legendInFocus=!0,this._focusChart(),this._focusElement(this._getFocusedLegendItem(),!0)}_getFocusedLegendItem(){let{_focusState:t,_legend:e}=this;return e.getItems()[t.focusedLegendItemIndex]}_focusElement(t,e){let{_focusState:i}=this;if(this._clearFocusedElement(),!!t&&(i.focusedElement=t,this._setElementActiveDescendant(t),!e))if(t.focusVisual(),i.legendInFocus){let n=t.options;this._showSeriesInactiveOpacity(n.series.index,n.pointIndex)}else this._showInactiveOpacity(t)}_clearFocusedElement(){let{_focusState:t}=this;t&&(t.focusedElement&&(t.focusedElement.clearFocusFromVisual(),this._clearElementActiveDescendant()),t.focusedElement=null)}_setElementActiveDescendant(t){this.options.renderAs==="canvas"&&(this._pseudoFocusedElement=this._createPseudoFocusedElement(t),this.element.append(this._pseudoFocusedElement)),this.element.setAttribute(o6,t._id)}_clearElementActiveDescendant(){this._pseudoFocusedElement&&(this._pseudoFocusedElement.remove(),this._pseudoFocusedElement=null),this.element.removeAttribute(o6)}_createPseudoFocusedElement(t){let e=document.createElement("div"),i=t.options.accessibility;e.id=t._id,e.setAttribute("aria-label",t.getAriaLabelText()),e.setAttribute("role",i.role),e.setAttribute("aria-roledescription",i.ariaRoleDescription);let n=i.ariaChecked;return M(n)&&e.setAttribute("aria-checked",n),e}_blur(){this._focusState.legendInFocus=!1,this._clearFocusedElement(),this._hideInactiveOpacity()}_startHover(t,e){if(this._suppressHover)return!1;let i=this._drawingChartElement(t,e,function(o){return(o.hover||o.over)&&!(o instanceof Ke)}),n=this._activePoint;return this._updateHoveredPoint(i,e),i&&n!==i&&i.hover&&(this._activePoint=i,!this._sharedTooltip()&&!i.hover(this,e)&&(this._displayTooltip(i),this._showInactiveOpacity(i))),i}_displayTooltip(t){v({},this.options.tooltip,t.options.tooltip).visible&&this._tooltip.show(t)}_displayInactiveOpacity(t,e,i){let n=this._activeChartInstance=this._chartInstanceFromPoint(t);if(n)if(e)this._updateSeriesOpacity(t),this._applySeriesOpacity(n.children,null,!0),this._applySeriesOpacity(n.children,t.series),this._highlight.show(i||t);else{let o;if(!n.supportsPointInactiveOpacity()){this._highlight.show(t);return}o=this._getInactivePoints(t,n),o&&o.length&&this._highlight.show(o,1-this._getInactiveOpacityForSeries(t.series))}}_getInactivePoints(t,e){return this._getAllPointsOfType(e,t.constructor).filter(n=>n!==t)}_getAllPointsOfType(t,e){let i=[];for(let n=0;n<t.children.length;n++){let o=t.children[n];o.constructor===e?i.push(o):o.children&&o.children.length&&(i=i.concat(this._getAllPointsOfType(o,e)))}return i}_updateHoveredPoint(t,e){let i=this._hoveredPoint;i&&i!==t&&(i.out(this,e),this._hoveredPoint=null),t&&i!==t&&t.over&&(this._hoveredPoint=t,t.over(this,e))}_updateDrilldownPoint(t){if(!t||!t.series)return;let{fields:e}=wt.current.bindPoint(t.series,null,t.dataItem);e.drilldown&&(this._drilldownState={cursor:this.element.style.cursor},this.element.style.cursor="pointer")}_resetDrilldownPoint(){this._drilldownState&&(this.element.style.cursor=this._drilldownState.cursor,this._drilldownState=null)}_startDrilldown(t){if(!t||!t.series)return;let e=t.series,{fields:i}=wt.current.bindPoint(e,null,t.dataItem),n=i.drilldown;if(n){let o={series:e,point:t,value:n,sender:this};this.trigger(dw,o)}}_updateSeriesOpacity(t,e){let i=this._plotArea,n=i.series.length;for(let o=0;o<n;o++){let r=i.series[o],a=this._getDefaultOpacityForSeries(r),l=this._getInactiveOpacityForSeries(r);!e&&r!==t.series?(r.defaultOpacity=a,r.opacity=l,r.line&&(r.line.opacity=l)):(r.opacity=a,r.line&&(r.line.opacity=a))}}_applySeriesOpacity(t,e,i,n){for(let o=0;o<t.length;o++){let r=t[o],a=r.series||n;if(a&&(a.highlight||{}).visible&&r.visual){let c=n?n.opacity:r.series.opacity;(a!==e||i)&&r.visual.opacity(i?1:c)}r.children&&r.children.length&&this._applySeriesOpacity(r.children,e,i,r.series)}}_chartInstanceFromPoint(t){let e=t.parent;for(;e&&!e.plotArea;)e=e.parent;return e}_showInactiveOpacity(t){let e=this._plotArea.series.length>1;this._hasInactiveOpacity()?this._displayInactiveOpacity(t,e):this._highlight.show(t)}_hideInactiveOpacity(t){let e=this._plotArea.series.length>1;this._hasInactiveOpacity()&&(e&&this._activeChartInstance&&(this._updateSeriesOpacity(t,!0),this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._activeChartInstance=null),this._highlight&&this._highlight.hide(),this._activePoint=null)}_hasInactiveOpacity(){let t=this.options.seriesDefaults.highlight.inactiveOpacity!==void 0,e=this.options.series.filter(i=>i.highlight.inactiveOpacity!==void 0).length>0;return t||e}_getInactiveOpacityForSeries(t){let e=this.options.seriesDefaults.highlight.inactiveOpacity;return t.highlight.inactiveOpacity||e||t.opacity||a6}_getDefaultOpacityForSeries(t){return t.defaultOpacity||t.opacity||a6}_mouseover(t){let e=this._startHover(t.element,t.originalEvent);e&&e.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()&&(this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this),Sa(document,{[tl]:this._mouseMoveTrackHandler}))}_mouseMoveTracking(t){let{options:e,_tooltip:i,_highlight:n,_activePoint:o}=this,r=this._eventCoordinates(t);if(this._plotArea.box.containsPoint(r)){if(o&&o.tooltipTracking&&o.series&&o.parent.getNearestPoint){let a=o.parent.getNearestPoint(r.x,r.y,o.seriesIx);a&&a!==o&&(this._activePoint=a,a.hover(this,t)||(v({},e.tooltip,a.options.tooltip).visible&&i.show(a),n.show(a)))}}else Ma(document,{[tl]:this._mouseMoveTrackHandler}),this._unsetActivePoint(),this._clearFocusedElement(),this._mouseMoveTrackHandler=null,this._hideInactiveOpacity(o)}_mousemove(t){let e=this._eventCoordinates(t),i=this._plotArea;if(this._trackCrosshairs(e),i.hover){let n=i.backgroundContainsPoint(e);n?(this._plotAreaHovered=!0,this._plotArea.hover(this,t)):this._plotAreaHovered&&!n&&(this._plotAreaHovered=!1,this.trigger(xm))}this._sharedTooltip()&&this._trackSharedTooltip(e,t)}_trackCrosshairs(t){let e=this._plotArea.crosshairs;for(let i=0;i<e.length;i++){let n=e[i];n.box.containsPoint(t)?n.showAt(t):n.hide()}}_trackSharedTooltip(t,e,i){if(this._suppressHover)return;let{options:{tooltip:n},_plotArea:o,_plotArea:{categoryAxis:r},_tooltip:a,_highlight:l}=this;if(o.backgroundContainsPoint(t)){let c=r.pointCategoryIndex(t);if(c!==this._tooltipCategoryIx||!this._sharedHighlight&&i){let h=o.pointsByCategoryIndex(c),d=h.map(function(u){return u.eventArgs(e)}),p=d[0]||{};p.categoryPoints=d,h.length>0&&!this.trigger(mm,p)?(n.visible&&a.showAt(h,t),l.show(h),this._sharedHighlight=!0):a.hide(),this._tooltipCategoryIx=c}else i&&this._sharedHighlight&&(l.hide(),a.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(l.hide(),a.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}hideElements(t){let e=this._plotArea;this._mousemove.cancel(),e.hideCrosshairs(),this._unsetActivePoint(t)}_unsetActivePoint(t){let{_tooltip:e,_highlight:i}=this;this._activePoint=null,this._hoveredPoint=null,e&&!(t&&t.keepTooltipOpen)&&e.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,i&&i.hide()}_deferRedraw(){this._redraw()}_clearRedrawTimeout(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)}bindCategories(){let t=this.options,e=[].concat(t.categoryAxis);for(let i=0;i<e.length;i++){let n=e[i];n.autoBind!==!1&&this.bindCategoryAxisFromSeries(n,i)}}bindCategoryAxisFromSeries(t,e){let i=new Set,n=this.options.series.filter(h=>h.categoryAxis===t.name||!h.categoryAxis&&e===0),o=n.some(h=>!!h.categoryField),r=n.filter(h=>h.data&&h.data.length>0),a=r.map(h=>wt.current.bindPoint(h,0).fields.category),l=a.reduce((h,d)=>h||Lc(t,d),!1);if(r.filter((h,d)=>h.categoryField||M(a[d])).forEach(h=>h.data.forEach((d,p)=>{let u=wt.current.bindPoint(h,p).fields.category;if(l){let m=Pc(u,d,this.chartService.intl);u=m?m.getTime():void 0}i.add(u)})),i.size>0){let h=Array.from(i.values());l&&(h=h.sort().map(d=>d&&new Date(d))),t.categories=h}else o&&(t.categories=[])}_isBindable(t){let e=wt.current.valueFields(t),i=!0;for(let n=0;n<e.length;n++){let o=e[n];if(o===$e?o="field":o=o+"Field",!M(t[o])){i=!1;break}}return i}_noTransitionsRedraw(){let t=this.options,e;t.transitions!==!1&&(t.transitions=!1,e=!0),this._redraw(),e&&(t.transitions=!0)}_legendItemHover(t,e){this._showSeriesInactiveOpacity(t,e)}_showSeriesInactiveOpacity(t,e){let{_plotArea:i,_highlight:n}=this,o=(i.srcSeries||i.series)[t],r;if(J(o.type,[Ui,Sc,br,_r])?r=i.findPoint(function(a){return a.series.index===t&&a.index===e}):r=i.pointsBySeriesIndex(t),this._hasInactiveOpacity()&&o.visible&&r){let a=i.series.length>1,l=r.length?r[0]:r;this._displayInactiveOpacity(l,a,r)}else n.show(r)}_shouldAttachMouseMove(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers([vm,xm])}updateMouseMoveHandler(){Ma(this.element,{[tl]:this._mousemove}),this._shouldAttachMouseMove()&&Sa(this.element,{[tl]:this._mousemove})}applyOptions(t,e){d5(this._originalOptions,t),this._originalOptions=v(this._originalOptions,t),this.options=v({},this._originalOptions),e&&(this._theme=e,this.chartService.theme=e),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()}setOptions(t,e){this.applyOptions(t,e),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler()}setDirection(t){this.chartService.rtl=!!t,this.surface&&this.surface.type==="svg"&&this._destroySurface()}setIntlService(t){this.chartService.intl=t}noTransitionsRedraw(){this._noTransitionsRedraw()}destroy(){this._destroyed=!0,Ma(this.element,{[hC]:this._clickHandler,[Ic]:this._mousewheelHandler,[tl]:this._mousemove,[dC]:this._mouseleaveHandler,[pC]:this._keydownHandler,[uC]:this._focusHandler,[mC]:this._blurHandler}),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler&&Ma(document,{[tl]:this._mouseMoveTrackHandler}),this._focusState=null,this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()}_destroySurface(){let t=this.surface;t&&(t.unbind("mouseenter",this._surfaceMouseenterHandler),t.unbind("mouseleave",this._surfaceMouseleaveHandler),t.destroy(),this.surface=null)}_destroySelections(){let t=this._selections;if(t)for(;t.length>0;)t.shift().destroy()}_destroyView(){let t=this._model;t&&(t.destroy(),this._model=null),this._unsetActivePoint(),this._clearFocusedElement(),this._resetDrilldownPoint(),this._destroySelections(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)}};function IO(s){let t=h5;for(let e=0;e<t.length;e++){let i=t[e]+"Axes";s[i]&&(s[t[e]+"Axis"]=s[i],delete s[i])}}function fC(s,t){if(s){for(let e=0;e<s.length;e++)if(s[e].category===t)return[s[e]]}}function zO(s,t){let e=(t||{}).axisDefaults||{},i,n,o;function r(a){let l=(a||{}).color||n.color,c=v({},e,e[i],n,n[i],{line:{color:l},labels:{color:l},title:{color:l}},a);return delete c[i],c}for(let a=0;a<h5.length;a++)i=h5[a]+"Axis",n=s.axisDefaults||{},o=[].concat(s[i]),o=o.map(r),s[i]=o.length>1?o:o[0]}function EO(s,t){let e=s.series,i=e.length,n=s.seriesDefaults,o=v({},s.seriesDefaults),r=t?v({},t.seriesDefaults):{},a=v({},r);gC(o),gC(a);for(let l=0;l<i;l++){let c=e[l].type||s.seriesDefaults.type,h=v({data:[]},a,r[c],{tooltip:s.tooltip},o,n[c]);e[l]._defaults=h,e[l]=v({},h,e[l]),e[l].data=e[l].data||[]}}function gC(s){delete s.bar,delete s.column,delete s.rangeColumn,delete s.line,delete s.verticalLine,delete s.pie,delete s.donut,delete s.area,delete s.verticalArea,delete s.scatter,delete s.scatterLine,delete s.bubble,delete s.candlestick,delete s.ohlc,delete s.boxPlot,delete s.bullet,delete s.verticalBullet,delete s.polarArea,delete s.polarLine,delete s.radarArea,delete s.radarLine,delete s.waterfall}function q1(s){let t={};for(let e=0;e<s.length;e++){let i=s[e],n=i.options.name;n&&(t[n]=i.range())}return t}var kO=["data","categories"];function d5(s,t){for(let e in t)if(!J(e,kO)&&An(t,e)){let i=t[e],n=s[e];if(M(n)){let o=i===null;o||!M(i)?(delete s[e],o&&delete t[e]):n&&me(i)&&me(n)&&d5(n,i)}}}function vC(s){for(let t=0;t<s.length;t++)s[t].notifyRender()}b(If,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{},accessibility:{highlight:{border:{opacity:1,color:ft,width:2}}}},categoryAxis:{},seriesDefaults:{type:_i,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1},accessibility:{highlight:{border:{opacity:1,width:2},zIndex:200}}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1});var qc=If;var DO=-2,p5=class extends k1{_slotAnchor(t,e){let n=this.plotArea.categoryAxis.options.vertical,o=n?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"},r;return n?r=new Y(this.plotArea.box.x2,e.center().y):r=new Y(e.center().x,DO),{point:r,align:o}}_defaultAnchor(t,e){return this._slotAnchor({},e)}},xC=p5;var PO=150,LO=150,yC=[We,Zn];function bC(s){let t=[];for(let e=0;e<s.length;e++){let i=s[e];t[e]=i.style.display,i.style.display="none"}return t}function _C(s,t){for(let e=0;e<s.length;e++)s[e].style.display=t[e]}function wC(s){return rt(s)?[s]:s}var u5=class extends qc{_setElementClass(t){bt(t,"k-sparkline")}_initElement(t){super._initElement(t),this._initialWidth=Math.floor(Qi(t).width)}_resize(){let t=this.element,e=bC(t.childNodes);this._initialWidth=Math.floor(Qi(t).width),_C(t.childNodes,e),super._resize()}_modelOptions(){let t=this.options,e=this._surfaceWrap(),i=bC(e.childNodes),n=document.createElement("span");n.innerHTML="&nbsp;",e.appendChild(n);let o=v({width:this._autoWidth,height:Qi(e).height,transitions:t.transitions},t.chartArea,{inline:!0,align:!1});return Qi(e,{width:o.width,height:o.height}),e.removeChild(n),_C(e.childNodes,i),this.surface&&this.surface.resize(),o}_surfaceWrap(){if(!this.stage){let t=this.stage=document.createElement("span");this.element.appendChild(t)}return this.stage}_createPlotArea(t){let e=super._createPlotArea(t);return this._autoWidth=this._initialWidth||this._calculateWidth(e),e}_calculateWidth(t){let e=this.options,i=at(e.chartArea.margin),n=t.charts,o=this._surfaceWrap(),r=0;for(let l=0;l<n.length;l++){let c=n[l],h=(c.options.series||[])[0];if(!h)continue;if(h.type===We)return PO;if(h.type===Zn)return LO;if(h.type===Ui)return Qi(o).height;let d=c.categoryAxis;if(d){let p=d.categoriesCount()*(!c.options.isStacked&&J(h.type,[_i,Tr])?c.seriesOptions.length:1);r=Math.max(r,p)}}let a=r*e.pointWidth;return a>0&&(a+=i.left+i.right),a}_createSharedTooltip(t){return new xC(this._plotArea,t)}static normalizeOptions(t){let e=wC(t);return kt(e)?e={seriesDefaults:{data:e}}:e=v({},e),e.series||(e.series=[{data:wC(e.data)}]),v(e,{seriesDefaults:{type:e.type}}),(J(e.series[0].type,yC)||J(e.seriesDefaults.type,yC))&&(e=v({},{categoryAxis:{crosshair:{visible:!1}}},e)),e}};b(u5,{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]});var m5=class extends _.Animation{setup(){this._initialOpacity=parseFloat(Vt(this.element,"opacity").opacity)}step(t){Vt(this.element,{opacity:String(ze(this._initialOpacity,0,t))})}abort(){super.abort(),Vt(this.element,{display:"none",opacity:String(this._initialOpacity)})}cancel(){super.abort(),Vt(this.element,{opacity:String(this._initialOpacity)})}},CC=m5;function f5(s,t){let e=document.createElement("div");return e.className=s,t&&(e.style.cssText=t),e}var zf=class extends z{constructor(t,e,i){super(),this.options=v({},this.options,i),this.container=t,this.chartService=e;let n=Vt(t,["paddingLeft","paddingTop"]);this.chartPadding={top:n.paddingTop,left:n.paddingLeft},this.createElements(),t.appendChild(this.element)}createElements(){let t=this.element=f5("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),e=this.tooltip=f5("k-tooltip k-chart-tooltip"),i=this.scroll=f5("k-scroll");e.innerHTML="&nbsp;",t.appendChild(e),t.appendChild(i)}show(t,e,i){let{element:n,options:o,scroll:r,tooltip:a}=this,l=vt(Mt(t)+Mt(e-t)/2),c=i.width()*.4,h=i.center().x-c,p=i.center().x-h,u=o.max-o.min,m=p/u,f=l-o.min,g=this.chartService.intl.format(o.format,t,e),x=Dt(o);this.clearHideTimeout(),this._visible||(Vt(n,{visibility:"hidden",display:"block"}),this._visible=!0),x&&(g=x({from:t,to:e})),a.innerHTML=g,Vt(a,{left:i.center().x-a.offsetWidth/2,top:i.y1});let y=Vt(a,["marginTop","borderTopWidth","height"]);Vt(r,{width:c,left:h+f*m,top:i.y1+y.marginTop+y.borderTopWidth+y.height/2}),Vt(n,{visibility:"visible"})}clearHideTimeout(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()}hide(){this.clearHideTimeout(),this._hideTimeout=setTimeout(()=>{this._visible=!1,this._hideAnimation=new CC(this.element),this._hideAnimation.setup(),this._hideAnimation.play()},this.options.hideDelay)}destroy(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll}};b(zf,{format:"{0:d} - {1:d}",hideDelay:500});var g5=zf;var is="_navigator",ns=is,v5="_default";var VO=3,x5=class s extends z{constructor(t){super(),this.chart=t;let e=this.options=v({},this.options,t.options.navigator),i=e.select;i&&(i.from=this.parseDate(i.from),i.to=this.parseDate(i.to)),M(e.hint.visible)||(e.hint.visible=e.visible),this.chartObserver=new R2(this,{[Ha]:"_drag",[Na]:"_dragEnd",[Ir]:"_zoom",[zr]:"_zoomEnd"}),t.addObserver(this.chartObserver)}parseDate(t){return Qt(this.chart.chartService.intl,t)}clean(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)}destroy(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()}redraw(){this._redrawSelf(),this.initSelection()}initSelection(){let{chart:t,options:e}=this,i=this.mainAxis(),{min:n,max:o}=i.roundedRange(),{from:r,to:a,mousewheel:l}=e.select,c=BO(i);i.categoriesCount()!==0&&(this.clean(),c.box=i.box,this.selection=new E1(t,c,{min:n,max:o,from:r||n,to:a||o,mousewheel:q(l,{zoom:"left"}),visible:e.visible},new R2(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),e.hint.visible&&(this.hint=new g5(t.element,t.chartService,{min:n,max:o,template:Dt(e.hint),format:e.hint.format})))}setRange(){let e=this.chart._createPlotArea(!0).namedCategoryAxes[ns],{min:i,max:n}=e.roundedRange(),o=this.options.select||{},r=o.from||i;r<i&&(r=i);let a=o.to||n;a>n&&(a=n),this.options.select=v({},o,{from:r,to:a}),this.filterAxes()}_redrawSelf(t){let e=this.chart._plotArea;e&&e.redraw(Pt(e.panes),t)}redrawSlaves(){let t=this.chart,e=t._plotArea,i=e.panes.filter(n=>n.options.name!==is);e.srcSeries=t.options.series,e.options.categoryAxis=t.options.categoryAxis,e.clearSeriesPointsCache(),e.redraw(i)}_drag(t){let{chart:e,selection:i}=this,n=e._eventCoordinates(t.originalEvent),o=this.mainAxis(),r=o.roundedRange(),a=o.pane.box.containsPoint(n),l=e._plotArea.categoryAxis,c=t.axisRanges[l.options.name],h=this.options.select,d;if(!c||a||!i)return;h.from&&h.to?d=Mt(h.to)-Mt(h.from):d=Mt(i.options.to)-Mt(i.options.from);let p=vt(W(Mt(c.min),r.min,Mt(r.max)-d)),u=vt(W(Mt(p)+d,Mt(r.min)+d,r.max));this.options.select={from:p,to:u},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),i.set(p,u),this.showHint(p,u)}_dragEnd(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()}readSelection(){let{selection:{options:{from:t,to:e}},options:{select:i}}=this;i.from=t,i.to=e}filterAxes(){let{options:{select:t={}},chart:e}=this,i=e.options.categoryAxis,{from:n,to:o}=t;for(let r=0;r<i.length;r++){let a=i[r];a.pane!==is&&(a.min=n,a.max=o)}}filter(){let{chart:t,options:{select:e}}=this;if(!t.requiresHandlers(["navigatorFilter"]))return;let i=this.mainAxis(),n={from:e.from,to:e.to};if(i.options.type!=="category"){let o=new $n(v({baseUnit:"fit"},t.options.categoryAxis[0],{categories:[e.from,e.to]}),t.chartService).options;n.from=le(o.min,-o.baseUnitStep,o.baseUnit),n.to=le(o.max,o.baseUnitStep,o.baseUnit)}this.chart.trigger("navigatorFilter",n)}_zoom(t){let{chart:{_plotArea:{categoryAxis:e}},selection:i,options:{select:n,liveDrag:o}}=this,r=this.mainAxis(),a=t.delta;if(!i)return;let l=r.categoryIndex(i.options.from),c=r.categoryIndex(i.options.to),h=this.chart._eventCoordinates(t.originalEvent);t.originalEvent.preventDefault(),Math.abs(a)>1&&(a*=VO),c-l>1?(i.zoom(a,h),this.readSelection()):(e.options.min=n.from,n.from=e.scaleRange(-t.delta*this.chart._mousewheelZoomRate(),h).min),o&&(this.filterAxes(),this.redrawSlaves()),i.set(n.from,n.to),this.showHint(this.options.select.from,this.options.select.to)}_zoomEnd(t){this._dragEnd(t)}showHint(t,e){let i=this.chart._plotArea;this.hint&&this.hint.show(t,e,i.backgroundBox())}_selectStart(t){return this.chart._selectStart(t)}_select(t){return this.showHint(t.from,t.to),this.chart._select(t)}_selectEnd(t){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(t)}mainAxis(){let t=this.chart._plotArea;if(t)return t.namedCategoryAxes[ns]}select(t,e){let i=this.options.select;return t&&e&&(i.from=this.parseDate(t),i.to=this.parseDate(e),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(t,e)),{from:i.from,to:i.to}}static setup(t={},e={}){if(t.__navi)return;t.__navi=!0;let i=v({},e.navigator,t.navigator),n=t.panes=[].concat(t.panes),o=v({},i.pane,{name:is});i.visible||(o.visible=!1,o.height=.1),t.navigator.position!=="top"?n.push(o):n.unshift(o),n.forEach(r=>{r.name=r.name||v5}),s.attachAxes(t,i),s.attachSeries(t,i,e)}static attachAxes(t,e){let i=e.series||[],n=t.categoryAxis=[].concat(t.categoryAxis),o=t.valueAxis=[].concat(t.valueAxis);n.concat(o).forEach(d=>{d.pane=d.pane||v5});let l=It(i,dm).length===0,c=v({type:"date",pane:is,roundToBaseUnit:!l,justified:l,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:e.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),h=e.categoryAxis;n.push(v({},c,{maxDateGroups:200},h,{name:ns,title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),v({},c,h,{name:ns+"_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),v({},c,h,{name:ns+"_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),o.push(v({name:ns,pane:is,majorGridLines:{visible:!1},visible:!1},e.valueAxis))}static attachSeries(t,e,i){let n=t.series=t.series||[],o=[].concat(e.series||[]),r=i.seriesColors,a=e.seriesDefaults;for(let l=0;l<o.length;l++)n.push(v({color:r[l%r.length],categoryField:e.dateField,visibleInLegend:!1,tooltip:{visible:!1}},a,o[l],{axis:ns,categoryAxis:ns,autoBind:e.autoBindElements}))}};function SC(){}function BO(s){return SC.prototype=s,new SC}var Ef=x5;var HO=28,y5=class extends qc{applyDefaults(t,e){let i=Qi(this.element).width||600,n=e,o={seriesDefaults:{categoryField:t.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(i/HO)}}};n&&(n=v({},n,o)),Ef.setup(t,n),super.applyDefaults(t,n)}_setElementClass(t){bt(t,"k-chart k-stockchart")}setOptions(t){this.destroyNavigator(),super.setOptions(t)}noTransitionsRedraw(){let t=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=t}_resize(){this.noTransitionsRedraw()}_redraw(){let t=this.navigator;!this._dirty()&&t&&t.options.partialRedraw?t.redrawSlaves():this._fullRedraw()}_dirty(){let t=this.options,e=[].concat(t.series,t.navigator.series),i=fe(e,function(o){return o&&o.visible}).length,n=this._seriesCount!==i;return this._seriesCount=i,n}_fullRedraw(){let t=this.navigator;t||(t=this.navigator=new Ef(this),this.trigger("navigatorCreated",{navigator:t})),t.clean(),t.setRange(),super._redraw(),t.initSelection()}_trackSharedTooltip(t){let i=this._plotArea.paneByPoint(t);i&&i.options.name===is?this._unsetActivePoint():super._trackSharedTooltip(t)}bindCategories(){super.bindCategories(),this.copyNavigatorCategories()}copyNavigatorCategories(){let t=[].concat(this.options.categoryAxis),e;for(let i=0;i<t.length;i++){let n=t[i];n.name===ns?e=n.categories:e&&n.pane===is&&(n.categories=e)}}destroyNavigator(){this.navigator&&(this.navigator.destroy(),this.navigator=null)}destroy(){this.destroyNavigator(),super.destroy()}_stopChartHandlers(t){let e=this._eventCoordinates(t),i=this._plotArea.paneByPoint(e);return super._stopChartHandlers(t)||i&&i.options.name===is}_toggleDragZoomEvents(){this._dragZoomEnabled||(this.element.style.touchAction="none",this._dragZoomEnabled=!0)}};b(y5,{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!1},highlight:{visible:!1},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}});var MC="arrow",kf="arrowPointer",el="barPointer";var Df=Math.PI/180,Bs="inside",Vr="linear",Pf="outside",Lf="radialPointer",Rf="radialRangePointer";function Yc(s,t){let e=s.getOrigin(),i=s.getSize(),n=at(t);return s.setOrigin([e.x-n.left,e.y-n.top]),s.setSize([i.width+(n.left+n.right),i.height+(n.top+n.bottom)]),s}var{Group:FO,Path:AC,Text:jO}=_;function Xc(s,t){let e=s.box,i=s.children[0].box,n=t.border||{},o=t.background||"",r=AC.fromRect(new T.Rect([e.x1,e.y1],[e.width(),e.height()]),{stroke:{}}),a=new jO(s.text,new T.Point(i.x1,i.y1),{font:t.font,fill:{color:t.color}}),l=Yc(a.bbox().clone(),t.padding),c=AC.fromRect(l,{stroke:{color:n.width?n.color:"",width:n.width,opacity:n.opacity,dashType:n.dashType,lineJoin:"round",lineCap:"round"},fill:{color:o}}),h=new FO;return h.append(r),h.append(c),h.append(a),h}function $c(s,t,e){let i=M(s.from)?s.from:Tt,n=M(s.to)?s.to:yt;return s.from=Math.max(Math.min(n,i),t),s.to=Math.min(Math.max(n,i),e),s}function Y1(s,t){let e=at(t);return e.left=-e.left,e.top=-e.top,e.right=-e.right,e.bottom=-e.bottom,Yc(s,e)}var UO=5,{Path:GO,Surface:WO}=_,Of=class extends z{constructor(t,e,i,n={}){super(),this.element=t,this.theme=i,this.contextService=new za(this,n),this._originalOptions=v({},this.options,e),this.options=v({},this._originalOptions),this._initTheme(i),this.redraw()}destroy(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement}value(t){let e=this.pointers[0];if(arguments.length===0)return e.value();e.value(t),this._setValueOptions(t)}_draw(){let t=this.surface;t.clear(),t.draw(this._visuals)}exportVisual(){return this._visuals}allValues(t){let e=this.pointers,i=[];if(arguments.length===0){for(let n=0;n<e.length;n++)i.push(e[n].value());return i}if(kt(t))for(let n=0;n<t.length;n++)rt(t[n])&&e[n].value(t[n]);this._setValueOptions(t)}_setValueOptions(t){let e=[].concat(this.options.pointer),i=[].concat(t);for(let n=0;n<i.length;n++)e[n].value=i[n]}resize(){this.noTransitionsRedraw()}noTransitionsRedraw(){let t=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(t)}redraw(){let t=this._surfaceSize(),e=new T.Rect([0,0],[t.width,t.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();let i=Y1(e.bbox(),this._gaugeAreaMargin);this.reflow(i)}setOptions(t,e){this._originalOptions=v(this._originalOptions,t),this.options=v({},this._originalOptions),this._initTheme(e),this.redraw()}setDirection(t){this.contextService.rtl=!!t,this.surface&&this.surface.type==="svg"&&(this.surface.destroy(),this.surface=null)}setIntlService(t){this.contextService.intl=t}_initTheme(t){let e=t||this.theme||{};this.theme=e,this.options=v({},e,this.options);let i=this.options,n=i.pointer;if(kt(n)){let o=[];for(let r=0;r<n.length;r++)o.push(v({},e.pointer,n[r]));i.pointer=o}}_createGaugeArea(){let t=this.options.gaugeArea,e=this.surface.size(),i=t.border||{},n=new T.Rect([0,0],[e.width,e.height]);return this._gaugeAreaMargin=t.margin||UO,i.width>0&&(n=Y1(n,i.width)),GO.fromRect(n,{stroke:{color:i.width?i.color:"",width:i.width,opacity:i.opacity,dashType:i.dashType,lineJoin:"round",lineCap:"round"},fill:{color:t.background}})}_initSurface(){let{options:t,surface:e}=this,i=this._surfaceElement(),n=this._surfaceSize();Qi(i,n),!e||e.options.type!==t.renderAs?(e&&e.destroy(),this.surface=WO.create(i,{type:t.renderAs})):(this.surface.clear(),this.surface.resize())}_surfaceSize(){let t=this.options,e=this._getSize();return t.gaugeArea&&v(e,t.gaugeArea),e}_surfaceElement(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement}getSize(){return this._getSize()}_getSize(){let t=this.element,e=this._defaultSize(),i=t.offsetWidth,n=t.offsetHeight;return i||(i=e.width),n||(n=e.height),{width:i,height:n}}_defaultSize(){return{width:200,height:200}}_toggleTransitions(t){this.options.transitions=t;for(let e=0;e<this.pointers.length;e++)this.pointers[e].options.animation.transitions=t}};b(Of,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});var X1=Of;var{Path:w5,Group:$1}=_,Vf=T.Point;function qO(s,t){let{position:e,tickX:i,tickY:n}=s,o,r;return s.vertical?(o=new Vf(i,e),r=new Vf(i+t.size,e)):(o=new Vf(e,n),r=new Vf(e,n+t.size)),new w5({stroke:{color:t.color,width:t.width}}).moveTo(o).lineTo(r)}function TC(s,t,e,i){let n=t.length;if(i.visible){let{mirror:o,lineBox:r}=e;for(let a=i.skip;a<n;a+=i.step)a%i.skipUnit!==0&&(e.tickX=o?r.x2:r.x2-i.size,e.tickY=o?r.y1-i.size:r.y1,e.position=t[a],s.append(qO(e,i)))}}var Bf=class extends Be{constructor(t,e){let i=t||{};!M(i.reverse)&&i.vertical===!1&&(e||{}).rtl&&(i=Object.assign({},i,{reverse:!0})),super(0,1,i,e),this.options.minorUnit=this.options.minorUnit||this.options.majorUnit/10}initUserOptions(t){let e=v({},this.options,t);return e=v({},e,{labels:{mirror:e.mirror}}),e.majorUnit=e.majorUnit||Zi(e.min,e.max),e}initFields(){}render(){let t=this.elements=new $1,e=this.renderLabels(),i=this.renderLine(),n=this.renderTicks(),o=this.renderRanges();return t.append(i,e,n,o),t}renderRanges(){let t=this.options,{min:e,max:i,vertical:n,labels:{mirror:o}}=t,r=t.ranges||[],a=new $1,l=r.length,c=t.rangeSize||t.minorTicks.size/2;for(let h=0;h<l;h++){let d=$c(r[h],e,i),p=this.getSlot(d.from,d.to),u=n?this.lineBox():p,m=n?p:this.lineBox();n?u.x1-=c*(o?-1:1):m.y2+=c*(o?-1:1),a.append(w5.fromRect(new T.Rect([u.x1,m.y1],[u.x2-u.x1,m.y2-m.y1]),{fill:{color:d.color,opacity:d.opacity},stroke:{}}))}return a}renderLabels(){let{labels:t,options:e}=this,i=new $1;for(let n=0;n<t.length;n++)i.append(Xc(t[n],e.labels));return i}renderLine(){let t=this.options.line,e=this.lineBox(),i=new $1;if(t.width>0&&t.visible){let n=new w5({stroke:{color:t.color,dashType:t.dashType,width:t.width}});n.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),i.append(n)}return i}renderTicks(){let t=new $1,e=this.options,i=e.majorTicks.visible?e.majorUnit:0,n={vertical:e.vertical,mirror:e.labels.mirror,lineBox:this.lineBox()};return TC(t,this.getMajorTickPositions(),n,e.majorTicks),TC(t,this.getMinorTickPositions(),n,v({},{skipUnit:i/e.minorUnit},e.minorTicks)),t}};b(Bf,{min:0,max:50,majorTicks:{size:15,align:Bs,color:ft,width:.5,visible:!0},minorTicks:{size:10,align:Bs,color:ft,width:.5,visible:!0},line:{width:.5},labels:{position:Bs,padding:2},mirror:!1,_alignLines:!1});var C5=Bf;var Hf=class extends z{constructor(t,e){super();let{min:i,max:n}=t.options,o=this.options=v({},this.options,e);o.fill=o.color,this.scale=t,M(o.value)?o.value=W(o.value,i,n):o.value=i}value(t){let e=this.options,i=e.value;if(arguments.length===0)return i;let{min:n,max:o}=this.scale.options;e._oldValue=M(e._oldValue)?e.value:n,e.value=W(t,n,o),this.elements&&this.repaint()}};b(Hf,{color:ft});var Qc=Hf;var Nf=class extends Qc{constructor(t,e){super(t,e),this.options=v({track:{visible:M(e.track)}},this.options)}reflow(){let{options:t,scale:e}=this,{mirror:i,vertical:n}=e.options,o=e.lineBox(),r=t.track.size||t.size,a=t.size/2,l=at(t.margin),c=n?l[i?"left":"right"]:l[i?"bottom":"top"],h,d,p;c=i?-c:c,n?(p=new k(o.x1+c,o.y1,o.x1+c,o.y2),i?p.x1-=r:p.x2+=r,t.shape!==el&&(d=new k(o.x2+c,o.y1-a,o.x2+c,o.y2+a),h=d)):(p=new k(o.x1,o.y1-c,o.x2,o.y1-c),i?p.y2+=r:p.y1-=r,t.shape!==el&&(d=new k(o.x1-a,o.y1-c,o.x2+a,o.y1-c),h=d)),this.trackBox=p,this.pointerRangeBox=d,this.box=h||p.clone().pad(t.border.width)}getElementOptions(){let t=this.options;return{fill:{color:t.color,opacity:t.opacity},stroke:M(t.border)?{color:t.border.width?t.border.color||t.color:"",width:t.border.width,dashType:t.border.dashType,opacity:t.opacity}:null}}_margin(){let{scale:t,options:e}=this,{mirror:i,vertical:n}=t.options,o=at(e.margin);return n?o[i?"left":"right"]:o[i?"bottom":"top"]}};b(Nf,{shape:el,track:{border:{width:1}},color:ft,border:{width:1},opacity:1,margin:at(3),animation:{type:el},visible:!0});var Q1=Nf;var Z1=class extends _.Animation{setup(){let t=this.options,{margin:e,from:i,to:n,vertical:o}=t,r=o?"x1":"y1";t.mirror===o?(i[r]-=e,n[r]-=e):(i[r]+=e,n[r]+=e);let a=this.fromScale=new T.Point(i.x1,i.y1),l=this.toScale=new T.Point(n.x1,n.y1);t.duration!==0&&(t.duration=Math.max(a.distanceTo(l)/t.duration*1e3,1))}step(t){let e=ze(this.fromScale.x,this.toScale.x,t),i=ze(this.fromScale.y,this.toScale.y,t);this.element.transform(T.transform().translate(e,i))}};b(Z1,{easing:Vr,duration:250});_.AnimationFactory.current.register(kf,Z1);var IC=Z1;var Zc=T.Point,YO=_.Path,M5=class extends Q1{constructor(t,e){super(t,e),M(this.options.size)||(this.options.size=this.scale.options.majorTicks.size*.6)}pointerShape(){let{scale:t,options:{size:e}}=this,i=e/2,n=t.options.mirror?-1:1,o;return t.options.vertical?o=[new Zc(0,0-i),new Zc(0-n*e,0),new Zc(0,0+i)]:o=[new Zc(0-i,0),new Zc(0,0+n*e),new Zc(0+i,0)],o}repaint(){let{scale:t,options:e}=this,i=new IC(this.elements,v(e.animation,{vertical:t.options.vertical,mirror:t.options.mirror,margin:this._margin(e.margin),from:t.getSlot(e._oldValue),to:t.getSlot(e.value)}));e.animation.transitions===!1&&(i.options.duration=0),i.setup(),i.play()}render(){let{scale:t,options:e}=this,i=this.getElementOptions(),n=this.pointerShape(e.value);e.animation.type=kf;let o=new YO({stroke:i.stroke,fill:i.fill}).moveTo(n[0]).lineTo(n[1]).lineTo(n[2]).close(),r=t.getSlot(e.value);return o.transform(T.transform().translate(r.x1,r.y1)),this.elements=o,o}},A5=M5;var K1=class extends _.Animation{setup(){let t=this.options,e=this.axis=t.vertical?H:B,i=this.to=t.newPoints[0][e],n=this.from=t.oldPoints[0][e];t.duration!==0&&(t.duration=Math.max(Math.abs(i-n)/t.speed*1e3,1)),this._set(n)}step(t){let e=ze(this.from,this.to,t);this._set(e)}_set(t){let e="set"+this.axis.toUpperCase(),i=this.options.newPoints;i[0][e](t),i[1][e](t)}};b(K1,{easing:Vr,speed:250});_.AnimationFactory.current.register(el,K1);var zC=K1;var{Group:XO,Path:EC}=_,T5=class extends Q1{constructor(t,e){super(t,e),M(this.options.size)||(this.options.size=this.scale.options.majorTicks.size*.3)}pointerShape(t){let{scale:e,options:i}=this,{mirror:n,vertical:o}=e.options,r=n===o?-1:1,a=i.size*r,l=e.getSlot(e.options.min),c=e.getSlot(t),h=o?H:B,d=o?B:H,p=this._margin()*r,u=new T.Point;u[h]=l[h+"1"],u[d]=l[d+"1"];let m=new T.Point;m[h]=c[h+"1"],m[d]=c[d+"1"],o?(u.translate(p,0),m.translate(p,0)):(u.translate(0,p),m.translate(0,p));let f=m.clone(),g=u.clone();return o?(f.translate(a,0),g.translate(a,0)):(f.translate(0,a),g.translate(0,a)),[u,m,f,g]}repaint(){let{scale:t,options:e}=this,i=this.pointerShape(e.value),n=this.pointerPath,o=this.pointerShape(e._oldValue);n.moveTo(i[0]).lineTo(i[1]).lineTo(i[2]).lineTo(i[3]).close();let r=new zC(n,v(e.animation,{reverse:t.options.reverse,vertical:t.options.vertical,oldPoints:[o[1],o[2]],newPoints:[i[1],i[2]]}));e.animation.transitions===!1&&(r.options.duration=0),r.setup(),r.play()}render(){let t=new XO,e=this.getElementOptions();this.options.track.visible&&t.append(this.renderTrack());let i=this.pointerPath=new EC({stroke:e.stroke,fill:e.fill});return t.append(i),this.elements=t,t}renderTrack(){let t=this.options.track,e=t.border||{},i=this.trackBox.clone().pad(e.width||0);return new EC.fromRect(i.toRect(),{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.width?e.color||t.color:"",width:e.width,dashType:e.dashType}})}},I5=T5;var $O=60,QO=60,ZO=_.Group,z5=class extends X1{reflow(t){let e=this.pointers,i=t.origin.x,n=t.origin.y,o=new k(i,n,i+t.width(),n+t.height());this.scale.reflow(o),this._shrinkScaleWidth(o);for(let r=0;r<e.length;r++)e[r].reflow();this.bbox=this._getBox(o),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()}_buildVisual(){let t=new ZO,e=this.scale.render(),i=this.pointers;t.append(this.gaugeArea),t.append(e);for(let n=0;n<i.length;n++){let o=i[n];t.append(o.render()),o.value(o.options.value)}this._visuals=t}_createModel(){let t=this.options,e=this.scale=new C5(t.scale,this.contextService);this.pointers=[];let i=t.pointer;i=kt(i)?i:[i];for(let n=0;n<i.length;n++){let o=v({},i[n],{animation:{transitions:t.transitions}}),r=o.shape===MC?A5:I5;this.pointers.push(new r(e,o))}}_defaultSize(){let t=this.options.scale.vertical;return{width:t?$O:200,height:t?200:QO}}_getBox(t){let{scale:e,pointers:i}=this,n=t.center(),o=i[0].box.clone().wrap(e.box);for(let a=0;a<i.length;a++)o.wrap(i[a].box.clone());let r;return e.options.vertical?(r=o.width()/2,o=new k(n.x-r,t.y1,n.x+r,t.y2)):(r=o.height()/2,o=new k(t.x1,n.y-r,t.x2,n.y+r)),o}_alignElements(){let{scale:t,pointers:e}=this,i=t.box,n=e[0].box.clone().wrap(t.box),o=this.bbox;for(let a=0;a<e.length;a++)n.wrap(e[a].box.clone());let r;t.options.vertical?(r=o.center().x-n.center().x,t.reflow(new k(i.x1+r,o.y1,i.x2+r,o.y2))):(r=o.center().y-n.center().y,t.reflow(new k(i.x1,i.y1+r,i.x2,i.y2+r)));for(let a=0;a<e.length;a++)e[a].reflow(this.bbox)}_shrinkScaleWidth(t){let{scale:e}=this;if(!e.options.vertical){let i=e.contentBox().width()-t.width();i>0&&(e.box.shrink(i,0),e.box.alignTo(t,"center"),e.reflow(e.box))}}_shrinkElements(){let{scale:t,pointers:e}=this,i=t.box.clone(),n=t.options.vertical?"y":"x",o=e[0].box;for(let r=0;r<e.length;r++)o.wrap(e[r].box.clone());i[n+1]+=Math.max(i[n+1]-o[n+1],0),i[n+2]-=Math.max(o[n+2]-i[n+2],0),t.reflow(i);for(let r=0;r<e.length;r++)e[r].reflow(this.bbox)}};b(z5,{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});var Ff=180,{Arc:KO,Path:JO,Group:jf}=_;function kC(s,t,e,i){let n=new jf,o=s.center,r=s.getRadiusX();if(i.visible)for(let a=0;a<t.length;a++){let l=s.pointAt(t[a]),c=new T.Point(o.x+r-i.size,o.y).rotate(t[a],o);n.append(new JO({stroke:{color:i.color,width:i.width}}).moveTo(l).lineTo(c))}return n}function E5(s,t,e,i){return{from:s,to:t,color:e,opacity:i}}var Uf=class extends Be{constructor(t,e){super(0,1,t,e)}initUserOptions(t){let e=v({},this.options,t);return e.majorUnit=e.majorUnit||Zi(e.min,e.max),e.minorUnit=e.minorUnit||e.majorUnit/10,e}initFields(){}render(t,e){let i=this.renderArc(t,e);this.bbox=i.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()}reflow(t){let e=t.center(),i=Math.min(t.height(),t.width())/2;if(M(this.bbox))this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels();else return this.render(e,i)}slotAngle(t){let{min:e,max:i,reverse:n,startAngle:o,endAngle:r}=this.options,a=r-o,l;return n?l=r-(t-e)/(i-e)*a:l=(t-e)/(i-e)*a+o,l+Ff}hasRanges(){let t=this.options.ranges;return t&&t.length}ticksSize(){let{majorTicks:t,minorTicks:e}=this.options,i=0;return t.visible&&(i=t.size),e.visible&&(i=Math.max(e.size,i)),i}labelsCount(){let t=super.labelsCount(),e=this.options;return e.endAngle-e.startAngle>=360&&e.max%e.majorUnit===0&&(t-=1),t}renderLabels(){let t=this.options,e=this.arc.clone(),i=e.getRadiusX(),n=this.tickAngles(e,t.majorUnit),o=t.rangeSize=t.rangeSize||i*.1,r=new jf,a=i*.05;M(t.rangeDistance)?a=t.rangeDistance:t.rangeDistance=a;let l=t.labels,c=l.position===Bs,h=M(this.labelElements);c&&(i-=this.ticksSize(),this.hasRanges()&&!h&&(i-=o+a),e.setRadiusX(i).setRadiusY(i));let d=this.labels,p=d.length,u=at(l.padding),m=(u.left+u.right)/2,f=(u.top+u.bottom)/2;for(let g=0;g<p;g++){let x=d[g],y=x.box.width()/2,C=x.box.height()/2,S=n[g],w=(S-Ff)*Df,I=e.pointAt(S),D=I.x+Math.cos(w)*(y+m)*(c?1:-1),E=I.y+Math.sin(w)*(C+f)*(c?1:-1);x.reflow(new k(D-y,E-C,D+y,E+C));let F=new T.Point(x.box.x1,x.box.y1),Q;if(!h)Q=Xc(x,t.labels),r.append(Q);else{Q=this.labelElements.children[g];let st=Q.bbox().origin,ht=Q.transform()||T.transform();ht.translate(F.x-st.x,F.y-st.y),Q.transform(ht)}this.bbox=T.Rect.union(this.bbox,Q.bbox())}return r}repositionRanges(){let t=this.ranges.children;if(t.length>0){let{rangeDistance:e,rangeSize:i}=this.options,n=this.getRangeRadius();this.options.labels.position===Bs&&(n+=i+e);let o=n+i/2;for(let r=0;r<t.length;r++)t[r]._geometry.setRadiusX(o).setRadiusY(o);this.bbox=T.Rect.union(this.bbox,this.ranges.bbox())}}renderRanges(){let t=this.rangeSegments(),e=t.length,i=new jf;if(e){let{rangeSize:n,reverse:o,rangeDistance:r}=this.options,a=this.getRangeRadius();this.radius(this.radius()-n-r);for(let l=0;l<e;l++){let c=t[l],h=this.slotAngle(c[o?"to":"from"]),d=this.slotAngle(c[o?"from":"to"]);d-h!==0&&i.append(this.createRange(h,d,a,c))}}return i}createRange(t,e,i,n){let o=this.options.rangeSize,r=new T.Arc(this.arc.center,{radiusX:i+o/2,radiusY:i+o/2,startAngle:t,endAngle:e});return new KO(r,{stroke:{width:o,color:n.color,opacity:n.opacity,lineCap:n.lineCap}})}rangeSegments(){let t=this.options,e=t.ranges||[],i=e.length,n=[];if(i){let{min:o,max:r,rangePlaceholderColor:a}=t;n.push(E5(o,r,a));for(let l=0;l<i;l++){let c=$c(e[l],o,r),h=n.length;for(let d=0;d<h;d++){let p=n[d];if(p.from<=c.from&&c.from<=p.to){n.push(E5(c.from,c.to,c.color,c.opacity)),p.from<=c.to&&c.to<=p.to&&n.push(E5(c.to,p.to,a,c.opacity)),p.to=c.from;break}}}}return n}getRangeRadius(){let{arc:t,options:e}=this,{rangeSize:i,rangeDistance:n,majorTicks:{size:o}}=e,r;return e.labels.position===Pf?r=t.getRadiusX()-o-n-i:r=t.getRadiusX()-i,r}renderArc(t,e){let i=this.options;return this.arc=new T.Arc(t,{radiusX:e,radiusY:e,startAngle:i.startAngle+Ff,endAngle:i.endAngle+Ff})}renderTicks(){let{arc:t,options:e}=this,i=t.clone();this.majorTickAngles=this.tickAngles(t,e.majorUnit),this.majorTicks=kC(i,this.majorTickAngles,e.majorUnit,e.majorTicks);let n=new jf;n.append(this.majorTicks);let o=e.majorTicks.size,r=e.minorTicks.size;if(this._tickDifference=o-r,e.labels.position===Pf){let a=i.getRadiusX();i.setRadiusX(a-o+r).setRadiusY(a-o+r)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(t,e.minorUnit)),this.minorTicks=kC(i,this.minorTickAngles,e.minorUnit,e.minorTicks),n.append(this.minorTicks),n}normalizeTickAngles(t){let e=this.options,i=e.majorUnit/e.minorUnit;for(let n=t.length-1;n>=0;n--)n%i===0&&t.splice(n,1);return t}tickAngles(t,e){let i=this.options,n=i.reverse,o=i.max-i.min,r=t.endAngle-t.startAngle,a=o/e,l=t.startAngle,c=r/a;n&&(l+=r,c=-c),r>=360&&i.max%e===0&&(a-=1);let h=[];for(let d=0;d<a;d++)h.push(R(l,3)),l+=c;return R(l)<=t.endAngle&&h.push(l),h}radius(t){if(t)this.arc.setRadiusX(t).setRadiusY(t),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0);else return this.arc.getRadiusX()}repositionTicks(t,e,i){let n=i&&this._tickDifference||0,o=this.arc,r=o.getRadiusX();i&&this.options.labels.position===Pf&&n!==0&&(o=this.arc.clone(),o.setRadiusX(r-n).setRadiusY(r-n));for(let a=0;a<t.length;a++){let l=o.pointAt(e[a]),c=t[a].segments,h=l.x-c[0].anchor().x,d=l.y-c[0].anchor().y;t[a].transform(new T.transform().translate(h,d))}}};b(Uf,{min:0,max:100,majorTicks:{size:15,align:Bs,color:ft,width:.5,visible:!0},minorTicks:{size:10,align:Bs,color:ft,width:.5,visible:!0},startAngle:-30,endAngle:210,labels:{position:Bs,padding:2}});var J1=Uf;var td=class extends _.Animation{constructor(t,e){super(t,e);let i=this.options;i.duration=Math.max(Math.abs(i.newAngle-i.oldAngle)/i.duration*1e3,1)}step(t){let e=this.options,i=ze(e.oldAngle,e.newAngle,t);this.element.transform(T.transform().rotate(i,e.center))}};b(td,{easing:Vr,duration:150});_.AnimationFactory.current.register(Lf,td);var DC=td;var tV=.05,{Circle:eV,Group:iV,Path:nV}=_,Gf=class extends Qc{setAngle(t){this.elements.transform(T.transform().rotate(t,this.center))}repaint(){let{scale:t,options:e}=this,i=t.slotAngle(e._oldValue),n=t.slotAngle(e.value);e.animation.transitions===!1?this.setAngle(n):new DC(this.elements,v(e.animation,{oldAngle:i,newAngle:n})).play()}render(){let{scale:t,options:e}=this,i=new iV;return e.animation!==!1&&v(e.animation,{startAngle:0,center:t.arc.center,reverse:t.options.reverse}),i.append(this._renderNeedle(),this._renderCap()),this.elements=i,this.setAngle(Df),i}reflow(t){let e=this.center=t.center,i=W(this.options.length||1,.1,1.5),n=this.radius=t.getRadiusX()*i,o=this.capSize=Math.round(n*this.options.cap.size);this.bbox=T.Rect.fromPoints(new T.Point(e.x-o,e.y-o),new T.Point(e.x+o,e.y+o))}_renderNeedle(){let t=this.scale.options.minorTicks.size,e=this.center,i=this.options.color,n=new nV({fill:{color:i},stroke:{color:i,width:.5}});return n.moveTo(e.x+this.radius-t,e.y).lineTo(e.x,e.y-this.capSize/2).lineTo(e.x,e.y+this.capSize/2).close(),n}_renderCap(){let t=this.options,e=t.cap.color||t.color,i=new T.Circle(this.center,this.capSize);return new eV(i,{fill:{color:e},stroke:{color:e}})}};b(Gf,{cap:{size:tV},arrow:{width:16,height:14},animation:{type:Lf,duration:150}});var k5=Gf;var sV=_.Group,D5=class extends X1{reflow(t){let e=this.pointers;this.scale.reflow(t),this._initialPlotArea=this.scale.bbox;for(let i=0;i<e.length;i++)e[i].reflow(this.scale.arc),this._initialPlotArea=T.Rect.union(this._initialPlotArea,e[i].bbox);this.fitScale(t),this.alignScale(t),this._buildVisual(this.gaugeArea,e,this.scale),this._draw()}_buildVisual(t,e,i){let n=this._visuals=new sV;n.append(t),n.append(i.ticks),n.append(i.ranges),this._buildPointers(e),n.append(i.labelElements)}_buildPointers(t){for(let e=0;e<t.length;e++){let i=t[e];i.render(),this._visuals.append(i.elements),i.value(i.options.value)}}fitScale(t){let e=this.scale.arc,i=this._initialPlotArea,n=Math.abs(this.getDiff(i,t)),o=R(n,3),r=R(-n,3),a,l,c,h,d,p=0,u=0;for(;u++<100&&(p=d===c?p+1:0,!(p>5||o!==h&&(a=this.getPlotBox(o,t,e),0<=a&&a<=2)||r!==h&&(c=this.getPlotBox(r,t,e),0<=c&&c<=2)||(a>0&&c>0?h=o*2:a<0&&c<0?h=r*2:h=R((o+r)/2||1,3),l=this.getPlotBox(h,t,e),0<=l&&l<=2)));)d=c,l>0?(r=h,c=l):(o=h,a=l)}getPlotBox(t,e,i){let n=this.scale,o=this.pointers,r=i.getRadiusX(),a=i.clone();a.setRadiusX(r+t).setRadiusY(r+t),n.arc=a,n.reflow(e),this.plotBbox=n.bbox;for(let l=0;l<o.length;l++)o[l].reflow(a),this.plotBbox=T.Rect.union(this.plotBbox,o[l].bbox);return this.getDiff(this.plotBbox,e)}getDiff(t,e){return Math.min(e.width()-t.width(),e.height()-t.height())}alignScale(t){let e=this.plotBbox.center(),i=t.center(),n=e.x-i.x,o=e.y-i.y,{scale:r,pointers:a}=this;r.arc.center.x-=n,r.arc.center.y-=o,r.reflow(t);for(let l=0;l<a.length;l++)a[l].reflow(r.arc),this.plotBbox=T.Rect.union(r.bbox,a[l].bbox)}_createModel(){let t=this.options,e=t.pointer,i=this.scale=new J1(t.scale,this.contextService);this.pointers=[];let n=kt(e)?e:[e];for(let o=0;o<n.length;o++){let r=new k5(i,v({},n[o],{animation:{transitions:t.transitions}}));this.pointers.push(r)}}};b(D5,{transitions:!0,gaugeArea:{background:""}});var P5=class extends J1{rangeSegments(){let{min:t,max:e,rangePlaceholderColor:i,rangeLineCap:n}=this.options;return[{from:t,to:e,color:i,lineCap:n}]}hasRanges(){return!0}placeholderRangeAngle(t){let e=this.ranges.children[0].geometry();this.options.reverse?e.setEndAngle(t):e.setStartAngle(t)}addRange(t,e,i){let n=this.options.reverse,o=this.slotAngle(n?e:t),r=this.slotAngle(n?t:e),a=this.createRange(o,r,this.getRangeRadius(),i);return this.ranges.append(a),a}};b(P5,{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});var oV=800,ed=class extends _.Animation{constructor(t,e){super(t,e);let i=this.options,n=Math.abs(i.newAngle-i.oldAngle)/i.duration*1e3;i.duration=W(n,150,oV);let o=t.elements.options.get("stroke.color"),r=t.currentColor();o!==r&&(this.startColor=new Oe(o),this.color=new Oe(r))}step(t){let{options:e,startColor:i,color:n}=this,o=ze(e.oldAngle,e.newAngle,t);if(this.element.angle(o),n){let r=R(ze(i.r,n.r,t)),a=R(ze(i.g,n.g,t)),l=R(ze(i.b,n.b,t));this.element.stroke(new Oe(r,a,l).toHex())}}};b(ed,{easing:Vr,duration:150});_.AnimationFactory.current.register(Rf,ed);var PC=ed;var L5=class extends Qc{repaint(){let{scale:t,options:e}=this,i=t.slotAngle(e._oldValue),n=t.slotAngle(e.value);this.animation&&this.animation.abort(),e.animation.transitions===!1?(this.angle(n),this.stroke(this.currentColor())):(this.animation=new PC(this,v(e.animation,{oldAngle:i,newAngle:n})),this.animation.play())}angle(t){let e=this.elements.geometry();this.scale.options.reverse?e.setStartAngle(t):e.setEndAngle(t),this.scale.placeholderRangeAngle(t)}stroke(t){this.elements.stroke(t)}render(){if(this.elements)return;let{scale:t,options:e}=this;e.animation!==!1&&v(e.animation,{startAngle:0,center:t.arc.center,reverse:t.options.reverse}),this.elements=t.addRange(t.options.min,this.options.value,{color:this.currentColor(),opacity:e.opacity,lineCap:t.options.rangeLineCap})}currentColor(){let{min:t,max:e}=this.scale.options,{colors:i,color:n,value:o}=this.options,r=rt(o)?o:t;if(i)for(let a=0;a<i.length;a++){let{color:l,from:c=t,to:h=e}=i[a];if(c<=r&&r<=h)return l}return n}reflow(){this.render(),this.bbox=this.elements.bbox()}};b(L5,{animation:{type:Rf,duration:150}});var LC=10,Mi=class extends z{constructor(t){super(),this.setOptions(t),this.initProperties()}initProperties(){}setOptions(t){this.options=Object.assign({},this.options,t),this.quietZoneLength=this.options.addQuietZone?2*this.options.quietZoneLength:0}encode(t,e,i){let n=M(t)?String(t):t;return this.initValue(n,e,i),this.options.addQuietZone&&this.addQuietZone(),this.addData(),this.options.addQuietZone&&this.addQuietZone(),{baseUnit:this.baseUnit,pattern:this.pattern}}initValue(){}addQuietZone(){this.pattern.push(this.options.quietZoneLength||LC)}addData(){}invalidCharacterError(t){throw new Error(`Character "${t}" is not valid for symbology ${this.name}.`)}};b(Mi,{quietZoneLength:LC,addQuietZone:!0,addCheckSum:!0});var hV=Object.assign,id=class extends Mi{initProperties(){super.initProperties(),hV(this,{name:"Code 11",characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221"})}initValue(t,e){this.pattern=[],this.value=t,this.width=e,this.totalUnits=0}addData(){let t=this.value;this.addPattern(this.START);for(let e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()}setBaseUnit(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)}addCheckSum(){let t=this.value,e=t.length,i=this.getWeightedSum(t,e,this.cCheckSumTotal)%this.checkSumMod;if(this.checksum=String(i),this.addPattern(this.characterMap[i]),e++,e>=this.kCheckSumMinLength){let n=(i+this.getWeightedSum(t,e,this.kCheckSumTotal))%this.checkSumMod;this.checksum+=n,this.addPattern(this.characterMap[n])}}getWeightedSum(t,e,i){let n=0;for(let o=0;o<t.length;o++)n+=this.weightedValue(this.getValue(t.charAt(o)),e,o,i);return n}weightedValue(t,e,i,n){return((e-i)%n||n)*t}getValue(t){if(isNaN(t))t!==this.DASH&&this.invalidCharacterError(t);else return parseInt(t,10);return this.DASH_VALUE}addCharacter(t){let e=this.getValue(t),i=this.characterMap[e];this.addPattern(i)}addPattern(t){let e;for(let i=0;i<t.length;i++)e=parseInt(t.charAt(i),10),this.pattern.push(e),this.totalUnits+=e}};b(id,{addCheckSum:!0});var RC=Object.assign,nd=class extends Mi{initProperties(){super.initProperties(),RC(this,{minBaseUnitLength:.7})}addData(){let t=this.value;this.addStart();for(let e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.pushCheckSum(),this.addStop(),this.prepareValues()}addCharacter(t){let e=this.characterMap[t];e||this.invalidCharacterError(t),this.addBase(e)}addBase(){}},il=class extends nd{initProperties(){super.initProperties(),RC(this,{name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}}})}initValue(t,e,i){this.width=e,this.height=i,this.value=t,this.dataLength=t.length,this.pattern=[],this.patternString=""}prepareValues(){let t=this.minBaseUnitLength,e=this.minRatio,i=Math.ceil(Math.max(.15*this.width,24)),n,o=this.maxRatio;if(this.height<i)throw new Error(`Insufficient height for Code39 encoding: the current height is ${this.height}px and the minimum height is ${i}px.`);for(n=this.getBaseUnit(o);n<t&&o>e;)o=parseFloat((o-.1).toFixed(1)),n=this.getBaseUnit(o);if(n<t){let r=Math.ceil(this.getBaseWidth(e)*t);throw new Error(`Insufficient width for Code39 encoding: the current width is ${this.width}px and the minimum width for value "${this.value}" is ${r}px.`)}this.ratio=o,this.baseUnit=n,this.patternString=this.patternString.substring(0,this.patternString.length-1),this.pattern=this.pattern.concat(this.patternString.replace(/ratio/g,o).split(this.splitCharacter))}getBaseUnit(t){return this.width/this.getBaseWidth(t)}getBaseWidth(t){let e=3*(t+2);return this.quietZoneLength+e*(this.dataLength+2)+this.gapWidth*(this.dataLength+1)}addStart(){this.addPattern(this.characterMap.START.pattern),this.addCharacterGap()}addBase(t){this.addPattern(t.pattern),this.addCharacterGap()}addStop(){this.addPattern(this.characterMap.START.pattern)}addPattern(t){for(let e=0;e<t.length;e++)this.patternString+=this.patternMappings[t.charAt(e)]}addCharacterGap(){this.patternString+=this.gapWidth+this.splitCharacter}};b(il,{addCheckSum:!1});var R5={addCharacter(s){this.characterMap[s]?this.addBase(this.characterMap[s]):s.charCodeAt(0)>127?this.invalidCharacterError(s):this.addExtended(s.charCodeAt(0))},addExtended(s){let t;for(let e=0;e<this.extendedMappings.length;e++)if(t=this.extendedMappings[e].call(this,s),t){for(let i=0;i<t.length;i++){let n=t[i];this.addBase(n)}this.dataLength+=t.length-1;return}},extendedMappings:[function(s){if(97<=s&&s<=122)return[this.characterMap[this.shiftCharacters[0]],this.characterMap[String.fromCharCode(s-32)]]},function(s){if(33<=s&&s<=58)return[this.characterMap[this.shiftCharacters[1]],this.characterMap[String.fromCharCode(s+32)]]},function(s){if(1<=s&&s<=26)return[this.characterMap[this.shiftCharacters[2]],this.characterMap[String.fromCharCode(s+64)]]},function(s){let t,e;if(!this.specialAsciiCodes[s])e=Math.floor(s/32)*6+(s-27)%32+64,t=[this.characterMap[this.shiftCharacters[3]],this.characterMap[String.fromCharCode(e)]];else{t=[];for(let i=0;i<this.specialAsciiCodes[s].length;i++)t.push(this.characterMap[this.shiftCharacters[3]]),t.push(this.characterMap[this.specialAsciiCodes[s][i]])}return t}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]},Wf=class extends il{initProperties(){super.initProperties(),v(this,R5,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})}};var dV=Object.assign,Kc=class extends nd{initProperties(){super.initProperties(),dV(this,{name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}})}initValue(t,e,i){this.value=t,this.width=e,this.height=i,this.pattern=[],this.values=[],this.dataLength=t.length}prepareValues(){let t=Math.ceil(Math.max(.15*this.width,24));if(this.height<t)throw new Error(`Insufficient height for Code93 encoding: the current height is ${this.height}px, the minimum required height is ${t}px.`);if(this.setBaseUnit(),this.baseUnit<this.minBaseUnitLength){let e=Math.ceil(this.minBaseUnitLength*(this.width/this.baseUnit));throw new Error(`Insufficient width for Code93 encoding: the current width is ${this.width}px and the minimum required width for value "${this.value}" is ${e}px.`)}}setBaseUnit(){this.baseUnit=this.width/(9*(this.dataLength+2+2)+this.quietZoneLength+1)}addStart(){let t=this.characterMap.START.pattern;this.addPattern(t)}addStop(){this.addStart(),this.pattern.push(this.characterMap.TERMINATION_BAR)}addBase(t){this.addPattern(t.pattern),this.values.push(t.value)}pushCheckSum(){let t=this._getCheckValues(),e;this.checksum=t.join("");for(let i=0;i<t.length;i++)e=this.characterMap[this._findCharacterByValue(t[i])],this.addPattern(e.pattern)}_getCheckValues(){let t=this.values,e=t.length,i=0,n,o,r;for(r=e-1;r>=0;r--)i+=this.weightedValue(t[r],e-r,this.cCheckSumTotal);for(n=i%this.checkSumMod,i=this.weightedValue(n,1,this.kCheckSumTotal),r=e-1;r>=0;r--)i+=this.weightedValue(t[r],e-r+1,this.kCheckSumTotal);return o=i%this.checkSumMod,[n,o]}_findCharacterByValue(t){for(let e in this.characterMap)if(this.characterMap[e].value===t)return e}weightedValue(t,e,i){return(e%i||i)*t}addPattern(t){let e;for(let i=0;i<t.length;i++)e=parseInt(t.charAt(i),10),this.pattern.push(e)}};var qf=class extends Kc{initProperties(){super.initProperties(),v(this,R5,{name:"Code 93 extended",pushCheckSum:function(){let t=this._getCheckValues(),e;this.checksum=t.join("");for(let i=0;i<t.length;i++)if(e=t[i],this.shiftValuesAsciiCodes[e])this.addExtended(this.shiftValuesAsciiCodes[e]);else{let n=this._findCharacterByValue(e);this.addPattern(this.characterMap[n].pattern)}}})}};var pV=/^\d+$/,uV=Object.assign,Yf=class extends Mi{initProperties(){super.initProperties(),uV(this,{name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]})}initValue(t,e,i){this.height=i,this.width=e,this.baseHeight=i/2,this.value=t.replace(new RegExp(this.DIGIT_SEPARATOR,"g"),""),this.pattern=[],this.validate(this.value),this.checkSum=0,this.setBaseUnit()}addData(){let t=this.value;this.addPattern(this.START);for(let e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.START),this.pattern.pop()}addCharacter(t){let e=this.characterMap[t];this.checkSum+=parseInt(t,10),this.addPattern(e)}addCheckSum(){this.checksum=(10-this.checkSum%10)%10,this.addCharacter(this.checksum)}setBaseUnit(){this.baseUnit=this.width/((this.value.length+1)*10+3+this.quietZoneLength)}validate(t){if(pV.test(t)||this.invalidCharacterError(t.match(/[^0-9]/)[0]),!J(t.length,this.VALID_CODE_LENGTHS))throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+this.VALID_CODE_LENGTHS.join(",")+".")}addPattern(t){let e;for(let i=0;i<t.length;i++)e=this.height-this.baseHeight*t.charAt(i),this.pattern.push({width:1,y1:e,y2:this.height}),this.pattern.push(1)}};var O5=/^\d+$/,mV=/^[a-z0-9]+$/i,ss=Object.assign,Jc=class extends z{constructor(t){super(),this.encoding=t,this.initProperties()}initProperties(){}addStart(){}is(){}isCode(){return!1}move(){}pushState(){}},Xf=class extends Jc{constructor(t,e){super(t),this.states=e,this._initMoves(e)}initProperties(){super.initProperties(),v(this,{FNC4:"FNC4",SHIFT:98})}addStart(){this.encoding.addPattern(this.START)}is(t,e){let i=t.charCodeAt(e);return this.isCode(i)}move(t){let e=0;for(;!this._moves[e].call(this,t)&&e<this._moves.length;)e++}pushState(t){let e=this.states,i=t.value,n=i.length,o;if(J("C",e)){let r=i.substr(t.index).match(/\d{4,}/g);r&&(n=i.indexOf(r[0],t.index))}for(;(o=t.value.charCodeAt(t.index))>=0&&this.isCode(o)&&t.index<n;)this.encoding.addPattern(this.getValue(o)),t.index++}_initMoves(t){this._moves=[],J(this.FNC4,t)&&this._moves.push(this._moveFNC),J(this.shiftKey,t)&&this._moves.push(this._shiftState),this._moves.push(this._moveState)}_moveFNC(t){if(t.fnc)return t.fnc=!1,t.previousState===this.key}_shiftState(t){if(t.previousState===this.shiftKey&&(t.index+1>=t.value.length||this.encoding[this.shiftKey].is(t.value,t.index+1)))return this.encoding.addPattern(this.SHIFT),t.shifted=!0,!0}_moveState(){return this.encoding.addPattern(this.MOVE),!0}},th={};th.A=class extends Xf{initProperties(){super.initProperties(),ss(this,{key:"A",shiftKey:"B",MOVE:101,START:103})}isCode(t){return 0<=t&&t<96}getValue(t){return t<32?t+64:t-32}};th.B=class extends Xf{initProperties(){super.initProperties(),ss(this,{key:"B",shiftKey:"A",MOVE:100,START:104})}isCode(t){return 32<=t&&t<128}getValue(t){return t-32}};th.C=class extends Jc{initProperties(){super.initProperties(),ss(this,{key:"C",MOVE:99,START:105})}addStart(){this.encoding.addPattern(this.START)}is(t,e){let i=V5(t,e,4);return(e+4<=t.length||t.length===2)&&O5.test(i)}move(){this.encoding.addPattern(this.MOVE)}pushState(t){let e;for(;(e=V5(t.value,t.index,2))&&O5.test(e)&&e.length===2;)this.encoding.addPattern(parseInt(e,10)),t.index+=2}getValue(t){return t}};th.FNC4=class extends Jc{constructor(t,e){super(t),this._initSubStates(e)}initProperties(){super.initProperties(),ss(this,{key:"FNC4",dependentStates:["A","B"]})}addStart(t){let e=t.value.charCodeAt(0)-128,i=this._getSubState(e);this.encoding[i].addStart()}is(t,e){let i=t.charCodeAt(e);return this.isCode(i)}isCode(t){return 128<=t&&t<256}pushState(t){let e=this._initSubState(t),i=this.encoding,n=e.value.length,o;if(t.index+=n,n<3)for(;e.index<n;e.index++)o=e.value.charCodeAt(e.index),e.state=this._getSubState(o),e.previousState!==e.state&&(e.previousState=e.state,i[e.state].move(e)),i.addPattern(i[e.state].MOVE),i.addPattern(i[e.state].getValue(o));else e.state!==e.previousState&&i[e.state].move(e),this._pushStart(e),i.pushData(e,this.subStates),t.index<t.value.length&&this._pushStart(e);t.fnc=!0,t.state=e.state}_pushStart(t){this.encoding.addPattern(this.encoding[t.state].MOVE),this.encoding.addPattern(this.encoding[t.state].MOVE)}_initSubState(t){let e={value:this._getAll(t.value,t.index),index:0};return e.state=this._getSubState(e.value.charCodeAt(0)),e.previousState=t.previousState===this.key?e.state:t.previousState,e}_initSubStates(t){this.subStates=[];for(let e=0;e<t.length;e++)J(t[e],this.dependentStates)&&this.subStates.push(t[e])}_getSubState(t){for(let e=0;e<this.subStates.length;e++)if(this.encoding[this.subStates[e]].isCode(t))return this.subStates[e]}_getAll(t,e){let i,n="",o=e;for(;(i=t.charCodeAt(o++))&&this.isCode(i);)n+=String.fromCharCode(i-128);return n}};th.FNC1=class extends Jc{constructor(t,e){super(t),this.states=e}initProperties(){super.initProperties(),ss(this,{key:"FNC1",startState:"C",startAI:"(",endAI:")",dependentStates:["C","B"],applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102})}addStart(){this.encoding[this.startState].addStart()}is(){return J(this.key,this.states)}pushState(t){let e=this.encoding,i=t.value.replace(/\s/g,""),n=new RegExp("["+this.startAI+this.endAI+"]","g"),o=t.index,r={state:this.startState},a,l,c;e.addPattern(this.START);let h=!0;for(;h;){if(r.index=0,c=i.charAt(o)===this.startAI?2:0,a=c>0?this.getBySeparator(i,o):this.getByLength(i,o),a.ai.length)l=o+c+a.id.length+a.ai.length;else if(l=i.indexOf(this.startAI,o+1),l<0){if(o+a.ai.max+a.id.length+c<i.length)throw new Error("Separators are required after variable length identifiers");l=i.length}if(r.value=i.substring(o,l).replace(n,""),this.validate(a,r.value),e.pushData(r,this.dependentStates),l>=i.length)break;o=l,r.state!==this.startState&&(e[this.startState].move(r),r.state=this.startState),a.ai.length||e.addPattern(this.START)}t.index=t.value.length}validate(t,e){let i=e.substr(t.id.length),n=t.ai;if(!n.type&&!O5.test(i))throw new Error("Application identifier "+t.id+" is numeric only but contains non numeric character(s).");if(n.type==="alphanumeric"&&!mV.test(i))throw new Error("Application identifier "+t.id+" is alphanumeric only but contains non alphanumeric character(s).");if(n.length&&n.length!==i.length)throw new Error("Application identifier "+t.id+" must be "+n.length+" characters long.");if(n.min&&n.min>i.length)throw new Error("Application identifier "+t.id+" must be at least "+n.min+" characters long.");if(n.max&&n.max<i.length)throw new Error("Application identifier "+t.id+" must be at most "+n.max+" characters long.")}getByLength(t,e){let i,n;for(let o=2;o<=4;o++)if(i=V5(t,e,o),n=this.getApplicationIdentifier(i)||this.getApplicationIdentifier(i.substring(0,i.length-1)),n)return{id:i,ai:n};this.unsupportedAIError(i)}unsupportedAIError(t){throw new Error("'"+t+"' is not a supported Application Identifier")}getBySeparator(t,e){let i=t.indexOf(this.startAI,e),n=t.indexOf(this.endAI,i),o=t.substring(i+1,n),r=this.getApplicationIdentifier(o)||this.getApplicationIdentifier(o.substr(o.length-1));return r||this.unsupportedAIError(o),{ai:r,id:o}}getApplicationIdentifier(t){let e=this.applicationIdentifiers,i=e.multiKey;if(e[t])return e[t];for(let n=0;n<i.length;n++){if(i[n].ids&&J(t,i[n].ids))return i[n].type;if(i[n].ranges){let o=i[n].ranges;for(let r=0;r<o.length;r++)if(o[r][0]<=t&&t<=o[r][1])return i[n].type}}}};var nl=class extends Mi{constructor(t){super(t),this._initStates()}initProperties(){super.initProperties(),ss(this,{characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106})}_initStates(){for(let t=0;t<this.states.length;t++)this[this.states[t]]=new th[this.states[t]](this,this.states)}initValue(t,e,i){this.pattern=[],this.value=t,this.width=e,this.height=i,this.checkSum=0,this.totalUnits=0,this.index=0,this.position=1}addData(){let t={value:this.value,index:0,state:""};this.value.length!==0&&(t.state=t.previousState=this.getNextState(t,this.states),this.addStart(t),this.pushData(t,this.states),this.addCheckSum(),this.addStop(),this.setBaseUnit())}pushData(t,e){for(;this[t.state].pushState(t),!(t.index>=t.value.length);)if(!t.shifted)t.previousState=t.state,t.state=this.getNextState(t,e),this[t.state].move(t);else{let n=t.state;t.state=t.previousState,t.previousState=n,t.shifted=!1}}addStart(t){this[t.state].addStart(t),this.position=1}addCheckSum(){this.checksum=this.checkSum%103,this.addPattern(this.checksum)}addStop(){this.addPattern(this.STOP)}setBaseUnit(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)}addPattern(t){let e=this.characterMap[t].toString(),i;for(let n=0;n<e.length;n++)i=parseInt(e.charAt(n),10),this.pattern.push(i),this.totalUnits+=i;this.checkSum+=t*this.position++}getNextState(t,e){for(let i=0;i<e.length;i++)if(this[e[i]].is(t.value,t.index))return e[i];this.invalidCharacterError(t.value.charAt(t.index))}},$f=class extends nl{initProperties(){super.initProperties(),ss(this,{name:"Code 128 A",states:["A"]})}},Qf=class extends nl{initProperties(){super.initProperties(),ss(this,{name:"Code 128 B",states:["B"]})}},Zf=class extends nl{initProperties(){super.initProperties(),ss(this,{name:"Code 128 C",states:["C"]})}},Kf=class extends nl{initProperties(){super.initProperties(),ss(this,{name:"Code 128",states:["C","B","A","FNC4"]})}},Jf=class extends nl{initProperties(){super.initProperties(),ss(this,{name:"Code GS1-128",states:["FNC1","C","B"]})}};function V5(s,t,e){return s.substring(t,t+e)}var sd=Object.assign,eh=class extends Mi{initProperties(){super.initProperties(),sd(this,{characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:"",checkSums:fV})}initValue(t,e){this.pattern=[],this.value=t,this.checkSumLength=0,this.width=e}setBaseUnit(){this.baseUnit=this.width/(12*(this.value.length+this.checkSumLength)+this.quietZoneLength+7)}addData(){let t=this.value;this.addPattern(this.START);for(let e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()}addCharacter(t){let e=this.characterMap[t];e||this.invalidCharacterError(t),this.addPattern(e)}addPattern(t){for(let e=0;e<t.length;e++)this.pattern.push(parseInt(t.charAt(e),10))}addCheckSum(){let e=this.checkSums[this.checkSumType].call(this.checkSums,this.value);this.checksum=e.join("");for(let i=0;i<e.length;i++)this.checkSumLength++,this.addPattern(this.characterMap[e[i]])}},t3=class extends eh{initProperties(){super.initProperties(),sd(this,{name:"MSI Modulo10",checkSumType:"Modulo10"})}},e3=class extends eh{initProperties(){super.initProperties(),sd(this,{name:"MSI Modulo11",checkSumType:"Modulo11"})}},i3=class extends eh{initProperties(){super.initProperties(),sd(this,{name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"})}},n3=class extends eh{initProperties(){super.initProperties(),sd(this,{name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"})}},fV={Modulo10(s){let t=[0,""],e=s.length%2,i,n,o;for(i=0;i<s.length;i++)t[(i+e)%2]+=parseInt(s.charAt(i),10);for(o=t[0],n=(t[1]*2).toString(),i=0;i<n.length;i++)o+=parseInt(n.charAt(i),10);return[(10-o%10)%10]},Modulo11(s){let t=0,e=11,i=s.length,n,o;for(let r=0;r<i;r++)n=((i-r)%6||6)+1,t+=n*s.charAt(r);return o=(e-t%e)%e,o!==10?[o]:[1,0]},Modulo11Modulo10(s){let t=this.Modulo11(s),e;return e=s+t[0],t.concat(this.Modulo10(e))},Modulo10Modulo10(s){let t=this.Modulo10(s),e;return e=s+t[0],t.concat(this.Modulo10(e))}};var gV=Object.assign,ih=class extends Mi{initProperties(){super.initProperties(),gV(this,{name:"EAN 13",keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}})}initValue(t,e,i){let n=String(t);if(n.length!==12||/\D/.test(n))throw new Error('The value of the "EAN13" encoding should be 12 symbols');this.pattern=[],this.options.height=i,this.baseUnit=e/(95+this.quietZoneLength),this.value=n,this.checksum=this.calculateChecksum(),this.leftKey=n[0],this.leftPart=n.substr(1,6),this.rightPart=n.substr(7)+this.checksum}addData(){this.addPieces(this.characterMap.start),this.addSide(this.leftPart,this.leftKey),this.addPieces(this.characterMap.middle),this.addSide(this.rightPart),this.addPieces(this.characterMap.start)}addSide(t,e){for(let i=0;i<t.length;i++)e&&parseInt(this.keyTable[e].charAt(i),10)?this.addPieces(Array.prototype.slice.call(this.characterMap.digits[t.charAt(i)]).reverse(),!0):this.addPieces(this.characterMap.digits[t.charAt(i)],!0)}addPieces(t,e){for(let i=0;i<t.length;i++)e?this.pattern.push({y1:0,y2:this.options.height*.95,width:t[i]}):this.pattern.push(t[i])}calculateChecksum(){let t=0,e=0,i=this.value.split("").reverse().join("");for(let o=0;o<i.length;o++)o%2?e+=parseInt(i.charAt(o),10):t+=parseInt(i.charAt(o),10);return(10-(3*t+e)%10)%10}};var vV=Object.assign,s3=class extends ih{initProperties(){super.initProperties(),vV(this,{name:"EAN 8"})}initValue(t,e,i){if(t.length!==7||/\D/.test(t))throw new Error("Invalid value provided");this.value=t,this.options.height=i,this.checksum=this.calculateChecksum(this.value),this.leftPart=this.value.substr(0,4),this.rightPart=this.value.substr(4)+this.checksum,this.pattern=[],this.baseUnit=e/(67+this.quietZoneLength)}};var o3={code11:id,code39:il,code39extended:Wf,code93:Kc,code93extended:qf,code128:Kf,code128a:$f,code128b:Qf,code128c:Zf,"gs1-128":Jf,msimod10:t3,msimod11:e3,msimod1010:i3,msimod1110:n3,postnet:Yf,ean8:s3,ean13:ih};function r3(s,t){let e=s.style.display;t==="canvas"&&(s.style.display="block");let i={width:s.clientWidth,height:s.clientHeight};return s.style.display=e,i}var xV=300,yV=100,B5=class extends z{constructor(t,e,i=mc){super(),this.options=v({},this.options,e),this.element=t,this.onError=i,this._initElement(),this._initSurface(),this._setOptions(e),e&&M(e.value)&&this.redraw()}destroy(){this._destroySurface()}_initElement(){bt(this.element,"k-barcode")}_initSurface(){let{options:t,surface:e}=this;(!e||e.options.type!==t.renderAs)&&(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_createSurface(){return _.Surface.create(this.surfaceElement,{type:this.options.renderAs})}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}setOptions(t){this._setOptions(t),this._initSurface(),this.redraw()}redraw(){let t=this._getSize();this.surface.clear(),this.surface.setSize({width:t.width,height:t.height}),this.createVisual(),this.surface.draw(this.visual)}getSize(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}}_resize(){this.redraw()}createVisual(){this.visual=this._render()}_render(){let t=this.options,e=t.value,i=t.text,n=at(i.margin),o=this._getSize(),r=t.border||{},a=this.encoding,l=new k(0,0,o.width,o.height).unpad(r.width).unpad(t.padding),c=l.height(),h,d,p,u=new _.Group;this.contentBox=l,u.append(this._getBackground(o)),i.visible&&(p=_.util.measureText(e,{font:i.font}).height,c-=p+n.top+n.bottom);try{h=a.encode(e,l.width(),c)}catch(m){return this.onError(m),u}return i.visible&&(d=e,t.checksum&&M(a.checksum)&&(d+=" "+a.checksum),u.append(this._getText(d))),this.barHeight=c,this._bandsGroup=this._getBands(h.pattern,h.baseUnit),u.append(this._bandsGroup),u}exportVisual(){return this._render()}_getSize(){let t=this.element,e=r3(t,this.options.renderAs),i=new T.Size(xV,yV);return e.width>0&&(i.width=e.width),e.height>0&&(i.height=e.height),this.options.width&&(i.width=this.options.width),this.options.height&&(i.height=this.options.height),i}value(t){if(!M(t))return this.options.value;this.options.value=String(t),this.redraw()}_getBands(t,e){let i=this.contentBox,n=i.x1,o,r,a=new _.Group;for(let l=0;l<t.length;l++){if(r=me(t[l])?t[l]:{width:t[l],y1:0,y2:this.barHeight},o=r.width*e,l%2){let c=T.Rect.fromPoints(new T.Point(n,r.y1+i.y1),new T.Point(n+o,r.y2+i.y1)),h=_.Path.fromRect(c,{fill:{color:this.options.color},stroke:null});a.append(h)}n+=o}return a}_getBackground(t){let e=this.options,i=e.border||{},n=new k(0,0,t.width,t.height).unpad(i.width/2);return _.Path.fromRect(n.toRect(),{fill:{color:e.background},stroke:{color:i.width?i.color:"",width:i.width,dashType:i.dashType}})}_getText(t){let e=this.options.text,i=this._textbox=new Gt(t,{font:e.font,color:e.color,align:"center",vAlign:"bottom",margin:e.margin});return i.reflow(this.contentBox),i.renderVisual(),i.visual}_setOptions(t){if(this.type=(t.type||this.options.type).toLowerCase(),this.type==="upca"&&(this.type="ean13",t.value="0"+t.value),this.type==="upce"&&(this.type="ean8",t.value="0"+t.value),!o3[this.type])throw new Error(`Encoding '${this.type}' is not supported.`);this.encoding=new o3[this.type],this.options=v({},this.options,t)}};b(B5,{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}});var Dn=Object.assign;function a3(s,t){let e=[],i=0;for(;i<s.length;)e.push(s.substring(i,i+t)),i+=t;return e}function He(s,t){let e=Number(s).toString(2);return e.length<t&&(e=new Array(t-e.length+1).join(0)+e),e}function od(s){return parseInt(s,2)}var l3=class extends z{constructor(t){super(),this.matrix=t,this.row=t.length-1,this.column=t.length-1,this.startColumn=this.column,this.dir=-1,this.c=0}move(){this.row+=this.dir*this.c,this.c^=1,this.column=this.startColumn-this.c}getNextCell(){for(;this.matrix[this.row][this.column]!==void 0;)this.move(),(this.row<0||this.row>=this.matrix.length)&&(this.dir=-this.dir,this.startColumn-=this.startColumn!==8?2:3,this.column=this.startColumn,this.row=this.dir<0?this.matrix.length-1:0);return{row:this.row,column:this.column}}getNextRemainderCell(){if(this.move(),this.matrix[this.row][this.column]===void 0)return{row:this.row,column:this.column}}};var nh=class extends z{constructor(t,e){super(),this.dataString=t,this.version=e}};var c3=class extends z{getEncodingResult(t,e){let i=OC(t),n=VC(i),o=h3(n,e),r=BC(i,o);return new nh(r,o)}};var Nr=class extends z{constructor(){super(),this.initProperties()}initProperties(){Dn(this,{modeIndicator:"",bitsInCharacterCount:[]})}getVersionIndex(t){return t<10?0:t>26?2:1}getBitsCharacterCount(t){return this.bitsInCharacterCount[this.getVersionIndex(t||40)]}getModeCountString(t,e){return this.modeIndicator+He(t,this.getBitsCharacterCount(e))}encode(){}getStringBitsLength(){}getValue(){}};var d3=class extends Nr{initProperties(){super.initProperties(),Dn(this,{bitsInCharacterCount:[10,12,14],modeIndicator:"0001"})}getValue(t){return parseInt(t,10)}encode(t,e){let i=this,n=a3(t,3),o=i.getModeCountString(t.length,e),r;for(r=0;r<n.length-1;r++)o+=He(n[r],10);return o+He(n[r],1+3*n[r].length)}getStringBitsLength(t,e){let i=t%3;return 4+this.getBitsCharacterCount(e)+10*Math.floor(t/3)+3*i+(i===0?0:1)}};var p3=class extends Nr{initProperties(){super.initProperties(),Dn(this,{characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010"})}getValue(t){return this.characters[t]}encode(t,e){let i=a3(t,2),n=this.getModeCountString(t.length,e),o,r;for(r=0;r<i.length-1;r++)o=45*this.getValue(i[r].charAt(0))+this.getValue(i[r].charAt(1)),n+=He(o,11);return o=i[r].length===2?45*this.getValue(i[r].charAt(0))+this.getValue(i[r].charAt(1)):this.getValue(i[r].charAt(0)),n+He(o,1+5*i[r].length)}getStringBitsLength(t,e){return 4+this.getBitsCharacterCount(e)+11*Math.floor(t/2)+6*(t%2)}};var u3=class extends Nr{initProperties(){super.initProperties(),Dn(this,{bitsInCharacterCount:[8,16,16],modeIndicator:"0100"})}getValue(t){let e=t.charCodeAt(0);if(e<=127||160<=e&&e<=255)return e;throw new Error(`Unsupported character in QR Code: "${t}".`)}encode(t,e){let i=this,n=i.getModeCountString(t.length,e);for(let o=0;o<t.length;o++)n+=He(i.getValue(t.charAt(o)),8);return n}getStringBitsLength(t,e){return 4+this.getBitsCharacterCount(e)+8*t}};var bV="numeric",_V="alphanumeric",wV="byte",rd={[bV]:new d3,[_V]:new p3,[wV]:new u3};var CV="byte",m3=class extends z{constructor(){super(),this.initProperties(),this.mode=rd[this.encodingMode]}initProperties(){Dn(this,{encodingMode:CV,utfBOM:"111011111011101110111111",initialModeCountStringLength:20,ranges:[128,2048,65536,2097152,67108864]})}getEncodingResult(t,e){let i=this.encode(t),n=this.getDataCodewordsCount(i),o=h3(n,e),r=this.mode.getModeCountString(i.length/8,o)+i;return new nh(r,o)}getDataCodewordsCount(t){let e=t.length;return Math.ceil((this.initialModeCountStringLength+e)/8)}encode(t){let e=this.utfBOM;for(let i=0;i<t.length;i++)e+=this.encodeCharacter(t.charCodeAt(i));return e}encodeCharacter(t){let e=this.getBytesCount(t),i=e-1,n="";if(e===1)n=He(t,8);else{let o=8-e;for(let r=0;r<i;r++)n=He(t>>r*6&63|128,8)+n;n=(t>>i*6|255>>o<<o).toString(2)+n}return n}getBytesCount(t){let e=this.ranges;for(let i=0;i<e.length;i++)if(t<e[i])return i+1}};var sh=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}];var HC="0000",SV="numeric",NC="alphanumeric",MV="byte",U5={1:0},Fr={0:1},AV={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},H5=[1,0,1,1,1],TV=[1,0,1],IV={L:"01",M:"00",Q:"11",H:"10"},zV="101010000010010",EV="10100110111",kV="1111100100101",DV=["11101100","00010001"],PV=93,F5=[(s,t)=>(s+t)%2===0,(s,t)=>s%2===0,(s,t)=>t%3===0,(s,t)=>(s+t)%3===0,(s,t)=>(Math.floor(s/2)+Math.floor(t/3))%2===0,(s,t)=>s*t%2+s*t%3===0,(s,t)=>(s*t%2+s*t%3)%2===0,(s,t)=>((s+t)%2+s*t%3)%2===0],LV=/^\d+/,$C="A-Z0-9 $%*+./:-",RV="A-Z $%*+./:-",OV=new RegExp("^["+RV+"]+"),FC=new RegExp("^["+$C+"]+"),jC=new RegExp("^[^"+$C+"]+"),VV=8,BV=5,HV=8,NV=17,FV=9,jV=16,j5=[[1,0],[1,25,0]];function Ai(s,t,e,i){for(let n=0;n<s.length;n++)s[n][e][i]=t}function UC(s,t,e,i){for(let n=0;n<F5.length;n++)s[n][e][i]=F5[n](e,i)?t^1:parseInt(t,10)}function UV(s,t){let e=new l3(s[0]),i,n,o;for(let r=0;r<t.length;r++)for(i=t[r],n=0;i.length>0;){for(let a=0;a<i.length;a++)for(let l=0;l<8;l++)o=e.getNextCell(),UC(s,i[a][n].charAt(l),o.row,o.column);for(n++;i[0]&&n===i[0].length;)i.splice(0,1)}for(;o=e.getNextRemainderCell();)UC(s,0,o.row,o.column)}function GV(s,t){let e=t*8,i=0,n=0,o=s;for(;o.length<e&&i<HC.length;)o+=HC.charAt(i++);for(o.length%8!==0&&(o+=new Array(9-o.length%8).join("0"));o.length<e;)o+=DV[n],n^=1;return o}function WV(){let s,t;for(t=1;t<255;t++)s=Fr[t-1]*2,s>255&&(s=s^285),Fr[t]=s,U5[s]=t;s=Fr[t-1]*2^285,Fr[t]=s,Fr[-1]=0}function qV(s,t){let e=[],i=s.length-2;for(let n=i;n>=0;n--)e[n]=s[n]^t[n];return e}function YV(s,t){let e=[];for(let i=0;i<s.length;i++)for(let n=0;n<t.length;n++)e[i+n]===void 0?e[i+n]=(s[i]+(t[n]>=0?t[n]:0))%255:e[i+n]=U5[Fr[e[i+n]]^Fr[(s[i]+t[n])%255]];return e}function XV(){let s=68;for(let t=2;t<=s;t++){let e=j5[t-1],i=[t,0];j5[t]=YV(e,i)}}WV();XV();function $V(s,t){let e=[],i=s.length-1;do e[i]=Fr[(s[i]+t)%255],i--;while(s[i]!==void 0);return e}function QV(s,t){let e=j5[t-1],i=new Array(t).concat(s),n=new Array(i.length-e.length).concat(e),o=s.length,r=[],a,l;for(l=0;l<o;l++)a=$V(n,U5[i[i.length-1]]),n.splice(0,1),i=qV(a,i);for(l=i.length-1;l>=0;l--)r[t-1-l]=He(i[l],8);return r}function ZV(s,t){let e=0,i=[],n=[],o,r=t.groups,a,l,c,h;for(let d=0;d<r.length;d++){l=r[d][0];for(let p=0;p<l;p++){a=r[d][1],o=[],c=[];for(let u=1;u<=a;u++)h=s.substring(e,e+8),o.push(h),c[a-u]=od(h),e+=8;i.push(o),n.push(QV(c,t.errorCodewordsPerBlock))}}return[i,n]}function GC(s,t,e,i,n){let o=LV.exec(s),r=o?o[0]:"",a=OV.exec(s),l=a?a[0]:"",c=FC.exec(s),h=c?c[0]:"",d,p;return r&&(r.length>=t||s.length===r.length||r.length>=e&&!FC.test(s.charAt(r.length)))?(d=SV,p=r):h&&(s.length===h.length||h.length>=i||n===NC)?(d=NC,p=r||l):(d=MV,h?p=h+jC.exec(s.substring(h.length))[0]:p=jC.exec(s)[0]),{mode:d,modeString:p}}function OC(s){let t=[],e,i=0,n=s;for(t.push(GC(n,VV,BV,HV,e)),e=t[0].mode,n=n.substr(t[0].modeString.length);n.length>0;){let o=GC(n,NV,FV,jV,e);o.mode!==e?(e=o.mode,t.push(o),i++):t[i].modeString+=o.modeString,n=n.substr(o.modeString.length)}return t}function VC(s){let t=0,e;for(let i=0;i<s.length;i++)e=rd[s[i].mode],t+=e.getStringBitsLength(s[i].modeString.length);return Math.ceil(t/8)}function h3(s,t){let e=0,i=sh.length-1,n=Math.floor(sh.length/2);do s<sh[n][t].totalDataCodewords?i=n:e=n,n=e+Math.floor((i-e)/2);while(i-e>1);return s<=sh[e][t].totalDataCodewords?n+1:i+1}function BC(s,t){let e="",i;for(let n=0;n<s.length;n++)i=rd[s[n].mode],e+=i.encode(s[n].modeString,t);return e}function KV(s){let t=od(s),e,i="";if(t===0)return"101010000010010";e=QC(od(s),EV,15);for(let n=0;n<e.length;n++)i+=e.charAt(n)^zV.charAt(n);return i}function QC(s,t,e){let i=od(t),n=t.length-1,o=s<<n,r=e-n,a=He(s,r),l=JV(o,i);return l=a+He(l,n),l}function JV(s,t){let e=t.toString(2).length,i=s.toString(2).length,n=s;do n^=t<<i-e,i=n.toString(2).length;while(i>=e);return n}function ad(s,t){return parseInt(s.charAt(t),10)}function tB(s){let t=[],e=17+4*s;for(let i=0;i<F5.length;i++){t[i]=new Array(e);for(let n=0;n<e;n++)t[i][n]=new Array(e)}return t}function WC(s,t){let e=s[0],i,n,o=0,r=t.length;for(i=0,n=8;i<=8;i++)i!==6&&Ai(s,ad(t,r-1-o++),i,n);for(i=8,n=7;n>=0;n--)n!==6&&Ai(s,ad(t,r-1-o++),i,n);for(o=0,n=e.length-1,i=8;n>=e.length-8;n--)Ai(s,ad(t,r-1-o++),i,n);for(Ai(s,1,e.length-8,8),i=e.length-7,n=8;i<e.length;i++)Ai(s,ad(t,r-1-o++),i,n)}function eB(s){return QC(s,kV,18)}function qC(s,t){let e=s[0],i=e.length,n=0,o=i-11,r=i-11,a=0,l,c,h;for(let d=0;d<t.length;d++)l=Math.floor(d/3),c=d%3,h=ad(t,t.length-d-1),Ai(s,h,n+l,o+c),Ai(s,h,r+c,a+l)}function f3(s,t,e,i){let n=t.length+2,o=t.length+1,r;for(let a=0;a<t.length;a++)for(let l=a;l<n-a;l++)r=t[a],Ai(s,r,e+l,i+a),Ai(s,r,e+a,i+l),Ai(s,r,e+o-l,i+o-a),Ai(s,r,e+o-a,i+o-l)}function N5(s,t,e,i){let n=e,o=i,r=s[0];do Ai(s,0,n,i),Ai(s,0,e,o),n+=t[0],o+=t[1];while(n>=0&&n<r.length)}function iB(s){let t=s[0].length;f3(s,H5,0,0),N5(s,[-1,-1],7,7),f3(s,H5,t-7,0),N5(s,[1,-1],t-8,7),f3(s,H5,0,t-7),N5(s,[-1,1],7,t-8)}function nB(s,t){if(t<2)return;let e=s[0],i=e.length,n=Math.floor(t/7),o=[6],r,a,l=0;for((r=AV[t])?a=(i-13-r)/n:r=a=(i-13)/(n+1),o.push(o[l++]+r);o[l]+a<i;)o.push(o[l++]+a);for(let c=0;c<o.length;c++)for(let h=0;h<o.length;h++)e[o[c]][o[h]]===void 0&&f3(s,TV,o[c]-2,o[h]-2)}function sB(s){let t=6,e=6,i=1,n=s[0].length;for(let o=8;o<n-8;o++)Ai(s,i,t,o),Ai(s,i,o,e),i^=1}function oB(s){let t=[],e=[],i=[],n=[],o=[],r,a,l=0,c=1,h=s[0].length;for(a=0;a<s.length;a++)t[a]=0,i[a]=0,o[a]=[0,0],n[a]=[0,0],e[a]=[];for(let m=0;m<h;m++)for(let f=0;f<h;f++)for(let g=0;g<s.length;g++)r=s[g],i[g]+=parseInt(r[m][f],10),e[g][l]===r[m][f]&&m+1<h&&f-1>=0&&r[m+1][f]===e[g][l]&&r[m+1][f-1]===e[g][l]&&(t[g]+=3),YC(g,n,t,l,r[m][f]),YC(g,n,t,c,r[f][m]),XC(g,t,e,r[m][f],o,l),XC(g,t,e,r[f][m],o,c);let d=h*h,p,u=Number.MAX_VALUE;for(a=0;a<t.length;a++)t[a]+=rB(i[a],d),t[a]<u&&(u=t[a],p=a);return p}function YC(s,t,e,i,n){t[s][i]=(t[s][i]<<1^n)%128,t[s][i]===PV&&(e[s]+=40)}function XC(s,t,e,i,n,o){e[s][o]===i?n[s][o]++:(e[s][o]=i,n[s][o]>=5&&(t[s]+=3+n[s][o]-5),n[s][o]=1)}function rB(s,t){let e=Math.floor(s/t*100),i=e%5,n=Math.abs(e-i-50),o=Math.abs(e+5-i-50);return 10*Math.min(n/5,o/5)}function aB(s){return s&&s.toLowerCase().indexOf("utf_8")>=0?new m3:new c3}function G5(s,t,e){let i=aB(e),n=i.getEncodingResult(s,t),o=n.version,r=sh[o-1][t],a=GV(n.dataString,r.totalDataCodewords),l=ZV(a,r),c=tB(o);iB(c),nB(c,o),sB(c),o>=7&&qC(c,He(0,18)),WC(c,He(0,15)),UV(c,l);let h=oB(c),d=c[h];o>=7&&qC([d],eB(o));let p=IV[t]+He(h,3);return WC([d],KV(p)),d}var ld=Math.round,lB=[[0,1],[1,1],[1,2],[2,2],[2,1],[3,1],[3,0],[2,0],[2,-1],[1,-1],[1,0]],ZC=[[0,1],[1,1],[1,0]],Do={DEFAULT_SIZE:200,QUIET_ZONE_LENGTH:4,DEFAULT_ERROR_CORRECTION_LEVEL:"L",DEFAULT_BACKGROUND:"#fff",DEFAULT_DARK_MODULE_COLOR:"#000",MIN_BASE_UNIT_SIZE:1,DEFAULT_LOGO_SIZE:7},W5=class extends z{constructor(t,e,i=mc){super(),this.options=v({},this.options,e),this.element=t,this.wrapper=this.element,this.onError=i,this._initElement(),this._initSurface(),this.setOptions(e)}destroy(){this._destroySurface()}_initElement(){bt(this.element,"k-qrcode")}_initSurface(){let{options:t,surface:e}=this;(!e||e.options.type!==t.renderAs)&&(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_createSurface(){return _.Surface.create(this.surfaceElement,{type:this.options.renderAs})}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}redraw(){let t=this._getSize();this.surface.clear(),this.surface.setSize({width:t,height:t}),this.createVisual(),this.surface.draw(this.visual)}getSize(){let t=this.element,e=t.clientWidth,i=t.clientHeight,n={width:0,height:0};return e>0&&(n.width=e),i&&(n.height=i),n}_resize(){this.redraw()}createVisual(){this.visual=this._render()}exportVisual(){return this._render()}_render(){let t=this._value,e,i=this.options.border||{},n=this.options.padding||0,o=i.width||0,r,a,l,c,h;i.width=o;let d=new _.Group;try{t&&(a=G5(t,this.options.errorCorrection,this.options.encoding),l=this._getSize(),h=l-2*(o+n),e=this._calculateBaseUnit(h,a.length),c=a.length*e,r=o+n+(h-c)/2,d.append(this._renderBackground(l,i)),d.append(this._renderMatrix(a,e,r)),this._hasCustomLogo()?d.append(this._renderLogo(l,e)):this._isSwiss()&&d.append(this._renderSwissCode(l,e)))}catch(p){this.onError(p)}return d}_renderLogo(t,e){let i,n,o=ld(t/2),r=this._getLogoSize(e*Do.DEFAULT_LOGO_SIZE),a=this.options.overlay.imageUrl,l={x:o-r.width/2,y:o-r.height/2};return n=new T.Rect(new T.Point(l.x,l.y),new T.Size(r.width,r.height)),i=new _.Image(a,n),i}_renderSwissCode(t,e){let i=this._getLogoSize(e*Do.DEFAULT_LOGO_SIZE);i=Math.max(i.width,i.height);let n=i/4,o=n/2,r=t/2,a={},l=new _.Group;return a.x=a.y=Math.ceil(r-e-i/2),l.append(this._renderShape(a,Math.ceil(i+e*2),ZC,"#fff")),a.x=a.y=r-i/2,l.append(this._renderShape(a,i,ZC,this.options.color)),a.x=r+o-i/2,a.y=r+o+n-i/2,l.append(this._renderShape(a,n,lB,"#fff")),l}_renderShape(t,e,i,n){let o=new _.MultiPath({fill:{color:n},stroke:null});o.moveTo(t.x,t.y);for(let r=0;r<i.length;r++)o.lineTo(t.x+e*i[r][0],t.y+e*i[r][1]);return o.close(),o}_getSize(){let t;if(this.options.size)t=parseInt(this.options.size,10);else{let e=this.element,i=r3(e,this.options.renderAs),n=Math.min(i.width,i.height);n>0?t=n:t=Do.DEFAULT_SIZE}return t}_calculateBaseUnit(t,e){let i=Math.floor(t/e);if(i<Do.MIN_BASE_UNIT_SIZE){let n=Math.ceil(e*Do.MIN_BASE_UNIT_SIZE);this.onError(new Error(`Insufficient size for QR Code: the current size is ${t}px and the minimum size is ${n}px.`))}else i*e>=t&&i-1>=Do.MIN_BASE_UNIT_SIZE&&i--;return i}_renderMatrix(t,e,i){let n=new _.MultiPath({fill:{color:this.options.color},stroke:null});for(let o=0;o<t.length;o++){let r=i+o*e,a=0;for(;a<t.length;){for(;t[o][a]===0&&a<t.length;)a++;if(a<t.length){let l=a;for(;t[o][a]===1;)a++;let c=ld(i+l*e),h=ld(r),d=ld(i+a*e),p=ld(r+e);n.moveTo(c,h).lineTo(c,p).lineTo(d,p).lineTo(d,h).close()}}}return n}_renderBackground(t,e){let i=new k(0,0,t,t).unpad(e.width/2);return _.Path.fromRect(i.toRect(),{fill:{color:this.options.background},stroke:{color:e.color,width:e.width}})}setOptions(t){let e=t||{};this.options=Dn(this.options,e),t.value!==void 0&&(this._value=String(this.options.value)),this._initSurface(),this.redraw()}value(t){if(t===void 0)return this._value;this._value=String(t),this.redraw()}_hasCustomLogo(){return!!this.options.overlay.imageUrl}_isSwiss(){return this.options.overlay.type==="swiss"}_getLogoSize(t){let e=this.options.overlay.width,i=this.options.overlay.height;return!e&&!i?e=i=t:e&&!i?i=e:!e&&i&&(e=i),{width:e,height:i}}};b(W5,{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:Do.DEFAULT_ERROR_CORRECTION_LEVEL,background:Do.DEFAULT_BACKGROUND,color:Do.DEFAULT_DARK_MODULE_COLOR,size:"",padding:0,border:{color:"",width:0},overlay:{type:"image",imageUrl:"",width:0,height:0}});var cB={a:6378137,b:6356752314245179e-9,f:.0033528106647474805,e:.08181919084262149},cd={WGS84:cB};function Hs(s){return s*s}var Ur=Math,hB=Ur.abs,KC=Ur.atan,g3=Ur.atan2,jr=Ur.cos,Po=Ur.sin,JC=Ur.tan,Wt=class s extends z{constructor(t,e){super(),this.initProperties(),arguments.length===1?(this.lat=t[0],this.lng=t[1]):(this.lat=t,this.lng=e)}initProperties(){v(this,{DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6}{1:N6}"})}toArray(){return[this.lat,this.lng]}equals(t){return t&&t.lat===this.lat&&t.lng===this.lng}clone(){return new s(this.lat,this.lng)}round(t){return this.lng=R(this.lng,t),this.lat=R(this.lat,t),this}wrap(){return this.lng=this.lng%180,this.lat=this.lat%90,this}distanceTo(t,e){return this.greatCircleTo(t,e).distance}destination(t,e,i){let n=jt(e),o=i||cd.WGS84,r=jt(this.lat),a=jt(this.lng),l=t/o.a,c=Ur.asin(Po(r)*jr(l)+jr(r)*Po(l)*jr(n)),h=a+g3(Po(n)*Po(l)*jr(r),jr(l)-Po(r)*Po(c));return new s(Mn(c),Mn(h))}greatCircleTo(t,e){let i=s.create(i),n=e||cd.WGS84;if(!i||this.clone().round(8).equals(i.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};let o=n.a,r=n.b,a=n.f,l=jt(i.lng-this.lng),c=KC((1-a)*JC(jt(this.lat))),h=Po(c),d=jr(c),p=KC((1-a)*JC(jt(i.lat))),u=Po(p),m=jr(p),f=l,g,x=this.DISTANCE_ITERATIONS,y=!1,C,S,w,I,D,E,F;for(;!y&&x-- >0;){C=Po(f),S=jr(f),w=Ur.sqrt(Hs(m*C)+Hs(d*u-h*m*S)),D=h*u+d*m*S,F=g3(w,D);let O=d*m*C/w;I=1-Hs(O),E=0,I!==0&&(E=D-2*h*u/I),g=f;let j=a/16*I*(4+a*(4-3*I));f=l+(1-j)*a*O*(F+j*w*(E+j*D*(-1+2*Hs(E)))),y=hB(f-g)<=this.DISTANCE_CONVERGENCE}let Q=I*(Hs(o)-Hs(r))/Hs(r),st=1+Q/16384*(4096+Q*(-768+Q*(320-175*Q))),ht=Q/1024*(256+Q*(-128+Q*(74-47*Q))),Ut=ht*w*(E+ht/4*(D*(-1+2*Hs(E))-ht/6*E*(-3+4*Hs(w))*(-3+4*Hs(E)))),Se=g3(m*C,d*u-h*m*S),zt=g3(d*C,-h*m+d*u*S);return{distance:R(r*st*(F-Ut),this.DISTANCE_PRECISION),azimuthFrom:Mn(Se),azimuthTo:Mn(zt)}}toString(){return String(this.lat)+","+String(this.lng)}static fromLngLat(t){return new s(t[1],t[0])}static fromLatLng(t){return new s(t[0],t[1])}static create(t,e){if(M(t))return t instanceof s?t.clone():arguments.length===1&&t.length===2?s.fromLatLng(t):new s(t,e)}};var Gr=Math,q5=Gr.atan,iS=Gr.exp,tS=Gr.pow,eS=Gr.sin,nS=Gr.log,sS=Gr.tan,dB=T.Point,y3=Gr.PI,Y5=y3/2,oS=y3/4,pB=y3/180,uB=cd.WGS84,v3=class extends z{constructor(t){super(),this.initProperties(),this._initOptions(t)}_initOptions(t){this.options=v({},this.options,t)}initProperties(){v(this,{MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12})}forward(t,e){let i=this,n=i.options,o=n.datum,r=o.a,a=n.centralMeridian,l=W(t.lat,-i.MAX_LAT,i.MAX_LAT),c=e?W(t.lng,-i.MAX_LNG,i.MAX_LNG):t.lng,h=jt(c-a)*r,d=i._projectLat(l);return new dB(h,d)}_projectLat(t){let e=this.options.datum,i=e.e,n=e.a,o=jt(t),r=sS(oS+o/2),a=i*eS(o),l=tS((1-a)/(1+a),i/2);return n*nS(r*l)}inverse(t,e){let i=this,n=i.options,o=n.datum,r=o.a,a=n.centralMeridian,l=t.x/(pB*r)+a,c=W(i._inverseY(t.y),-i.MAX_LAT,i.MAX_LAT);return e&&(l=W(l,-i.MAX_LNG,i.MAX_LNG)),new Wt(c,l)}_inverseY(t){let e=this,i=e.options.datum,n=i.a,o=i.e,r=o/2,a=iS(-t/n),l=Y5-2*q5(a),c;for(c=0;c<=e.INVERSE_ITERATIONS;c++){let h=o*eS(l),d=tS((1-h)/(1+h),r),p=Y5-2*q5(a*d)-l;if(l+=p,Gr.abs(p)<=e.INVERSE_CONVERGENCE)break}return Mn(l)}};b(v3,{centralMeridian:0,datum:uB});var X5=class extends v3{initProperties(){super.initProperties(),v(this,{MAX_LAT:85.0511287798})}_projectLat(t){let e=this.options.datum.a,i=jt(t),n=sS(oS+i/2);return e*nS(n)}_inverseY(t){let e=this.options.datum.a,i=iS(-t/e);return Mn(Y5-2*q5(i))}};var x3=class extends z{constructor(){super();let t=this,e=t._proj=new X5,i=this.c=2*y3*e.options.datum.a;this._tm=T.transform().translate(.5,.5).scale(1/i,-1/i),this._itm=T.transform().scale(i,-i).translate(-.5,-.5)}toPoint(t,e,i){return this._proj.forward(t,i).transform(this._tm).scale(e||1)}toLocation(t,e,i){let n=t.clone().scale(1/(e||1)).transform(this._itm);return this._proj.inverse(n,i)}};var rS=Object.defineProperty;var Pn=s=>{let t=document.createElement("div");return t.innerHTML=s,t.firstChild},aS=(s,t)=>{let e=document.createElement("div");for(e.innerHTML=s;e.childNodes.length>0;)t.appendChild(e.childNodes[0])},Wr=s=>{for(;s.firstChild;)s.removeChild(s.firstChild)},Q5=(s,t)=>{t.insertBefore(s,t.firstChild)},lS=(s,t)=>{for(s.appendChild(t);s.firstChild!==t;)t.appendChild(s.firstChild)},Z5=s=>s.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()}),K5=s=>{let t;return s&&String(s).endsWith("px")?t=s:t=String(s)+"px",t},cS=s=>{let t=!1,e,i=[],n={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},o={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},r={tablet:/playbook|ipad|fire/i},a={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(let l in n)if(An(n,l)&&(i=s.match(n[l]),i)){if(l==="windows"&&"plugins"in navigator)return!1;t={},t.device=l,t.tablet=$5(l,r,!1),t.browser=$5(s,a,"default"),t.name=$5(l,o),t[t.name]=!0,t.majorVersion=i[2],t.minorVersion=(i[3]||"0").replace("_","."),e=t.minorVersion.replace(".","").substr(0,2),t.flatVersion=t.majorVersion+e+new Array(3-(e.length<3?e.length:2)).join("0");break}return t};function $5(s,t,e){for(let i in t)if(An(t,i)&&t[i].test(s))return i;return e!==void 0?e:s}var hS=s=>{let t=cS(s);return t.ios||t.android},mB=s=>{let t=!1,e=[],i={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(let n in i)if(An(i,n)&&(e=s.match(i[n]),e)){t={},t[n]=!0,t[e[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||e[2],10);break}return t},hd=()=>{let s={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"},t=os();return t.touch&&(t.mobileOS.ios||t.mobileOS.android)?s={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:t.pointers?s={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:t.msPointers&&(s={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),s},os=()=>{let s=cS(navigator.userAgent),t=mB(navigator.userAgent),e=t.chrome,i=t.crios,n=t.mozilla,o=t.safari,r={};r.mobileOS=s,r.touch="ontouchstart"in window,r.pointers=!e&&!i&&!n&&!o&&window.PointerEvent,r.msPointers=!e&&window.MSPointerEvent,r.mouseAndTouchPresent=r.touch&&!(r.mobileOS.ios||r.mobileOS.android),r.eventCapture=document.documentElement.addEventListener;let a=document.createElement("table"),l=r.transitions=!1,c=r.transforms=!1,h="string";return["Moz","webkit","O","ms"].forEach(function(d){let p=typeof a.style[d+"Transition"]===h;if(p||typeof a.style[d+"Transform"]===h){let u=d.toLowerCase();return c={css:u!=="ms"?"-"+u+"-":"",prefix:d,event:u==="o"||u==="webkit"?u:""},p&&(l=c,l.event=l.event?l.event+"TransitionEnd":"transitionend"),!1}}),a=null,r.transforms=c,r.transitions=l,r.delayedClick=function(){if(r.touch){if(r.mobileOS.ios)return!0;if(r.mobileOS.android){if(!r.browser.chrome)return!0;if(r.browser.version<32)return!1;let d=document.querySelector("meta[name=viewport]");return!(d?d.getAttribute("content"):"").match(/user-scalable=no/i)}}return!1},r},fB=(s,t)=>{if(!t)return!1;let e=t.parentNode;for(;e!==null;){if(e===s)return!0;e=e.parentNode}return!1},dS=(s,t)=>s===t||fB(s,t),At=(s,t)=>s.bind(t);function gB(s){return typeof s=="string"}var ke=(s,t,e,i,n)=>{vB(s,t,e,i,n)},vB=(s,t,e,i,n)=>{(kt(t)?t:(t||"").split(" ")).forEach(function(r){xB(s,r,e,i,n)})},xB=(s,t,e,i,n)=>{let o=i,r;e&&pt(e)&&!i?o=e:e&&gB(e)&&pt(o)&&(r=e),s.addEventListener(t,function(a){let l=a.target?a.target.closest(r):null;if(!r||r&&a.target&&l){let c=r?l:a.currentTarget;rS(a,"currentTarget",{value:c}),rS(a,"delegateTarget",{value:s}),o(a)}},!!n)},Ne=(s,t,e,i,n)=>{yB(s,t,e,i,n)},yB=(s,t,e,i)=>{(kt(t)?t:(t||"").split(" ")).forEach(function(o){bB(s,o,e,i)})},bB=(s,t,e,i)=>{s.removeEventListener(t,e,!!i)},ln=s=>{let t=hd(navigator.userAgent);function e(o){return t[o]||o}let i=/([^ ]+)/g;return s.replace(i,e)},qr=(s,t)=>{let e=s.prototype;e.events?t.forEach(i=>{e.events.indexOf(i)<0&&e.events.push(i)}):e.events=t},pS=s=>{let t=s.originalEvent||s,e=t.wheelDeltaY,i;return t.wheelDelta?(e===void 0||e)&&(i=t.wheelDelta):t.detail&&t.axis===t.VERTICAL_AXIS&&(i=-t.detail*10),i},Ln=()=>Number(new Date),J5=()=>{},tx=s=>{let t=[];if(s){let e=Z5(s).split("-");for(let i=0;i<e.length;i++)t.push("k-pos-"+e[i])}return t.join(" ")};var uS="string",mS="function",_B=function(){this._defaultPrevented=!0},wB=function(){return this._defaultPrevented===!0},Ce=class extends z{constructor(){super(),this._events={}}destroy(){this.unbind()}bind(t,e,i){let n=this,o,r=typeof t===uS?[t]:t||[],a,l,c,h=typeof e===mS,d;if(e===void 0){for(o in t)n.bind(o,t[o]);return n}for(o=0,a=r.length;o<a;o++){let p=r[o];c=h?e:e[p],c&&(i&&(l=c,c=function(){n.unbind(p,c),l.apply(n,arguments)},c.original=l),d=n._events[p]=n._events[p]||[],d.push(c))}return n}one(t,e){return this.bind(t,e,!0)}first(t,e){let i=this,n,o=typeof t===uS?[t]:t,r,a,l=typeof e===mS,c;for(n=0,r=o.length;n<r;n++){let h=o[n];a=l?e:e[h],a&&(c=i._events[h]=i._events[h]||[],c.unshift(a))}return i}trigger(t,e){let i=this,n=i._events[t],o,r;if(n){let a=e||{};for(a.sender=i,a._defaultPrevented=!1,a.preventDefault=_B,a.isDefaultPrevented=wB,n=n.slice(),o=0,r=n.length;o<r;o++)n[o].call(i,a);return a._defaultPrevented===!0}return!1}unbind(t,e){let i=this,n=i._events[t],o;if(t===void 0)i._events={};else if(n)if(e)for(o=n.length-1;o>=0;o--)(n[o]===e||n[o].original===e)&&n.splice(o,1);else i._events[t]=[];return i}_setEvents(t){let e=(this.events||[]).length;for(let i=0;i<e;i++){let n=this.events[i];this.options[n]&&t[n]&&(this.unbind(n,this.options[n]),this._events&&this._events[n]&&delete this._events[n])}this.bind(this.events,t)}};var dd=class extends Ce{constructor(t,e){super(),this.element=t,this._initOptions(e),this.items=[],bt(this.element,"k-widget k-attribution")}_initOptions(t){this.options=v({},this.options,t)}filter(t,e){this._extent=t,this._zoom=e,this._render()}add(t){let e=t;M(t)&&(typeof t=="string"&&(e={text:t}),this.items.push(e),this._render())}remove(t){let e=[];for(let i=0;i<this.items.length;i++){let n=this.items[i];n.text!==t&&e.push(n)}this.items=e,this._render()}clear(){this.items=[],Wr(this.element)}_render(){let t=[];for(let e=0;e<this.items.length;e++){let i=this.items[e],n=this._itemText(i);n!==""&&t.push(n)}if(t.length>0){Wr(this.element);let e=t.join(this.options.separator);aS(e,this.element),this.showElement()}else this.hideElement()}hideElement(){this.element.style.display="none"}showElement(){this.element.style.display=""}_itemText(t){let e="",i=this._inZoomLevel(t.minZoom,t.maxZoom),n=this._inArea(t.extent);return i&&n&&(e+=t.text),e}_inZoomLevel(t,e){let i=!0,n=q(t,-Number.MAX_VALUE),o=q(e,Number.MAX_VALUE);return i=this._zoom>n&&this._zoom<o,i}_inArea(t){let e=!0;return t&&(e=t.contains(this._extent)),e}};b(dd,{name:"Attribution",separator:"&nbsp;|&nbsp;"});var fS="pan",CB={up:{className:"k-navigator-n",iconClass:"k-i-caret-alt-up"},down:{className:"k-navigator-s",iconClass:"k-i-caret-alt-down"},right:{className:"k-navigator-e",iconClass:"k-i-caret-alt-right"},left:{className:"k-navigator-w",iconClass:"k-i-caret-alt-left"}};function b3(s,t){let e='<button class="k-button k-button-square k-rounded-full k-button-flat k-button-flat-base k-icon-button '+CB[s].className+'" aria-label="move '+s+'">'+Yn({icon:`caret-alt-${s}`,iconClass:"k-button-icon",svgIcons:t.svgIcons,type:t.type})+"</button>";return Pn(e)}var oh=class extends Ce{constructor(t,e){super(),this.element=t,this._initOptions(e);let i=b3("up",e.icons),n=b3("right",e.icons),o=b3("down",e.icons),r=b3("left",e.icons);this.element.appendChild(i),this.element.appendChild(n),this.element.appendChild(o),this.element.appendChild(r),bt(this.element,"k-widget k-navigator"),ke(this.element,"click",".k-button",At(this._click,this));let a=this.element.parentNode.closest("[data-role]");this._keyroot=a||this.element,this._tabindex(this._keyroot),this._keydownHandler=At(this._keydown,this),ke(this._keyroot,"keydown",this._keydownHandler)}destroy(){this.dispose()}dispose(){Ne(this._keyroot,"keydown",this._keydownHandler)}_tabindex(t){let e=t||this.wrapper||this.element,i=this.element,n="tabindex",o=e.getAttribute(n)||i.getAttribute(n);i.removeAttribute(n),e.setAttribute(n,isNaN(o)?0:o)}_initOptions(t){this.options=v({},this.options,t)}_pan(t,e){let i=this.options.panStep;this.trigger(fS,{x:t*i,y:e*i})}_click(t){let e=0,i=0,n=t.currentTarget;n.matches(".k-navigator-n")?i=1:n.matches(".k-navigator-s")?i=-1:n.matches(".k-navigator-e")?e=1:n.matches(".k-navigator-w")&&(e=-1),this._pan(e,i),t.preventDefault()}_keydown(t){switch(t.which){case po.UP:this._pan(0,1),t.preventDefault();break;case po.DOWN:this._pan(0,-1),t.preventDefault();break;case po.RIGHT:this._pan(1,0),t.preventDefault();break;case po.LEFT:this._pan(-1,0),t.preventDefault();break;default:break}}};b(oh,{name:"Navigator",panStep:1});qr(oh,[fS]);function gS(s,t,e){let i='<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-zoom-'+s+'" title="zoom-'+s+'" aria-label="zoom-'+s+'">'+Yn({icon:t,iconClass:"k-button-icon",svgIcons:e.svgIcons,type:e.type})+"</button>";return Pn(i)}var SB=187,MB=189,AB=61,TB=173,vS="change",rh=class extends Ce{constructor(t,e,i){super(),this.element=t,this._initOptions(e);let n=gS("in","plus",i),o=gS("out","minus",i);this.element.appendChild(n),this.element.appendChild(o),this.element.setAttribute("role","group"),bt(this.element,"k-widget k-zoom-control k-button-group k-group-horizontal"),this._clickHandler=this._click.bind(this),ke(this.element,"click",".k-button",this._clickHandler);let r=this.element.parentNode.closest("[data-role]");this._keyroot=r||this.element,this._tabindex(this._keyroot),this._keydownHandler=this._keydown.bind(this),ke(this._keyroot,"keydown",this._keydownHandler)}destroy(){this.element&&Ne(this.element,"click",this._clickHandler),this._keyroot&&Ne(this._keyroot,"keydown",this._keydownHandler)}_tabindex(t){let e=t||this.wrapper||this.element,i=this.element,n="tabindex",o=e.getAttribute(n)||i.getAttribute(n);i.removeAttribute(n),e.setAttribute(n,isNaN(o)?0:o)}_initOptions(t){this.options=v({},this.options,t)}_change(t){let e=this.options.zoomStep;this.trigger(vS,{delta:t*e})}_click(t){let e=t.currentTarget,i=1;hr(e,"k-zoom-out")&&(i=-1),this._change(i),t.preventDefault()}_keydown(t){switch(t.which){case po.NUMPAD_PLUS:case SB:case AB:this._change(1);break;case po.NUMPAD_MINUS:case MB:case TB:this._change(-1);break;default:break}}};b(rh,{name:"ZoomControl",zoomStep:1});qr(rh,[vS]);var bS=Math,xS=bS.max,yS=bS.min,Lo=class s extends z{constructor(t,e){super();let i=Wt.create(t),n=Wt.create(e);i.lng+180>n.lng+180&&i.lat+90<n.lat+90?(this.se=i,this.nw=n):(this.se=n,this.nw=i)}contains(t){let e=this.nw,i=this.se,n=q(t.lng,t[1]),o=q(t.lat,t[0]);return t&&n+180>=e.lng+180&&n+180<=i.lng+180&&o+90>=i.lat+90&&o+90<=e.lat+90}center(){let t=this.nw,e=this.se,i=t.lng+(e.lng-t.lng)/2,n=t.lat+(e.lat-t.lat)/2;return new Wt(n,i)}containsAny(t){let e=!1;for(let i=0;i<t.length;i++)e=e||this.contains(t[i]);return e}include(t){let e=this.nw,i=this.se,n=q(t.lng,t[1]),o=q(t.lat,t[0]);e.lng=yS(e.lng,n),e.lat=xS(e.lat,o),i.lng=xS(i.lng,n),i.lat=yS(i.lat,o)}includeAll(t){for(let e=0;e<t.length;e++)this.include(t[e])}edges(){let t=this.nw,e=this.se;return{nw:this.nw,ne:new Wt(t.lat,e.lng),se:this.se,sw:new Wt(e.lat,t.lng)}}toArray(){let t=this.nw,e=this.se;return[t,new Wt(t.lat,e.lng),e,new Wt(e.lat,t.lng)]}overlaps(t){return this.containsAny(t.toArray())||t.containsAny(this.toArray())}static create(t,e){if(t instanceof s)return t;if(t&&e)return new s(t,e);if(t&&t.length===4&&!e)return new s([t[0],t[1]],[t[2],t[3]])}static get World(){return new s([90,-180],[-90,180])}};var _S="showTooltip",wS="hideTooltip",ex="centerChange",CS="zoomChange",SS="init";var pd=class extends z{constructor(t,e){super(),this.widgetService=t,this.options=v({},this.options,e),this.offset={x:0,y:0}}show(t,e){this.location!==e.location&&(this.anchor=t,this.location=e.location,this.widgetService.notify(_S,Object.assign({anchor:this.anchor},e)),this.visible=!0)}hide(){this.widgetService&&this.widgetService.notify(wS),this.visible=!1,this.location=null}get anchor(){return this._anchor}set anchor(t){let e=this.widgetService.widget._toDocumentCoordinates({x:t.left-this.offset.x,y:t.top-this.offset.y});this._anchor={left:e.left,top:e.top}}destroy(){this.widgetService=null}};b(pd,{border:{width:1},opacity:1});var Yr=class extends z{constructor(t,e){super(),this.support=os(),this._initOptions(e),this.map=t;let i=document.createElement("div");bt(i,"k-layer"),i.style.zIndex=this.options.zIndex,i.style.opacity=this.options.opacity,this.element=i,t.scrollElement.appendChild(this.element),this._beforeReset=this._beforeReset.bind(this),this._reset=this._reset.bind(this),this._resize=this._resize.bind(this),this._panEnd=this._panEnd.bind(this),this._activate(),this._updateAttribution()}destroy(){this._deactivate()}_initOptions(t){this.options=v({},this.options,t)}show(){this.reset(),this._activate(),this._applyExtent(!0)}hide(){this._deactivate(),this._setVisibility(!1)}reset(){this._beforeReset(),this._reset()}_reset(){this._applyExtent()}_beforeReset(){}_resize(){}_panEnd(){this._applyExtent()}_applyExtent(){let t=this.options,e=this.map.zoom(),i=!M(t.minZoom)||e>=t.minZoom,n=!M(t.maxZoom)||e<=t.maxZoom,o=Lo.create(t.extent),r=!o||o.overlaps(this.map.extent());this._setVisibility(i&&n&&r)}_setVisibility(t){this.element.style.display=t?"":"none"}_activate(){let t=this.map;this._deactivate(),t.bind("beforeReset",this._beforeReset),t.bind("reset",this._reset),t.bind("resize",this._resize),t.bind("panEnd",this._panEnd)}_deactivate(){let t=this.map;t.unbind("beforeReset",this._beforeReset),t.unbind("reset",this._reset),t.unbind("resize",this._resize),t.unbind("panEnd",this._panEnd)}_updateAttribution(){let t=this.map.attribution;t&&t.add(this.options.attribution)}_readData(){return this.options.data||[]}_hasData(){return this._data&&this._data.length>0}_layerIndex(){return(this.map.layers||[]).indexOf(this)}};var Xr=Math,ix=T.Point;function MS(s){return pt(s)?s:co.compile(s)}function IB(s){return new ix(R(s.x),R(s.y))}function AS(s){let t=s;return typeof s!="string"&&(t+="px"),t}var ud=class extends Yr{constructor(t,e){super(t,e),typeof this.options.subdomains=="string"&&(this.options.subdomains=this.options.subdomains.split(""));let i=this._viewType();this._view=new i(this.element,this.options)}destroy(){super.destroy(),this._view.destroy(),this._view=null}_beforeReset(){let t=this.map,e=t.locationToLayer(t.extent().nw).round();this._view.viewOrigin(e)}_reset(){super._reset(),this._updateView(),this._view.reset()}_viewType(){return nx}_activate(){super._activate(),this.support.mobileOS||(this._pan||(this._pan=Un(this._render.bind(this),100)),this.map.bind("pan",this._pan))}_deactivate(){super._deactivate(),this._pan&&this.map.unbind("pan",this._pan)}_updateView(){let t=this._view,e=this.map,i=e.extent(),n={nw:e.locationToLayer(i.nw).round(),se:e.locationToLayer(i.se).round()};t.center(e.locationToLayer(e.center())),t.extent(n),t.zoom(e.zoom())}_resize(){this._render()}_panEnd(t){super._panEnd(t),this._render()}_render(){this._updateView(),this._view.render()}};b(ud,{tileSize:256,subdomains:["a","b","c"],urlTemplate:"",zIndex:1});var nx=class extends z{constructor(t,e){super(),this.element=t,this._initOptions(e),this.pool=new w3}_initOptions(t){this.options=v({},this.options,t)}center(t){this._center=t}extent(t){this._extent=t}viewOrigin(t){this._viewOrigin=t}zoom(t){this._zoom=t}pointToTileIndex(t){return new ix(Xr.floor(t.x/this.options.tileSize),Xr.floor(t.y/this.options.tileSize))}tileCount(){let t=this.size(),e=this.pointToTileIndex(this._extent.nw),i=this._extent.nw,n=this.indexToPoint(e).translate(-i.x,-i.y);return{x:Xr.ceil((Xr.abs(n.x)+t.width)/this.options.tileSize),y:Xr.ceil((Xr.abs(n.y)+t.height)/this.options.tileSize)}}size(){let t=this._extent.nw,e=this._extent.se,i=e.clone().translate(-t.x,-t.y);return{width:i.x,height:i.y}}indexToPoint(t){let e=t.x,i=t.y;return new ix(e*this.options.tileSize,i*this.options.tileSize)}subdomainText(){let t=this.options.subdomains;return t[this.subdomainIndex++%t.length]}destroy(){Wr(this.element),this.pool.empty()}reset(){this.pool.reset(),this.subdomainIndex=0,this.render()}render(){let t=this.tileCount(),e=this.pointToTileIndex(this._extent.nw),i,n,o;for(n=0;n<t.x;n++)for(o=0;o<t.y;o++)i=this.createTile({x:e.x+n,y:e.y+o}),i.visible||i.show()}createTile(t){let e=this.tileOptions(t),i=this.pool.get(this._center,e);return i.element.parentNode||this.element.append(i.element),i}tileOptions(t){let e=this.wrapIndex(t),i=this.indexToPoint(t),n=this._viewOrigin,o=i.clone().translate(-n.x,-n.y);return{index:e,currentIndex:t,point:i,offset:IB(o),zoom:this._zoom,size:this.options.tileSize,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate}}wrapIndex(t){let e=Xr.pow(2,this._zoom);return{x:this.wrapValue(t.x,e),y:W(t.y,0,e-1)}}wrapValue(t,e){let i=Xr.abs(t)%e,n=t;return t>=0?n=i:n=e-(i===0?e:i),n}},_3=class extends z{constructor(t,e){super(),this.id=t,this.visible=!0,this._initOptions(e),this.createElement(),this.show()}destroy(){let t=this.element,e=t?t.parentNode:null;t&&(e&&e.removeChild(t),this.element=null)}_initOptions(t){this.options=v({},this.options,t)}createElement(){let t=document.createElement("img"),e=this.options.size+"px";t.setAttribute("alt",""),t.style.position="absolute",t.style.display="block",t.style.width=t.style.maxWidth=e,t.style.height=t.style.maxHeight=e,this.element=t}show(){let t=this.element;t.style.top=AS(this.options.offset.y),t.style.left=AS(this.options.offset.x);let e=this.url();e&&t.setAttribute("src",e),t.style.visibility="visible",this.visible=!0}hide(){this.element.style.visibility="hidden",this.visible=!1}url(){return MS(this.options.urlTemplate)(this.urlOptions())}errorUrl(){return MS(this.options.errorUrlTemplate)(this.urlOptions())}urlOptions(){let t=this.options;return{zoom:t.zoom,subdomain:t.subdomain,z:t.zoom,x:t.index.x,y:t.index.y,s:t.subdomain,quadkey:t.quadkey,q:t.quadkey,culture:t.culture,c:t.culture}}};b(_3,{urlTemplate:"",errorUrlTemplate:""});var w3=class extends z{constructor(){super(),this._items=[]}get(t,e){return this._items.length>=this.options.maxSize&&this._remove(t),this._create(e)}empty(){let t=this._items;for(let e=0;e<t.length;e++)t[e].destroy();this._items=[]}reset(){let t=this._items;for(let e=0;e<t.length;e++)t[e].hide()}_create(t){let e=this._items,i,n=D_(t.point.toString()+t.offset.toString()+t.zoom+t.urlTemplate);for(let o=0;o<e.length;o++)if(e[o].id===n){i=e[o];break}return i?i.show():(i=new _3(n,t),this._items.push(i)),i}_remove(t){let e=this._items,i=-1,n=-1;for(let o=0;o<e.length;o++){let r=e[o].options.point.distanceTo(t);r>i&&!e[o].visible&&(n=o,i=r)}n!==-1&&(e[n].destroy(),e.splice(n,1))}};b(w3,{maxSize:100});var sl=Object.assign,md="change",C3=class extends Ce{constructor(t,e){super();let i=this,n=t[0]||t;i.capture=!1;let o=hd(navigator.userAgent);n.addEventListener?(o.down.split(" ").forEach(function(r){n.addEventListener(r,At(i._press,i),!0)}),o.up.split(" ").forEach(function(r){n.addEventListener(r,At(i._release,i),!0)})):(o.down.split(" ").forEach(function(r){n.attachEvent(r,At(i._press,i))}),o.up.split(" ").forEach(function(r){n.attachEvent(r,At(i._release,i))})),i.bind(["press","release"],e||{})}captureNext(){this.capture=!0}cancelCapture(){this.capture=!1}_press(t){let e=this;e.trigger("press"),e.capture&&t.preventDefault()}_release(t){let e=this;e.trigger("release"),e.capture&&(t.preventDefault(),e.cancelCapture())}},S3=class extends Ce{constructor(t){super();let e=this;e.forcedEnabled=!1,sl(e,t),e.scale=1,e.horizontal?(e.measure="offsetWidth",e.scrollSize="scrollWidth",e.axis="x"):(e.measure="offsetHeight",e.scrollSize="scrollHeight",e.axis="y")}makeVirtual(){sl(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})}virtualSize(t,e){(this._virtualMin!==t||this._virtualMax!==e)&&(this._virtualMin=t,this._virtualMax=e,this.update())}outOfBounds(t){return t>this.max||t<this.min}forceEnabled(){this.forcedEnabled=!0}getSize(){return this.container[this.measure]}getTotal(){return this.element[this.scrollSize]}rescale(t){this.scale=t}update(t){let e=this,i=e.virtual?e._virtualMax:e.getTotal(),n=i*e.scale,o=e.getSize();i===0&&!e.forcedEnabled||(e.max=e.virtual?-e._virtualMin:0,e.size=o,e.total=n,e.min=Math.min(e.max,o-n),e.minScale=o/i,e.centerOffset=(n-o)/2,e.enabled=e.forcedEnabled||n>o,t||e.trigger(md,e))}},M3=class extends Ce{constructor(t){super();let e=this;e.x=new S3(sl({horizontal:!0},t)),e.y=new S3(sl({horizontal:!1},t)),e.container=t.container,e.forcedMinScale=t.minScale,e.maxScale=t.maxScale||100,e.bind(md,t)}rescale(t){this.x.rescale(t),this.y.rescale(t),this.refresh()}centerCoordinates(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}}refresh(){let t=this;t.x.update(),t.y.update(),t.enabled=t.x.enabled||t.y.enabled,t.minScale=t.forcedMinScale||Math.min(t.x.minScale,t.y.minScale),t.fitScale=Math.max(t.x.minScale,t.y.minScale),t.trigger(md)}},A3=class extends Ce{constructor(t){super(),sl(this,t)}outOfBounds(){return this.dimension.outOfBounds(this.movable[this.axis])}dragMove(t){let e=this,i=e.dimension,n=e.axis,o=e.movable,r=o[n]+t;if(!i.enabled)return;let a=t;(r<i.min&&t<0||r>i.max&&t>0)&&(a*=e.resistance),o.translateAxis(n,a),e.trigger(md,e)}},T3=class extends z{constructor(t){super();let e=this,i,n,o,r;sl(e,{elastic:!0},t),o=e.elastic?.5:0,r=e.movable,e.x=i=new A3({axis:"x",dimension:e.dimensions.x,resistance:o,movable:r}),e.y=n=new A3({axis:"y",dimension:e.dimensions.y,resistance:o,movable:r}),e.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart(a){e.gesture=a,e.offset=Ms(e.dimensions.container)},press(a){let l=a.event.target.closest("a");l&&l.matches("[data-navigate-on-press=true]")&&a.sender.cancel()},gesturechange(a){let l=e.gesture,c=l.center,h=a.center,d=a.distance/l.distance,p=e.dimensions.minScale,u=e.dimensions.maxScale,m;r.scale<=p&&d<1&&(d+=(1-d)*.8),r.scale*d>=u&&(d=u/r.scale);let f=r.x+e.offset.left,g=r.y+e.offset.top;m={x:(f-c.x)*d+h.x-f,y:(g-c.y)*d+h.y-g},r.scaleWith(d),i.dragMove(m.x),n.dragMove(m.y),e.dimensions.rescale(r.scale),e.gesture=a,a.preventDefault()},move(a){a.event.target.tagName.match(/textarea|input/i)||(i.dimension.enabled||n.dimension.enabled?(i.dragMove(a.x.delta),n.dragMove(a.y.delta),a.preventDefault()):a.touch.skip())},end(a){a.preventDefault()}})}},TS=function(s,t,e){return"translate3d("+s+"px,"+t+"px,0) scale("+e+")"},ol=class extends Ce{constructor(t){super();let e=this;e.support=os(),this.transformStyle=this.support.transitions.prefix+"Transform",e.element=t,e.element.style.webkitTransformOrigin="left top",e.x=0,e.y=0,e.scale=1;let i=TS(e.x,e.y,e.scale);e.element.style[this.transformStyle]=i,e._saveCoordinates(i)}translateAxis(t,e){this[t]+=e,this.refresh()}scaleTo(t){this.scale=t,this.refresh()}scaleWith(t){this.scale*=t,this.refresh()}translate(t){this.x+=t.x,this.y+=t.y,this.refresh()}moveAxis(t,e){this[t]=e,this.refresh()}moveTo(t){sl(this,t),this.refresh()}refresh(){let t=this,e=t.x,i=t.y,n;t.round&&(e=Math.round(e),i=Math.round(i)),n=TS(e,i,t.scale),n!==t.coordinates&&(t.element.style[this.transformStyle]=n,t._saveCoordinates(n),t.trigger(md))}_saveCoordinates(t){this.coordinates=t}};var sx=_.Group,rl=class extends Yr{constructor(t,e){super(t,e),this._pan=At(this._pan,this),this.surface=_.Surface.create(this.element,{width:t.scrollElement.clientWidth,height:t.scrollElement.clientHeight}),this._initRoot(),this.movable=new ol(this.surface.element),this._markers=[],this._click=this._handler("shapeClick"),this.surface.bind("click",this._click),this._mouseleave=this._handler("shapeMouseLeave"),this.surface.bind("mouseleave",this._mouseleave),this.surface.bind("mouseenter",this._mouseenter.bind(this))}destroy(){super.destroy(),this.surface.destroy()}_reset(){super._reset(),this._translateSurface(),this._data=this._readData(),this._hasData()&&this._load(this._data)}_initRoot(){this._root=new sx,this.surface.draw(this._root)}_beforeReset(){this.surface.clear(),this._initRoot()}_resize(){this.surface.size(this.map.size())}_readData(){let t=super._readData();return t.type==="FeatureCollection"?t.features:t.type==="GeometryCollection"?t.geometries:t}_load(t){this._data=t,this._clearMarkers(),this._loader||(this._loader=new ox(this.map,this.options.style,this));let e=new sx;for(let i=0;i<t.length;i++){let n=this._loader.parse(t[i]);n&&e.append(n)}this._root.clear(),this._root.append(e)}shapeCreated(t){let e=!1;if(t instanceof _.Circle&&this.map.options.renderPointsAsMarkers&&(e=M(this._createMarker(t))),!e){let i={layer:this,shape:t};e=this.map.trigger("shapeCreated",i)}return e}featureCreated(t){t.layer=this,this.map.trigger("shapeFeatureCreated",t)}_createMarker(t){let e=this.map.markers.bind({location:t.location},t.dataItem);return e&&this._markers.push(e),e}_clearMarkers(){for(let t=0;t<this._markers.length;t++)this.map.markers.remove(this._markers[t]);this._markers=[]}_pan(){this._panning||(this._panning=!0,this.surface.suspendTracking())}_panEnd(t){super._panEnd(t),this._translateSurface(),this.surface.resumeTracking(),this._panning=!1}_translateSurface(){let t=this.map,e=t.locationToView(t.extent().nw);this.surface.translate&&(this.surface.translate(e),this.movable.moveTo({x:e.x,y:e.y}))}_eventArgs(t){return{layer:this,layerIndex:this._layerIndex(),shape:t.element,shapeIndex:(this._data||[]).indexOf(t.element.dataItem),originalEvent:t.originalEvent}}_handler(t){return e=>{e.element&&this.map.trigger(t,this._eventArgs(e))}}_mouseenter(t){if(!t.element)return;this.map.trigger("shapeMouseEnter",this._eventArgs(t));let e=t.element,i=this._tooltipAnchor(t);this.map._tooltip.show(i,this._tooltipContext(e))}_tooltipContext(t){return{type:"shape",layerIndex:this._layerIndex(),className:"k-map-shape-tooltip",dataItem:t.dataItem,location:t.location}}_tooltipAnchor(t){let e=this.map.eventOffset(t.originalEvent);return{top:e.y,left:e.x}}_activate(){super._activate(),this._panHandler=At(this._pan,this),this.map.bind("pan",this.panHandler)}_deactivate(){super._deactivate(),this.map.unbind("pan",this._panHandler)}};b(rl,{autoBind:!0,zIndex:100});var ox=class extends z{constructor(t,e,i){super(),this.observer=i,this.locator=t,this.style=e}parse(t){let e=new sx,i=!0;return t.type==="Feature"?(i=!1,this._loadGeometryTo(e,t.geometry,t),this._featureCreated(e,t)):this._loadGeometryTo(e,t,t),i&&e.children.length<2&&(e=e.children[0]),e}_shapeCreated(t){let e=!1;return this.observer&&this.observer.shapeCreated&&(e=this.observer.shapeCreated(t)),e}_featureCreated(t,e){this.observer&&this.observer.featureCreated&&this.observer.featureCreated({group:t,dataItem:e,properties:e.properties})}_loadGeometryTo(t,e,i){let n=e.coordinates,o,r;switch(e.type){case"LineString":r=this._loadPolygon(t,[n],i),this._setLineFill(r);break;case"MultiLineString":for(o=0;o<n.length;o++)r=this._loadPolygon(t,[n[o]],i),this._setLineFill(r);break;case"Polygon":this._loadPolygon(t,n,i);break;case"MultiPolygon":for(o=0;o<n.length;o++)this._loadPolygon(t,n[o],i);break;case"Point":this._loadPoint(t,n,i);break;case"MultiPoint":for(o=0;o<n.length;o++)this._loadPoint(t,n[o],i);break;default:break}}_setLineFill(t){let e=t.segments;(e.length<4||!e[0].anchor().equals(Pt(e).anchor()))&&(t.options.fill=null)}_loadShape(t,e){return this._shapeCreated(e)||t.append(e),e}_loadPolygon(t,e,i){let n=this._buildPolygon(e);return n.dataItem=i,n.location=this.locator.viewToLocation(n.bbox().center()),this._loadShape(t,n)}_buildPolygon(t){let e=t.length>1?_.MultiPath:_.Path,i=new e(this.style);for(let n=0;n<t.length;n++)for(let o=0;o<t[n].length;o++){let r=this.locator.locationToView(Wt.fromLngLat(t[n][o]));o===0?i.moveTo(r.x,r.y):i.lineTo(r.x,r.y)}return i}_loadPoint(t,e,i){let n=Wt.fromLngLat(e),o=this.locator.locationToView(n),r=new T.Circle(o,10),a=new _.Circle(r,this.style);return a.dataItem=i,a.location=n,this._loadShape(t,a)}};var fd=class extends rl{_readData(){return this.options.data||[]}_load(t){if(this._data=t,this.surface.clear(),t.length===0)return;let e=this.options,i=Vi(e.valueField),n=t.slice(0);n.sort(function(l,c){return i(c)-i(l)});let o=this._scaleType(),r,a=Vi(this.options.locationField);for(let l=0;l<n.length;l++){let c=n[l],h=a(c),d=i(c);if(M(h)&&M(d)){r||(r=new o([0,d],[e.minSize,e.maxSize])),h=Wt.create(h);let p=this.map.locationToView(h),u=r.map(d),m=this._createSymbol({center:p,size:u,style:e.style,dataItem:c,location:h});m.dataItem=c,m.location=h,m.value=d,this._drawSymbol(m)}}}_scaleType(){let t=this.options.scale;return pt(t)?t:zB[t]}_createSymbol(t){let e=this.options.symbol;return pt(e)||(e=EB[e]),e(t)}_drawSymbol(t){let e={layer:this,shape:t};this.map.trigger("shapeCreated",e)||this.surface.draw(t)}_tooltipContext(t){return{type:"bubble",layerIndex:this._layerIndex(),className:"k-map-bubble-tooltip",dataItem:t.dataItem,location:t.location,value:t.value}}_tooltipAnchor(t){let i=t.element.bbox().center();return{top:i.y,left:i.x}}};b(fd,{locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle",zIndex:200});var rx=class extends z{constructor(t,e){super(),this._domain=t,this._range=e;let i=Math.sqrt(t[1])-Math.sqrt(t[0]),n=e[1]-e[0];this._ratio=n/i}map(t){let e=(Math.sqrt(t)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+e}},zB={sqrt:rx},EB={circle:function(s){let t=new T.Circle(s.center,s.size/2);return new _.Circle(t,s.style)},square:function(s){let t=new _.Path(s.style),e=s.size/2,i=s.center;return t.moveTo(i.x-e,i.y-e).lineTo(i.x+e,i.y-e).lineTo(i.x+e,i.y+e).lineTo(i.x-e,i.y+e).close(),t}};var IS="click",zS="mouseenter",ES="mouseleave",kB=Object.assign,kS="k-marker",ax="."+kS,ah=class extends Yr{constructor(t,e){super(t,e),this._markerClickHandler=At(this._markerClick,this),ke(this.element,IS,ax,this._markerClickHandler),this.items=[],this._load(this._readData())}destroy(){super.destroy(),Ne(this.element,IS,this._markerClickHandler),this.clear()}add(t){if(kt(t))for(let e=0;e<t.length;e++)this._addOne(t[e]);else return this._addOne(t)}remove(t){t.destroy();let e=(this.items||[]).indexOf(t);e>-1&&this.items.splice(e,1)}clear(){for(let t=0;t<this.items.length;t++)this.items[t].destroy();this.items=[]}update(t){let e=t.location();if(e){t.showAt(this.map.locationToView(e));let i={marker:t,layer:this};this.map.trigger("markerActivate",i)}}_reset(){super._reset();let t=this.items;for(let e=0;e<t.length;e++)this.update(t[e])}bind(t,e){let i=I3.create(t,this.options);i.dataItem=e;let n={marker:i,layer:this};if(!this.map.trigger("markerCreated",n))return this.add(i),i}_addOne(t){let e=I3.create(t,this.options);return e.addTo(this),e}_readData(){return this.options.data||[]}_load(t){this._data=t,this.clear();let e=Vi(this.options.locationField),i=Vi(this.options.titleField);for(let n=0;n<t.length;n++){let o=t[n];this.bind({location:e(o),title:i(o)},o)}}_markerClick(t){let e=t.currentTarget._kendoNode,i={layer:this,layerIndex:this._layerIndex(),marker:e,markerIndex:(this.items||[]).indexOf(e),originalEvent:t};this.map.trigger("markerClick",i)}_markerMouseEnter(t){let e=this._createMarkerEventArgs(t);this.map.trigger("markerMouseEnter",e)}_markerMouseLeave(t){let e=this._createMarkerEventArgs(t);this.map.trigger("markerMouseLeave",e)}_createMarkerEventArgs(t){let e=t.marker;return kB({},{layer:this,layerIndex:this._layerIndex(),marker:e,markerIndex:(this.items||[]).indexOf(e)},t)}};b(ah,{zIndex:1e3,autoBind:!0,locationField:"location",titleField:"title",template:""});var I3=class s extends z{constructor(t){super(),this.options=t||{}}destroy(){this.layer=null,this.unbindEvents(),this.hide()}addTo(t){this.layer=t.markers||t,this.layer.items.push(this),this.layer.update(this)}location(t){return t?(this.options.location=Wt.create(t).toArray(),this.layer&&this.layer.update(this),this):Wt.create(this.options.location)}showAt(t){this.render(),this._anchor={left:Math.round(t.x),top:Math.round(t.y)},this.element.style.left=K5(this._anchor.left),this.element.style.top=K5(this._anchor.top)}hide(){this.element&&(this.element.remove(),this.element=null)}bindEvents(){this.element&&(this._mouseEnterHandler=At(this._mouseEnter,this),ke(this.element,zS,ax,this._mouseEnterHandler),this._mouseLeaveHandler=At(this._mouseLeave,this),ke(this.element,ES,ax,this._mouseLeaveHandler))}unbindEvents(){this.element&&(Ne(this.element,zS,this._mouseEnterHandler),Ne(this.element,ES,this._mouseLeaveHandler))}render(){if(!this.element){let t=this.options,e=this.layer,i=document.createElement("span");if(bt(i,kS),this.options.template){let r=this._compileTemplate(this.options.template)(this.dataItem),a=Pn(r);i.appendChild(a)}else if(t.svgIcon)Yn(i,{icon:t.svgIcon,iconClass:"k-icon-xxl",svgIcons:this.options.icons.svgIcons,type:"svg"});else{let o={icon:"map-marker",iconClass:"k-icon-xxl",svgIcons:this.options.icons.svgIcons,type:this.options.icons.type};t.shape?t.shape==="pinTarget"?(o.icon="map-marker-target",Yn(i,o)):t.shape==="pin"?Yn(i,o):bt(i,"k-icon k-icon-xxl k-i-marker-"+Z5(t.shape||"pin")):Yn(i,o)}t.title&&i.setAttribute("title",t.title);let n=t.attributes||{};Object.keys(n).forEach(function(o){i.setAttribute(o,n[o])}),i._kendoNode=this,i.style.zIndex=t.zIndex,this.element=i,e&&e.element.appendChild(this.element),this.bindEvents()}}_mouseEnter(t){let e=this._createEventArgs(t);this.layer._markerMouseEnter(e),this.layer.map._tooltip.show({top:this._anchor.top-this.element.offsetHeight,left:this._anchor.left},this._tooltipContext())}_tooltipContext(){return{type:"marker",layerIndex:this.layer._layerIndex(),className:"k-map-marker-tooltip",dataItem:this.dataItem,title:this.options.title,location:this.location()}}_mouseLeave(t){let e=this._createEventArgs(t);this.layer._markerMouseLeave(e)}_createEventArgs(t){return{marker:this,originalEvent:t}}_compileTemplate(t){return co.compile(t,{paramName:"dataItem",useWithBlock:!1})}static create(t,e){return t instanceof s?t:new s(v({},e,t))}};var DB=Object.assign;function DS(s){window.requestAnimationFrame(s)}var al=class extends z{constructor(){super();let t=this;t._tickProxy=At(t._tick,t),t._started=!1}tick(){}done(){}onEnd(){}onCancel(){}start(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,DS(this._tickProxy)))}enabled(){return!0}cancel(){this._started=!1,this.onCancel()}_tick(){let t=this;t._started&&(t.tick(),t.done()?(t._started=!1,t.onEnd()):DS(t._tickProxy))}},gd=class extends al{constructor(t){super(),DB(this,t)}done(){return this.timePassed()>=this.duration}timePassed(){return Math.min(this.duration,Ln()-this.startDate)}moveTo(t){let e=this,i=e.movable;e.initial=i[e.axis],e.delta=t.location-e.initial,e.duration=typeof t.duration=="number"?t.duration:300,e.tick=e._easeProxy(t.ease),e.startDate=Ln(),e.start()}_easeProxy(t){let e=this;return function(){e.movable.moveAxis(e.axis,t(e.timePassed(),e.initial,e.delta,e.duration))}}static easeOutExpo(t,e,i,n){return t===n?e+i:i*(-Math.pow(2,-10*t/n)+1)+e}};var z3=Object.assign,PB=s=>{s.preventDefault()},PS=800,LB=300,LS=0,jS="press",US="hold",RS="select",GS="start",lx="move",cx="end",OS="cancel",E3="tap",WS="doubleTap",qS="release",RB="gesturestart",VS="gesturechange",BS="gestureend",HS="gesturetap",OB={api:0,touch:0,mouse:9,pointer:9};function VB(s,t){let e=s.x.location,i=s.y.location,n=t.x.location,o=t.y.location,r=e-n,a=i-o;return{center:{x:(e+n)/2,y:(i+o)/2},distance:Math.sqrt(r*r+a*a)}}function NS(s){let t=os(),e=[],i=s.originalEvent||s,n=s.currentTarget,o=0,r,a,l;if(s.api)e.push({id:2,event:s,target:s.target,currentTarget:s.target,location:s,type:"api"});else if(s.type.match(/touch/))for(a=i?i.changedTouches:[],r=a.length;o<r;o++)l=a[o],e.push({location:l,event:s,target:l.target,currentTarget:n,id:l.identifier,type:"touch"});else t.pointers||t.msPointers?e.push({location:i,event:s,target:s.target,currentTarget:n,id:i.pointerId,type:"pointer"}):e.push({id:1,event:s,target:s.target,currentTarget:n,location:s,type:"mouse"});return e}var k3=class extends z{constructor(t,e){super();let i=this;i.support=os(),i.invalidZeroEvents=this.support.mobileOS&&this.support.mobileOS.android,i.axis=t,i._updateLocationData(e),i.startLocation=i.location,i.velocity=i.delta=0,i.timeStamp=Ln()}move(t){let e=this,i=t["page"+e.axis],n=Ln(),o=n-e.timeStamp||1;!i&&this.invalidZeroEvents||(e.delta=i-e.location,e._updateLocationData(t),e.initialDelta=i-e.startLocation,e.velocity=e.delta/o,e.timeStamp=n)}_updateLocationData(t){let e=this,i=e.axis;e.location=t["page"+i],e.client=t["client"+i],e.screen=t["screen"+i]}},hx=class extends z{constructor(t,e,i){super(),z3(this,{x:new k3("X",i.location),y:new k3("Y",i.location),type:i.type,useClickAsTap:t.useClickAsTap,threshold:t.threshold||OB[i.type],userEvents:t,target:e,currentTarget:i.currentTarget,initialTouch:i.target,id:i.id,pressEvent:i,_clicks:t._clicks,supportDoubleTap:t.supportDoubleTap,_moved:!1,_finished:!1})}press(){this._holdTimeout=setTimeout(At(this._hold,this),this.userEvents.minHold),this._trigger(jS,this.pressEvent)}_tap(t){let e=this;e.userEvents._clicks++,e.userEvents._clicks===1&&(e._clickTimeout=setTimeout(function(){e.userEvents._clicks===1?e._trigger(E3,t):e._trigger(WS,t),e.userEvents._clicks=0},LB))}_hold(){this._trigger(US,this.pressEvent)}move(t){let e=this,i=t.type!=="api"&&e.userEvents._shouldNotMove;if(!(e._finished||i)){if(e.x.move(t.location),e.y.move(t.location),!e._moved){if(e._withinIgnoreThreshold())return;if(!lh.current||lh.current===e.userEvents)e._start(t);else return e.dispose()}e._finished||e._trigger(lx,t)}}end(t){this.endTime=Ln(),!this._finished&&(this._finished=!0,this._trigger(qS,t),this._moved?this._trigger(cx,t):this.useClickAsTap||(this.supportDoubleTap?this._tap(t):this._trigger(E3,t)),clearTimeout(this._holdTimeout),this.dispose())}dispose(){let t=this.userEvents,e=t.touches||[];this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout);let i=e.indexOf(this);e.splice(i,1)}skip(){this.dispose()}cancel(){this.dispose()}isMoved(){return this._moved}_start(t){clearTimeout(this._holdTimeout),this.startTime=Ln(),this._moved=!0,this._trigger(GS,t)}_trigger(t,e){let i=this,n=e.event,o={touch:i,x:i.x,y:i.y,target:i.target,event:n};i.userEvents.notify(t,o)&&n.preventDefault()}_withinIgnoreThreshold(){let t=this.x.initialDelta,e=this.y.initialDelta;return Math.sqrt(t*t+e*e)<=this.threshold}};function FS(s){let e=hd(navigator.userAgent).up.split(" "),i=0,n=e.length;for(;i<n;i++)s(e[i])}var lh=class s extends Ce{constructor(t,e){super();let i=this,n,o=os();this.support=o,e=e||{},this.options=e,n=i.filter=e.filter,i.threshold=e.threshold||LS,i.minHold=e.minHold||PS,i.touches=[],i._maxTouches=e.multiTouch?2:1,i.allowSelection=e.allowSelection,i.captureUpIfMoved=e.captureUpIfMoved,i.useClickAsTap=!e.fastTap&&!o.delayedClick(),i._clicks=0,i.supportDoubleTap=e.supportDoubleTap;let r=!o.touch||o.mouseAndTouchPresent;if(z3(i,{element:t,surface:e.global&&r?t.ownerDocument.documentElement:e.surface||t,stopPropagation:e.stopPropagation,pressed:!1}),this._surfaceMoveHandler=At(this._move,this),ke(i.surface,ln("move"),this._surfaceMoveHandler),this._surfaceEndHandler=At(this._end,this),ke(i.surface,ln("up cancel"),this._surfaceEndHandler),this._elementStartHandler=At(this._start,this),ke(t,ln("down"),n,this._elementStartHandler),i.useClickAsTap&&(this._elementClickHandler=At(this._click,this),ke(t,ln("click"),n,this._elementClickHandler)),o.pointers||o.msPointers)if(o.browser.version<11){let a="pinch-zoom double-tap-zoom";t.style["-ms-touch-action"]=e.touchAction&&e.touchAction!=="none"?a+" "+e.touchAction:a}else t.style["touch-action"]=e.touchAction||"none";if(e.preventDragEvent&&(this._elementDragStartHandler=PB,ke(t,ln("dragstart"),this._elementDragStartHandler)),this._elementSelectHandler=At(this._select,this),ke(t,ln("mousedown"),n,this._elementSelectHandler),i.captureUpIfMoved&&o.eventCapture){let a=i.surface,l=At(i.preventIfMoving,i);FS(function(c){a.addEventListener(c,l,!0)})}i.bind([jS,US,E3,WS,GS,lx,cx,qS,OS,RB,VS,BS,HS,RS],e)}preventIfMoving(t){this._isMoved()&&t.preventDefault()}destroy(){let t=this,e=this.options,i=this.element;if(!t._destroyed){if(t._destroyed=!0,t.captureUpIfMoved&&this.support.eventCapture){let n=t.surface;FS(function(o){n.removeEventListener(o,t.preventIfMoving)})}Ne(t.surface,ln("move"),this._surfaceMoveHandler),Ne(t.surface,ln("up cancel"),this._surfaceEndHandler),Ne(i,ln("down"),this._elementStartHandler),t.useClickAsTap&&Ne(i,ln("click"),this._elementClickHandler),e.preventDragEvent&&Ne(i,ln("dragstart"),this._elementDragStartHandler),Ne(i,ln("mousedown"),this._elementSelectHandler),t._disposeAll(),t.unbind(),delete t.surface,delete t.element,delete t.currentTarget}}capture(){s.current=this}cancel(){this._disposeAll(),this.trigger(OS)}notify(t,e){let i=this,n=i.touches,o=t;if(this._isMultiTouch()){switch(o){case lx:o=VS;break;case cx:o=BS;break;case E3:o=HS;break;default:break}z3(e,{touches:n},VB(n[0],n[1]))}return this.trigger(o,z3(e,{type:o}))}press(t,e,i){this._apiCall("_start",t,e,i)}move(t,e){this._apiCall("_move",t,e)}end(t,e){this._apiCall("_end",t,e)}_isMultiTouch(){return this.touches.length>1}_maxTouchesReached(){return this.touches.length>=this._maxTouches}_disposeAll(){let t=this.touches;for(;t.length>0;)t.pop().dispose()}_isMoved(){return fe(this.touches,function(t){return t.isMoved()}).length}_select(t){(!this.allowSelection||this.trigger(RS,{event:t}))&&t.preventDefault()}_start(t){let e=this,i=0,n=e.filter,o,r=NS(t),a=r.length,l,c=t.which;if(!(c&&c>1||e._maxTouchesReached()))for(s.current=null,e.currentTarget=t.currentTarget,e.stopPropagation&&t.stopPropagation();i<a&&!e._maxTouchesReached();i++)l=r[i],n?o=l.currentTarget:o=e.element,!(o&&o.length===0)&&(l=new hx(e,o,l),e.touches.push(l),l.press(),e._isMultiTouch()&&e.notify("gesturestart",{}))}_move(t){this._eachTouch("move",t)}_end(t){this._eachTouch("end",t)}_click(t){let e={touch:{initialTouch:t.target,target:t.currentTarget,endTime:Ln(),x:{location:t.pageX,client:t.clientX},y:{location:t.pageY,client:t.clientY}},x:t.pageX,y:t.pageY,target:t.currentTarget,event:t,type:"tap"};this.trigger("tap",e)&&t.preventDefault()}_eachTouch(t,e){let i=this,n={},o=NS(e),r=i.touches,a,l,c,h;for(a=0;a<r.length;a++)l=r[a],n[l.id]=l;for(a=0;a<o.length;a++)c=o[a],h=n[c.id],h&&h[t](c)}_apiCall(t,e,i,n){this[t]({api:!0,pageX:e,pageY:i,clientX:e,clientY:i,target:n||this.element,stopPropagation:J5,preventDefault:J5})}static defaultThreshold(t){LS=t}static minHold(t){PS=t}};var ch=Object.assign,ll=Math.abs,BB=500,HB=.7,NB=.96,FB=10,dx=55,jB=.5,YS=5,UB="pull",D3="change",GB="resize",XS="scroll",WB=2,px=class extends al{constructor(t){super(t);let e=this;ch(e,t),e.userEvents.bind("gestureend",e.start.bind(this)),e.tapCapture.bind("press",e.cancel.bind(this))}enabled(){return this.movable.scale<this.dimensions.minScale}done(){return this.dimensions.minScale-this.movable.scale<.01}tick(){let t=this.movable;t.scaleWith(1.1),this.dimensions.rescale(t.scale)}onEnd(){let t=this.movable;t.scaleTo(this.dimensions.minScale),this.dimensions.rescale(t.scale)}},ux=class extends al{constructor(t){super();let e=this;ch(e,t,{transition:new gd({axis:t.axis,movable:t.movable,onEnd(){e._end()}})}),e.tapCapture.bind("press",function(){e.cancel()}),e.userEvents.bind("end",At(e.start,e)),e.userEvents.bind("gestureend",At(e.start,e)),e.userEvents.bind("tap",At(e.onEnd,e))}onCancel(){this.transition.cancel()}freeze(t){let e=this;e.cancel(),e._moveTo(t)}onEnd(){let t=this;t.paneAxis.outOfBounds()?t._snapBack():t._end()}done(){return ll(this.velocity)<1}start(t){let e=this,i;e.dimension.enabled&&(e.paneAxis.outOfBounds()?e.transition._started?(e.transition.cancel(),e.velocity=Math.min(t.touch[e.axis].velocity*e.velocityMultiplier,dx),super.start()):e._snapBack():(i=t.touch.id===WB?0:t.touch[e.axis].velocity,e.velocity=Math.max(Math.min(i*e.velocityMultiplier,dx),-dx),e.tapCapture.captureNext(),super.start()))}tick(){let t=this,e=t.dimension,i=t.paneAxis.outOfBounds()?jB:t.friction,n=t.velocity*=i,o=t.movable[t.axis]+n;!t.elastic&&e.outOfBounds(o)&&(o=Math.max(Math.min(o,e.max),e.min),t.velocity=0),t.movable.moveAxis(t.axis,o)}_end(){this.tapCapture.cancelCapture(),this.end()}_snapBack(){let t=this,e=t.dimension,i=t.movable[t.axis]>e.max?e.max:e.min;t._moveTo(i)}_moveTo(t){this.transition.moveTo({location:t,duration:BB,ease:gd.easeOutExpo})}},mx=class extends al{constructor(t){super(t),ch(this,t,{origin:{},destination:{},offset:{}})}tick(){this._updateCoordinates(),this.moveTo(this.origin)}done(){return ll(this.offset.y)<YS&&ll(this.offset.x)<YS}onEnd(){this.moveTo(this.destination),this.callback&&this.callback.call()}setCoordinates(t,e){this.offset={},this.origin=t,this.destination=e}setCallback(t){t&&pt(t)?this.callback=t:t=void 0}_updateCoordinates(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}},fx=class extends z{constructor(t){super();let e=this,i=t.axis==="x",o=Pn('<div class="km-touch-scrollbar km-'+(i?"horizontal":"vertical")+'-scrollbar" />');ch(e,t,{element:o,elementSize:0,movable:new ol(o),scrollMovable:t.movable,alwaysVisible:t.alwaysVisible,size:i?"width":"height"}),e.scrollMovable.bind(D3,e.refresh.bind(e)),e.container.appendChild(o),t.alwaysVisible&&e.show()}refresh(){let t=this,e=t.axis,i=t.dimension,n=i.size,o=t.scrollMovable,r=n/i.total,a=Math.round(-o[e]*r),l=Math.round(n*r);r>=1?this.element.style.display="none":this.element.style.display="",a+l>n?l=n-a:a<0&&(l+=a,a=0),t.elementSize!==l&&(t.element.style[t.size]=l+"px",t.elementSize=l),t.movable.moveAxis(e,a)}show(){this.element.style.opacity=HB,this.element.style.visibility="visible"}hide(){this.alwaysVisible||(this.element.style.opacity=0)}},hh=class extends Ce{constructor(t,e){super();let i=this;this.element=t,this._initOptions(e);let n=hS(navigator.userAgent);i._native=i.options.useNative&&n;let o=Pn('<div class="km-scroll-header"/>');if(i._native){bt(t,"km-native-scroller"),Q5(o,t),ch(i,{scrollElement:t,fixedContainer:t.children[0]});return}t.style.overflow="hidden",bt(t,"km-scroll-wrapper");let r=Pn('<div class="km-scroll-container"/>');lS(t,r),Q5(o,t);let a=t.children[1],l=new C3(t),c=new ol(a),h=new M3({element:a,container:t,forcedEnabled:i.options.zoom}),d=this.options.avoidScrolling,p=new lh(t,{touchAction:"pan-y",fastTap:!0,allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:i.options.zoom,supportDoubleTap:i.options.supportDoubleTap,start(g){h.refresh();let x=ll(g.x.velocity),y=ll(g.y.velocity),C=x*2>=y,S=dS(i.fixedContainer,g.event.target),w=y*2>=x;!S&&!d(g)&&i.enabled&&(h.x.enabled&&C||h.y.enabled&&w)?p.capture():p.cancel()}}),u=new T3({movable:c,dimensions:h,userEvents:p,elastic:i.options.elastic}),m=new px({movable:c,dimensions:h,userEvents:p,tapCapture:l}),f=new mx({moveTo(g){i.scrollTo(g.x,g.y)}});c.bind(D3,function(){i.scrollTop=-c.y,i.scrollLeft=-c.x,i.trigger(XS,{scrollTop:i.scrollTop,scrollLeft:i.scrollLeft})}),i.options.mousewheelScrolling&&(this._wheelScrollHandler=this._wheelScroll.bind(this),ke(t,"wheel",this._wheelScrollHandler)),ch(i,{movable:c,dimensions:h,zoomSnapBack:m,animatedScroller:f,userEvents:p,pane:u,tapCapture:l,pulled:!1,enabled:!0,scrollElement:a,scrollTop:0,scrollLeft:0,fixedContainer:t.children[0]}),i._initAxis("x"),i._initAxis("y"),i._wheelEnd=function(){i._wheel=!1,i.userEvents.end(0,i._wheelY)},h.refresh(),i.options.pullToRefresh&&i._initPullToRefresh()}_initOptions(t){this.options=v({},this.options,t)}_wheelScroll(t){if(t.ctrlKey)return;this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);let e=pS(t);e&&(this._wheelY+=e,this.userEvents.move(0,this._wheelY)),t.preventDefault()}makeVirtual(){this.dimensions.y.makeVirtual()}virtualSize(t,e){this.dimensions.y.virtualSize(t,e)}height(){return this.dimensions.y.size}scrollHeight(){return this.scrollElement.scrollHeight}scrollWidth(){return this.scrollElement.scrollWidth}_resize(){this._native||this.contentResized()}setOptions(t){let e=this;this._initOptions(t),t.pullToRefresh&&e._initPullToRefresh()}reset(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))}contentResized(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)}zoomOut(){let t=this.dimensions;t.refresh(),this._scale(t.fitScale),this.movable.moveTo(t.centerCoordinates())}enable(){this.enabled=!0}disable(){this.enabled=!1}scrollTo(t,e){this._native?(this.scrollElement.scrollLeft(ll(t)),this.scrollElement.scrollTop(ll(e))):(this.dimensions.refresh(),this.movable.moveTo({x:t,y:e}))}animatedScrollTo(t,e,i){let n,o;this._native?this.scrollTo(t,e):(n={x:this.movable.x,y:this.movable.y},o={x:t,y:e},this.animatedScroller.setCoordinates(n,o),this.animatedScroller.setCallback(i),this.animatedScroller.start())}pullHandled(){}destroy(){let t=this.element;Ne(t,"wheel",this._wheelScrollHandler),this.userEvents&&this.userEvents.destroy()}_scale(t){this.dimensions.rescale(t),this.movable.scaleTo(t)}_initPullToRefresh(){}_dragEnd(){}_paneChange(){}_initAxis(t){let e=this,i=e.movable,n=e.dimensions[t],o=e.tapCapture,r=e.pane[t],a=new fx({axis:t,movable:i,dimension:n,container:e.element,alwaysVisible:e.options.visibleScrollHints});n.bind(D3,function(){a.refresh()}),r.bind(D3,function(){a.show()}),e[t+"inertia"]=new ux({axis:t,paneAxis:r,movable:i,tapCapture:o,userEvents:e.userEvents,dimension:n,elastic:e.options.elastic,friction:e.options.friction||NB,velocityMultiplier:e.options.velocityMultiplier||FB,end(){a.hide(),e.trigger("scrollEnd",{axis:t,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft})}})}};b(hh,{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}});qr(hh,[UB,XS,GB]);var gx=class{constructor(t,e={}){this.sender=e.sender||t,this.widget=t,this.rtl=!!e.rtl}notify(t,e){this.widget&&this.widget.trigger(t,e)}},$S=gx;var $r=Math,QS=$r.min,vx=$r.pow,ZS=T.Point,L3="marker",P3="location",qB=.9,YB=.93,KS="wheel",XB=50,$B=5,QB=1,ZB={bubble:fd,shape:rl,tile:ud,[L3]:ah},R3=class extends Ce{constructor(t,e={},i={},n={}){super(),this._init(t,e,i,n)}destroy(){this.scroller.destroy(),this._tooltip&&this._tooltip.destroy(),this.navigator&&this.navigator.destroy(),this.attribution&&this.attribution.destroy(),this.zoomControl&&this.zoomControl.destroy(),kt(this.markers)?this.markers.forEach(t=>{t.destroy()}):this.markers.destroy();for(let t=0;t<this.layers.length;t++)this.layers[t].destroy();Ne(this.element,KS,this._mousewheelHandler),super.destroy()}_init(t,e={},i={},n={}){this.support=os(),this.context=n,this.initObserver(n),this.initServices(n),this._notifyObserver(SS),this._initOptions(e),this._setEvents(e),this.crs=new x3,this._initElement(t),this._viewOrigin=this._getOrigin(),this._tooltip=this._createTooltip(),this._initScroller(),this._initMarkers(),this._initControls(),this._initLayers(),this._reset();let o=Un(this._mousewheel.bind(this),XB);this._mousewheelHandler=r=>{r.preventDefault(),o(r)},ke(this.element,KS,this._mousewheelHandler)}_initOptions(t){this.options=v({},this.options,t)}_initElement(t){this.element=t,bt(t,"k-map"),t.style.position="relative",t.setAttribute("data-role","map"),Wr(t);let e=Pn("<div />");this.element.appendChild(e)}initServices(t={}){this.widgetService=new $S(this,t)}initObserver(t={}){this.observers=[],this.addObserver(t.observer)}addObserver(t){t&&this.observers.push(t)}removeObserver(t){let e=this.observers.indexOf(t);e>=0&&this.observers.splice(e,1)}requiresHandlers(t){let e=this.observers;for(let i=0;i<e.length;i++)if(e[i].requiresHandlers(t))return!0}trigger(t,e={}){e.sender=this;let i=this.observers,n=!1;for(let o=0;o<i.length;o++)i[o].trigger(t,e)&&(n=!0);return n||super.trigger(t,e),n}_notifyObserver(t,e={}){e.sender=this;let i=this.observers,n=!1;for(let o=0;o<i.length;o++)i[o].trigger(t,e)&&(n=!0);return n}zoom(t){let e=this.options,i;if(M(t)){let n=$r.round(W(t,e.minZoom,e.maxZoom));e.zoom!==n&&(e.zoom=n,this.widgetService.notify(CS,{zoom:e.zoom}),this._reset()),i=this}else i=e.zoom;return i}center(t){let e;if(t){let i=Wt.create(t),n=Wt.create(this.options.center);i.equals(n)||(this.options.center=i.toArray(),this.widgetService.notify(ex,{center:this.options.center}),this._reset()),e=this}else e=Wt.create(this.options.center);return e}extent(t){let e;return t?(this._setExtent(t),e=this):e=this._getExtent(),e}setOptions(t={}){let e=this.element;this.destroy(),Wr(e),this._init(e,t,{},this.context),this._reset()}locationToLayer(t,e){let i=!this.options.wraparound,n=Wt.create(t);return this.crs.toPoint(n,this._layerSize(e),i)}layerToLocation(t,e){let i=!this.options.wraparound,n=ZS.create(t);return this.crs.toLocation(n,this._layerSize(e),i)}locationToView(t){let e=Wt.create(t),i=this.locationToLayer(this._viewOrigin);return this.locationToLayer(e).translateWith(i.scale(-1))}viewToLocation(t,e){let i=this.locationToLayer(this._getOrigin(),e),o=ZS.create(t).clone().translateWith(i);return this.layerToLocation(o,e)}eventOffset(t){let e,i,n=Ms(this.element);if(t.x&&t.x[P3]||t.y&&t.y[P3])e=t.x[P3]-n.left,i=t.y[P3]-n.top;else{let r=t.originalEvent||t;e=q(r.pageX,r.clientX)-n.left,i=q(r.pageY,r.clientY)-n.top}return new T.Point(e,i)}eventToView(t){let e=this.eventOffset(t);return this.locationToView(this.viewToLocation(e))}eventToLayer(t){return this.locationToLayer(this.eventToLocation(t))}eventToLocation(t){let e=this.eventOffset(t);return this.viewToLocation(e)}viewSize(){let t=this.element,e=this._layerSize(),i=t.clientWidth;return this.options.wraparound||(i=QS(e,i)),{width:i,height:QS(e,t.clientHeight)}}exportVisual(){return this._reset(),!1}hideTooltip(){this._tooltip&&this._tooltip.hide()}_setOrigin(t,e){let i=this.viewSize(),n,o=this._origin=Wt.create(t);return n=this.locationToLayer(o,e),n.x+=i.width/2,n.y+=i.height/2,this.options.center=this.layerToLocation(n,e).toArray(),this.widgetService.notify(ex,{center:this.options.center}),this}_getOrigin(t){let e=this.viewSize(),i;return(t||!this._origin)&&(i=this.locationToLayer(this.center()),i.x-=e.width/2,i.y-=e.height/2,this._origin=this.layerToLocation(i)),this._origin}_setExtent(t){let e=Lo.create(t),i=e.se.clone();this.options.wraparound&&i.lng<0&&t.nw.lng>0&&(i.lng=180+(180+i.lng));let n=new Lo(e.nw,i);this.center(n.center());let o=this.element.clientWidth,r=this.element.clientHeight,a;for(a=this.options.maxZoom;a>=this.options.minZoom;a--){let l=this.locationToLayer(n.nw,a),c=this.locationToLayer(n.se,a),h=$r.abs(c.x-l.x),d=$r.abs(c.y-l.y);if(h<=o&&d<=r)break}this.zoom(a)}_getExtent(){let t=this._getOrigin(),e=this.locationToLayer(t),i=this.viewSize();e.x+=i.width,e.y+=i.height;let n=this.layerToLocation(e);return new Lo(t,n)}_zoomAround(t,e){this._setOrigin(this.layerToLocation(t,e),e),this.zoom(e)}_initControls(){let t=this.options.controls;t.attribution&&this._createAttribution(t.attribution),this.support.mobileOS||(t.navigator&&this._createNavigator(t.navigator),t.zoom&&this._createZoomControl(t.zoom))}_createControlElement(t,e){let i=t.position||e,n="."+tx(i).replace(" ","."),o=this.element.querySelector(".k-map-controls"+n)||[];if(o.length===0){let a=document.createElement("div");bt(a,"k-map-controls "+tx(i)),o=a,this.element.appendChild(o)}let r=document.createElement("div");return o.appendChild(r),r}_createAttribution(t){let e=this._createControlElement(t,"bottomRight");this.attribution=new dd(e,t)}_createNavigator(t){let e=this._createControlElement(t,"topLeft"),i=this.navigator=new oh(e,v({},t,{icons:this.options.icons}));this._navigatorPan=this._navigatorPan.bind(this),i.bind("pan",this._navigatorPan),this._navigatorCenter=this._navigatorCenter.bind(this),i.bind("center",this._navigatorCenter)}_navigatorPan(t){let e=this.scroller,i=e.scrollLeft+t.x,n=e.scrollTop-t.y,o=this._virtualSize,r=this.element.clientWidth,a=this.element.clientHeight;i=W(i,o.x.min,o.x.max-r),n=W(n,o.y.min,o.y.max-a),this.scroller.one("scroll",At(this._scrollEnd,this)),this.scroller.scrollTo(-i,-n)}_navigatorCenter(){this.center(this.options.center)}_createZoomControl(t){let e=this._createControlElement(t,"topLeft"),i=this.zoomControl=new rh(e,t,this.options.icons);this._zoomControlChange=this._zoomControlChange.bind(this),i.bind("change",this._zoomControlChange)}_zoomControlChange(t){this.trigger("zoomStart",{originalEvent:t})||(this.zoom(this.zoom()+t.delta),this.trigger("zoomEnd",{originalEvent:t}))}_initScroller(){let t=this.support.mobileOS?YB:qB,e=this.options.zoomable!==!1,i=this.scroller=new hh(this.element.children[0],{friction:t,velocityMultiplier:$B,zoom:e,mousewheelScrolling:!1,supportDoubleTap:!0});i.bind("scroll",At(this._scroll,this)),i.bind("scrollEnd",At(this._scrollEnd,this)),i.userEvents.bind("gesturestart",At(this._scaleStart,this)),i.userEvents.bind("gestureend",At(this._scale,this)),i.userEvents.bind("doubleTap",At(this._doubleTap,this)),i.userEvents.bind("tap",At(this._tap,this)),this.scrollElement=i.scrollElement}_initLayers(){let t=this.options.layers,e=this.layers=[];for(let i=0;i<t.length;i++){let n=t[i],o=this._createLayer(n);e.push(o)}}_createLayer(t){let e=t.type||"shape",i=this.options.layerDefaults[e],n=e===L3?v({},this.options.markerDefaults,t,{icons:this.options.icons}):v({},i,t),o=ZB[e],r=new o(this,n);return e===L3&&(this.markers=r),r}_createTooltip(){return new pd(this.widgetService,this.options.tooltip)}_initMarkers(){(this.options.layers||[]).filter(e=>e&&e.type===L3).length>0||(this.markers=new ah(this,v({},this.options.markerDefaults,{icons:this.options.icons})),this.markers.add(this.options.markers))}_scroll(t){let e=this.locationToLayer(this._viewOrigin).round(),i=t.sender.movable,n=new T.Point(i.x,i.y).scale(-1).scale(1/i.scale);e.x+=n.x,e.y+=n.y,this._scrollOffset=n,this._tooltip.offset=n,this.hideTooltip(),this._setOrigin(this.layerToLocation(e)),this.trigger("pan",{originalEvent:t,origin:this._getOrigin(),center:this.center()})}_scrollEnd(t){!this._scrollOffset||!this._panComplete()||(this._scrollOffset=null,this._panEndTimestamp=Ln(),this.trigger("panEnd",{originalEvent:t,origin:this._getOrigin(),center:this.center()}))}_panComplete(){return Ln()-(this._panEndTimestamp||0)>50}_scaleStart(t){if(this.trigger("zoomStart",{originalEvent:t})){let e=t.touches[1];e&&e.cancel()}}_scale(t){let e=this.scroller.movable.scale,i=this._scaleToZoom(e),n=new T.Point(t.center.x,t.center.y),o=this.viewToLocation(n,i),a=this.locationToLayer(o,i).translate(-n.x,-n.y);this._zoomAround(a,i),this.trigger("zoomEnd",{originalEvent:t})}_scaleToZoom(t){let i=this._layerSize()*t/this.options.minSize,n=$r.log(i)/$r.log(2);return $r.round(n)}_reset(){this.attribution&&this.attribution.filter(this.center(),this.zoom()),this._viewOrigin=this._getOrigin(!0),this._resetScroller(),this.hideTooltip(),this.trigger("beforeReset"),this.trigger("reset")}_resetScroller(){let t=this.scroller,e=t.dimensions.x,i=t.dimensions.y,n=this._layerSize(),o=this.extent().nw,r=this.locationToLayer(o).round();t.movable.round=!0,t.reset(),t.userEvents.cancel();let a=this.zoom();t.dimensions.forcedMinScale=vx(2,this.options.minZoom-a),t.dimensions.maxScale=vx(2,this.options.maxZoom-a);let l={min:-r.x,max:n-r.x},c={min:-r.y,max:n-r.y};if(this.options.wraparound&&(l.max=20*n,l.min=-l.max),this.options.pannable===!1){let h=this.viewSize();l.min=c.min=0,l.max=h.width,c.max=h.height}e.makeVirtual(),i.makeVirtual(),e.virtualSize(l.min,l.max),i.virtualSize(c.min,c.max),this._virtualSize={x:l,y:c}}_renderLayers(){}_layerSize(t){let e=q(t,this.options.zoom);return this.options.minSize*vx(2,e)}_tap(t){if(!this._panComplete())return;let e=this.eventOffset(t);this.hideTooltip(),this.trigger("click",{originalEvent:t,location:this.viewToLocation(e)})}_doubleTap(t){if(this.options.zoomable!==!1&&!this.trigger("zoomStart",{originalEvent:t})){let i=this.zoom()+QB,n=this.eventOffset(t),o=this.viewToLocation(n),a=this.locationToLayer(o,i).translate(-n.x,-n.y);this._zoomAround(a,i),this.trigger("zoomEnd",{originalEvent:t})}}_mousewheel(t){let e=dr(t)>0?-1:1,i=this.options,n=this.zoom(),o=W(n+e,i.minZoom,i.maxZoom);if(i.zoomable!==!1&&o!==n&&!this.trigger("zoomStart",{originalEvent:t})){let r=this.eventOffset(t),a=this.viewToLocation(r),c=this.locationToLayer(a,o).translate(-r.x,-r.y);this._zoomAround(c,o),this.trigger("zoomEnd",{originalEvent:t})}}_toDocumentCoordinates(t){let e=Ms(this.element);return{left:R(t.x+e.left),top:R(t.y+e.top)}}};b(R3,{name:"Map",controls:{attribution:!0,navigator:{panStep:100},zoom:!0},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],icons:{type:"font",svgIcons:{}},zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:!0,renderPointsAsMarkers:!1});qr(R3,["beforeReset","click","markerActivate","markerClick","markerCreated","markerMouseEnter","markerMouseLeave","pan","panEnd","reset","shapeClick","shapeCreated","shapeFeatureCreated","shapeMouseEnter","shapeMouseLeave","zoomEnd","zoomStart"]);var KB=(s,t)=>Math.max.apply(null,s.map(t)),JB=(s,t)=>Math.min.apply(null,s.map(t)),xx=(s,t)=>s.map(t).reduce((e,i)=>e+i,0),JS=(s,t)=>s.y0-t.y0,tH=(s,t)=>JS(s.source,t.source),eH=(s,t)=>JS(s.target,t.target),yx=s=>s.value;function iH(s){s.forEach(t=>{let{sourceLinks:e,targetLinks:i}=t;e.sort(eH),i.sort(tH)})}var bx=class{constructor(t){let e=t.nodesOptions.offset||{};this.data={nodes:t.nodes.map(i=>v({},{offset:e},i)),links:t.links.map(i=>v({},i))},this.width=t.width,this.height=t.height,this.offsetX=t.offsetX||0,this.offsetY=t.offsetY||0,this.nodeWidth=t.nodesOptions.width,this.nodePadding=t.nodesOptions.padding}calculate(){let{nodes:t,links:e}=this.data;this.connectLinksToNodes(t,e),this.calculateNodeValues(t),this.calculateNodeDepths(t);let i=this.calculateNodeColumns(t);return this.calculateNodeBreadths(i),this.applyNodesOffset(t),this.calculateLinkBreadths(t),this.data}connectLinksToNodes(t,e){let i=new Map;t.forEach(n=>{n.sourceLinks=[],n.targetLinks=[],n.id=n.id!==void 0?n.id:n.label.text,i.set(n.id,n)}),e.forEach(n=>{n.source=i.get(n.sourceId),n.target=i.get(n.targetId),n.source.sourceLinks.push(n),n.target.targetLinks.push(n)})}calculateNodeValues(t){t.forEach(e=>{e.value=Math.max(xx(e.sourceLinks,yx),xx(e.targetLinks,yx))})}calculateNodeDepths(t){let e=new Set(t),i=new Set,n=0;for(;e.size;){let o=Array.from(e);for(let r=0;r<o.length;r++){let a=o[r];a.depth=n;for(let l=0;l<a.sourceLinks.length;l++){let c=a.sourceLinks[l];i.add(c.target)}}n++,e=i,i=new Set}}calculateNodeColumns(t){let e=KB(t,o=>o.depth),i=(this.width-this.offsetX-this.nodeWidth)/e,n=new Array(e+1);for(let o=0;o<t.length;o++){let r=t[o],a=Math.max(0,Math.min(e,r.sourceLinks.length?r.depth:e));r.x0=this.offsetX+a*i,r.x1=r.x0+this.nodeWidth,n[a]=n[a]||[],n[a].push(r)}return n}calculateNodeBreadths(t){let e=JB(t,i=>(this.height-this.offsetY-(i.length-1)*this.nodePadding)/xx(i,yx));for(let i=0;i<t.length;i++){let n=t[i],o=this.offsetY;for(let r=0;r<n.length;r++){let a=n[r];a.y0=o,a.y1=o+a.value*e,o=a.y1+this.nodePadding;for(let l=0;l<a.sourceLinks.length;l++){let c=a.sourceLinks[l];c.width=c.value*e}}o=(this.height-o+this.nodePadding)/(n.length+1);for(let r=0;r<n.length;++r){let a=n[r];a.y0+=o*(r+1),a.y1+=o*(r+1)}}for(let i=0;i<t.length;i++)iH(t[i])}applyNodesOffset(t){t.forEach(e=>{let i=(e.offset?e.offset.left:0)||0,n=(e.offset?e.offset.top:0)||0;e.x0+=i,e.x1+=i,e.y0+=n,e.y1+=n})}calculateLinkBreadths(t){t.forEach(e=>{let{sourceLinks:i,targetLinks:n}=e,o=e.y0,r=o;i.forEach(a=>{a.y0=o+a.width/2,o+=a.width}),n.forEach(a=>{a.y1=r+a.width/2,r+=a.width})})}},_x=s=>new bx(s).calculate();var Rn=class extends z{constructor(t){super(),this.options=v({},this.options,t),this.createVisual()}createVisual(){this.visual=this.createElement()}exportVisual(){return this.visual}createElement(){let t=this.options.visual,e;return t?e=t({sender:this.getSender(),options:this.visualOptions(),createVisual:()=>this.getElement()}):e=this.getElement(),e}getSender(){return this}};var vd=class extends Rn{getElement(){let e=this.options.node,i=new T.Rect([e.x0,e.y0],[e.x1-e.x0,e.y1-e.y0]);return _.Path.fromRect(i,this.visualOptions())}visualOptions(){let t=v({},this.options,this.options.node);return{fill:{color:t.color,opacity:t.opacity},stroke:{width:0}}}},wx=(s,t,e)=>s.color||t[e%t.length],Cx=(s,t,e,i)=>{let n=v({},t,t.node);return v({},{color:wx(s,e,i)},n,{node:s},{visual:s.visual,opacity:s.opacity,offset:s.offset,color:s.color})};var O3=class extends Rn{getElement(){let t=this.options.link,{source:e,target:i,y0:n,y1:o}=t,r=(e.x0+i.x1)/2;return new _.Path(this.visualOptions()).moveTo(e.x1,n).curveTo([r,n],[r,o],[i.x0,o])}visualOptions(){let t=this.options,e=this.options.link;return{stroke:{width:t.link.width,color:e.color||t.color,opacity:M(e.opacity)?e.opacity:t.opacity}}}},tM=(s,t,e,i)=>{let n=v({},t,{link:s,opacity:s.opacity,color:s.color,colorType:s.colorType,visual:s.visual,highlight:s.highlight});return n.colorType==="source"?n.color=e.options.fill.color:n.colorType==="target"&&(n.color=i.options.fill.color),n};var eM="inside",Sx="before",nH="after",dh=class extends Rn{getElement(){let t=v({},this.options,this.options.node.label),{node:e,totalWidth:i,position:n,text:o,offset:r}=t;if(!t.visible||!o)return null;let a=new k(e.x0,e.y0,e.x1,e.y1),l=this.visualOptions(),c=new Gt(o,l);c.reflow(new k);let h=c.box,d=e.x1+h.width()>i,p=a.center().y-h.height()/2,m=[(n===Sx||n===eM&&d?Sx:nH)===Sx?e.x0-h.width():e.x1,p],f=new k(m[0],m[1],m[0]+h.width(),m[1]+h.height());return f.translate(r.left||0,r.top||0),c.reflow(f),c.renderVisual(),c.visual}visualOptions(){let t=v({},this.options,this.options.node.label);return{color:t.color,opacity:t.opacity,font:t.font,border:t.border,margin:t.margin,padding:t.padding,align:t.align}}};b(dh,{position:eM});var iM=(s,t,e)=>v({},t,{node:s,totalWidth:e,visual:s.label.visual,visible:s.label.visible,margin:s.label.margin,padding:s.label.padding,border:s.label.border,align:s.label.align,opacity:s.label.opacity,offset:s.label.offset});var ph=class extends Rn{getElement(){let t=this.options,{drawingRect:e,text:i}=t;if(t.visible===!1||!i)return null;let n=mo.buildTitle(i,t);return n.reflow(e),n.renderVisual(),n.visual}createElement(){return this.getElement()}};b(ph,{position:nt,align:$,opacity:1,border:{width:0},margin:at(5),padding:at(5)});var uh=class extends Rn{getElement(){let t=this.options,{drawingRect:e,nodes:i=[],colors:n=[]}=t;if(t.visible===!1||!i.length)return null;let o=i.map((a,l)=>({text:a.label&&a.label.text||"",area:{background:wx(a,n,l),opacity:a.opacity},node:a})),r=new I1(Object.assign({},t,{data:o}));return r.reflow(e),r.renderVisual(),r.visual}createElement(){return this.getElement()}};b(uh,{markers:{visible:!1},item:{type:ji,cursor:Zh,opacity:1},position:lt,align:$,border:{width:0}});var Mx="link",Ax="node",V3=class extends Ce{constructor(t,e,i){super(),this._initElement(t),this._initTheme(i),this._setOptions(e),this._initSurface(),e&&e.data&&this._redraw(),this._initResizeObserver()}destroy(){this.unbind(),this._destroySurface(),this._destroyResizeObserver()}_initElement(t){this.element=t,bt(this.element,["k-chart","k-sankey"])}_initSurface(){this.surface||(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_initResizeObserver(){let t=new ResizeObserver(e=>{e.forEach(i=>{let{width:n,height:o}=i.contentRect;i.target!==this.element||this.size.width===n&&this.size.height===o||(this.size={width:n,height:o},this.surface.setSize(this.size),this._redraw())})});this._resizeObserver=t,t.observe(this.element)}_createSurface(){return _.Surface.create(this.surfaceElement,{mouseenter:this._mouseenter.bind(this),mouseleave:this._mouseleave.bind(this)})}_initTheme(t){let e=t||this.theme||{};this.theme=e,this.options=v({},e,this.options)}setLinksOpacity(t){this.linksVisuals.forEach(e=>{this.setOpacity(e,t)})}setOpacity(t,e){t.options.set("stroke",Object.assign({},t.options.stroke,{opacity:e}))}trigger(t,e){return e.type=t,super.trigger(t,e)}_mouseenter(t){let e=t.element,i=e.type===Mx,n=e.type===Ax,o=!!(e.chartElement&&e.chartElement.options.node);if(i&&this.trigger("linkEnter",t)||n&&this.trigger("nodeEnter",t))return;let{highlight:r}=this.options.links;if(i)this.setLinksOpacity(r.inactiveOpacity),this.setOpacity(e,r.opacity);else if(n)this.highlightLinks(e,r);else if(o){let a=this.nodesVisuals.get(e.chartElement.options.node.id);this.highlightLinks(a,r)}}_mouseleave(t){let e=t.element,i=e.type===Mx,n=e.type===Ax,o=!!(e.chartElement&&e.chartElement.options.node),r=t.originalEvent.relatedTarget;i&&r&&r.nodeName==="text"||i&&this.trigger("linkLeave",t)||n&&this.trigger("nodeLeave",t)||(i||n||o)&&this.setLinksOpacity(this.options.links.opacity)}highlightLinks(t,e){t&&(this.setLinksOpacity(e.inactiveOpacity),t.links.forEach(i=>{this.setOpacity(i,e.opacity)}))}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_destroyResizeObserver(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}setOptions(t,e){this._setOptions(t),this._initTheme(e),this._initSurface(),this._redraw()}_redraw(){this.surface.clear();let{width:t,height:e}=this._getSize();this.size={width:t,height:e},this.surface.setSize(this.size),this.createVisual(),this.surface.draw(this.visual)}_getSize(){return this.element.getBoundingClientRect()}createVisual(){this.visual=this._render()}titleBox(t,e){return!t||t.visible===!1||!t.text?null:new ph(Object.assign({},{drawingRect:e},t)).exportVisual().chartElement.box}legendBox(t,e,i){return!t||t.visible===!1?null:new uh(Object.assign({},{nodes:e},t,{drawingRect:i})).exportVisual().chartElement.box}calculateSankey(t){let{title:e,legend:i,data:n}=this.options,{nodes:o,labels:r,nodesColors:a}=this.options,l=new k(0,0,t.width,t.height),c=this.titleBox(e,l),h=l.clone();if(c){let y=c.height();e.position===nt?(l.unpad({top:y}),h=new k(0,y,t.width,t.height)):(l.shrink(0,y),h=new k(0,0,t.width,t.height-y))}let d=this.legendBox(i,n.nodes,h);d&&(i.position===K&&l.unpad({left:d.width()}),i.position===dt&&l.shrink(d.width(),0),i.position===nt&&l.unpad({top:d.height()}),i.position===lt&&l.shrink(0,d.height()));let p=_x(Object.assign({},t,{offsetX:l.x1,offsetY:l.y1,width:l.x2,height:l.y2})).nodes,u=new k;p.forEach((y,C)=>{let S=Cx(y,o,a,C),w=new vd(S);u.wrap(Ki(w.exportVisual().rawBBox()));let D=new dh(v({node:y,totalWidth:t.width},r)).exportVisual();D&&u.wrap(Ki(D.rawBBox()))});let m=(u.x1<0?-u.x1:0)+l.x1,f=(u.y1<0?-u.y1:0)+l.y1,g=u.width()>l.x2?m+l.x2-(u.width()-l.x2):l.x2,x=u.height()>l.y2?f+l.y2-(u.height()-l.y2):l.y2;return{sankey:_x(Object.assign({},t,{offsetX:m,offsetY:f,width:g,height:x})),legendBox:d,titleBox:c}}_render(){let{data:t,labels:e,nodes:i,links:n,nodesColors:o,title:r,legend:a}=this.options,{width:l,height:c}=this.size,h=Object.assign({},t,{width:l,height:c,nodesOptions:i,title:r,legend:a}),{sankey:d,titleBox:p,legendBox:u}=this.calculateSankey(h),{nodes:m,links:f}=d,g=new _.Group;if(p){let w=new ph(Object.assign({},r,{drawingRect:p})).exportVisual();g.append(w)}if(u){let w=new uh(Object.assign({},a,{drawingRect:u,nodes:m,colors:o})).exportVisual();g.append(w)}let x=new Map;m.forEach((S,w)=>{let I=Cx(S,i,o,w),E=new vd(I).exportVisual();E.links=[],E.type=Ax,x.set(S.id,E),g.append(E)});let y=f.slice().sort((S,w)=>w.value-S.value),C=[];return y.forEach(S=>{let{source:w,target:I}=S,D=x.get(w.id),E=x.get(I.id),F=tM(S,n,D,E),st=new O3(F).exportVisual();st.type=Mx,C.push(st),D.links.push(st),E.links.push(st),g.append(st)}),this.linksVisuals=C,this.nodesVisuals=x,m.forEach(S=>{let w=iM(S,e,l),D=new dh(w).exportVisual();D&&g.append(D)}),g}exportVisual(){return this._render()}_setOptions(t){this.options=v({},this.options,t)}};b(V3,{labels:{visible:!0,margin:{left:8,right:8},padding:0,border:{width:0},align:K,opacity:1,offset:{left:0,top:0}},nodes:{width:24,padding:16,opacity:1,offset:{left:0,top:0}},links:{colorType:"static",opacity:.4,highlight:{opacity:.8,inactiveOpacity:.2}}});var xd=1.5,fh=.4,dM="#000",Tx="Arial, Helvetica, sans-serif",sH="11px "+Tx,B3="12px "+Tx,pM="16px "+Tx,uM="transparent",mM="#fff",gh={type:Ji},H3={type:ji},gi=Object.assign({},H3,{markers:{visible:!1},highlight:{visible:!1}}),fM=()=>({icon:{border:{width:1}},label:{font:B3,padding:3},line:{length:10,width:2},legendItem:gi,visible:!0}),oH=()=>({labels:{font:B3},notes:fM(),title:{font:pM,margin:5}}),nM=()=>({highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},legendItem:H3,opacity:.4}),sM=()=>({highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},legendItem:H3,opacity:.4}),rH=()=>({gap:xd,spacing:fh,legendItem:gi}),oM=()=>({outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:mM,gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2},legendItem:gi}),aH=()=>({border:{width:0},labels:{background:uM},legendItem:gi,opacity:.6}),rM=()=>({gap:xd,spacing:fh,target:{color:"#ff0000"},legendItem:gi}),lH=()=>({border:{_brightness:.8,width:1},downColor:mM,gap:1,highlight:{border:{opacity:1,width:2},line:{width:2}},line:{color:dM,width:1},legendItem:gi,spacing:.3}),cH=()=>({gap:xd,spacing:fh,legendItem:gi}),hH=()=>({legendItem:gi}),dH=()=>({legendItem:gh}),pH=()=>({legendItem:gh}),uH=()=>({margin:1,legendItem:gi}),aM=()=>({width:2,legendItem:gh}),mH=()=>({gap:1,highlight:{line:{opacity:1,width:3}},line:{width:1},legendItem:gi,spacing:.3}),lM=()=>({line:{opacity:1,width:0},markers:{size:6,visible:!1},legendItem:H3,opacity:.5}),cM=()=>({markers:{visible:!1},legendItem:gh,width:2}),fH=()=>({gap:xd,spacing:fh,legendItem:gi}),gH=()=>({gap:xd,spacing:fh,legendItem:gi}),vH=()=>({width:1,legendItem:gh}),hM=()=>({gap:.5,line:{color:dM,width:1},legendItem:gi,spacing:fh}),xH=()=>({labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}},legendItem:gi}),gM=()=>({labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}},legendItem:gi}),yH=gM,bH=()=>({labels:{color:"",background:uM,visible:!0},highlight:{border:{width:0}},legendItem:gi}),mh=s=>Object.assign({color:Bp,trendline:{},markers:{visible:!1},width:1,dashType:"longDash",legendItem:gh},s),_H=s=>({visible:!0,labels:{font:sH},overlay:s.gradients?{}:{gradient:"none"},area:nM(),rangeArea:sM(),verticalRangeArea:sM(),bar:rH(),boxPlot:oM(),bubble:aH(),bullet:rM(),candlestick:lH(),column:cH(),heatmap:bH(),pie:xH(),donut:uH(),funnel:gM(),pyramid:yH(),horizontalWaterfall:hM(),line:aM(),notes:fM(),ohlc:mH(),radarArea:lM(),radarLine:cM(),radarColumn:hH(),polarArea:lM(),polarLine:cM(),polarScatter:dH(),rangeBar:fH(),rangeColumn:gH(),scatter:pH(),scatterLine:vH(),verticalArea:nM(),verticalBoxPlot:oM(),verticalBullet:rM(),verticalLine:aM(),waterfall:hM(),linearTrendline:mh(),exponentialTrendline:mh({style:"smooth"}),logarithmicTrendline:mh({style:"smooth"}),polynomialTrendline:mh({style:"smooth"}),powerTrendline:mh({style:"smooth"}),movingAverageTrendline:mh()}),wH=()=>({font:pM}),CH=()=>({font:B3}),SH=()=>({labels:{font:B3}}),N3=(s={})=>({axisDefaults:oH(),categoryAxis:{majorGridLines:{visible:!0}},navigator:{pane:{height:90,margin:{top:10}}},seriesDefaults:_H(s),title:wH(),subtitle:CH(),legend:SH()});var De={bottom:"bottom",center:"center",middle:"middle",left:"left",right:"right",top:"top"};var MH=s=>{let{anchorRect:t,anchorAlign:e,elementRect:i,elementAlign:n,margin:o={}}=s,r=e.horizontal,a=e.vertical,l=n.horizontal,c=n.vertical,h=o.horizontal||0,d=o.vertical||0,p=t.top,u=t.left;return a===De.bottom&&(p+=t.height),(a===De.center||a===De.middle)&&(p+=Math.round(t.height/2)),c===De.bottom&&(p-=i.height,d*=-1),(c===De.center||c===De.middle)&&(p-=Math.round(i.height/2),d*=-1),r===De.right&&(u+=t.width),(r===De.center||r===De.middle)&&(u+=Math.round(t.width/2)),l===De.right&&(u-=i.width,h*=-1),(l===De.center||l===De.middle)&&(u-=Math.round(i.width/2),h*=-1),{top:p+d,left:u+h}},F3=MH;function yd(s,t){return{top:s.top+t.y,left:s.left+t.x,height:s.height,width:s.width}}function bd(s){return s.ownerDocument||s.document||s}var AH=s=>bd(s).defaultView,cl=AH;var TH=s=>bd(s).documentElement,hl=TH;var Ix=0;function zx(){if(!Ix&&typeof document<"u"){let s=document.createElement("div");s.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",s.innerHTML="&nbsp;",document.body.appendChild(s),Ix=s.offsetWidth-s.scrollWidth,document.body.removeChild(s)}return Ix}function dl(s){let t=cl(s),e=hl(s),i={height:t.innerHeight,width:t.innerWidth};return e.scrollHeight-e.clientHeight>0&&(i.width-=zx()),i}var IH=s=>{if(!s.getBoundingClientRect){let o=dl(s);return{bottom:o.height,left:0,right:o.width,top:0}}let{bottom:t,left:e,right:i,top:n}=s.getBoundingClientRect();return{bottom:t,left:e,right:i,top:n}},j3=IH;var zH=s=>{let t=s.offsetParent;for(;t&&t.style.position==="static";)t=t.offsetParent;return t||hl(s)},Qr=zH;var EH=s=>{let{display:t,left:e,position:i}=s.style;s.style.display="",s.style.left="-10000px",s.style.position="absolute";let n=s.getBoundingClientRect();return s.style.display=t,s.style.left=e,s.style.position=i,n},kH=s=>{let t=s.getBoundingClientRect(),{left:e,top:i}=t;return!t.height&&!t.width&&(t=EH(s)),{top:i,left:e,height:t.height,width:t.width}},Ro=kH;var pl=(s,t)=>{let e=[],i=s.parentNode;for(;i&&(e.push(i),i!==t);)i=i.parentNode;return e};function ul(s){let t=hl(s),e=cl(s);return{x:e.pageXOffset||t.scrollLeft||0,y:e.pageYOffset||t.scrollTop||0}}var U3=s=>s===(s.ownerDocument||{}).body?ul(s):{x:s.scrollLeft,y:s.scrollTop};function G3(s){let t=Qr(s);return t?U3(t):{x:0,y:0}}var DH=(s,t)=>{let e=cl(s),i=e.getComputedStyle(s),n=Ro(s),o=t||Qr(s),r=s.ownerDocument,a=o!==r.body&&o!==r.documentElement,l={top:0,left:0};if(i.position!=="fixed"&&a){let c=e.getComputedStyle(o);l=Ro(o),l.top+=parseInt(c.borderTopWidth,10),l.left+=parseInt(c.borderLeftWidth,10)}return{top:n.top-l.top,left:n.left-l.left,height:n.height,width:n.width}},Ex=DH;var vM=(s,t)=>s?U3(s):G3(t);var W3=(s,t,e=1)=>{let i=t?Qr(t):null,{top:n,left:o,height:r,width:a}=Ex(s,i),{x:l,y:c}=vM(i,s),h=s.ownerDocument,d=i===h.body||i===h.documentElement?1:e;return{top:n+c*d,left:o+l*d,height:r,width:a}};function _d(s,t){return{top:s.top-t.y,left:s.left-t.x,height:s.height,width:s.width}}var vh={fit:"fit",flip:"flip",none:"none"};var xM=function(s,t,e){let i=0;return s+t>e&&(i=e-(s+t)),s<0&&(i=-s),i},yM=function({offset:s,size:t,anchorSize:e,viewPortSize:i,anchorAlignPoint:n,elementAlignPoint:o,margin:r}){let a=0,l=o===De.center||o===De.middle,c=n===De.center||n===De.middle,h=2*r;if(o!==n&&!l&&!c){let d=n===De.top||n===De.left;s<0&&d?(a=t+e+h,s+a+t>i&&(a=0)):s>=0&&!d&&(s+t>i&&(a+=-(e+t+h)),s+a<0&&(a=0))}return a},PH=s=>{let{anchorRect:t,anchorAlign:e,elementRect:i,elementAlign:n,collisions:o,viewPort:r,margin:a={}}=s,{top:l,left:c,height:h,width:d}=i,{height:p,width:u}=r,m=a.horizontal||0,f=a.vertical||0,g=0,x=0,y=o.vertical===vh.fit,C=o.horizontal===vh.fit,S=o.vertical===vh.flip,w=o.horizontal===vh.flip;y&&(x+=xM(l,h,p)),C&&(g+=xM(c,d,u)),S&&(x+=yM({margin:f,offset:l,size:h,anchorSize:t.height,viewPortSize:p,anchorAlignPoint:e.vertical,elementAlignPoint:n.vertical})),w&&(g+=yM({margin:m,offset:c,size:d,anchorSize:t.width,viewPortSize:u,anchorAlignPoint:e.horizontal,elementAlignPoint:n.horizontal}));let I=S&&x!==0,D=w&&g!==0,E=y&&x!==0,F=C&&g!==0;return{flipped:D||I,fitted:E||F,flip:{horizontal:D,vertical:I},fit:{horizontal:F,vertical:E},offset:{left:g,top:x}}},q3=PH;var kx=s=>{let t=[],e=s.parentNode.firstElementChild;for(;e;)e!==s&&t.push(e),e=e.nextElementSibling;return t};var wd=(s,t)=>{let e=pl(s),i=t,n,o;for(;i&&(n=kx(i),o=e.reduce((r,a)=>r.concat(n.filter(l=>l===a)),[])[0],!o);)i=i.parentElement;return o};function LH(s){let t,e=!1;return(...i)=>(e||(t=s(...i),e=!0),t)}var YTt=LH(s=>{if(!RH())return!1;let t=s?s.ownerDocument:document;if(!t||!t.body)return!1;let e=10,i=t.createElement("div");i.style.transform="matrix(10, 0, 0, 10, 0, 0)",i.innerHTML=`<div style="position: fixed; top: ${e}px;">child</div>`,t.body.appendChild(i);let n=i.children[0].getBoundingClientRect().top!==e;return t.body.removeChild(i),n}),RH=()=>!!(typeof window<"u"&&window.document&&window.document.createElement);var VH=["container"],BH=["*"];function HH(s,t){}var Px=(s,t)=>s||{height:0,left:t.left,top:t.top,width:0};var NH=(s,t)=>t?{height:s.height,left:s.left-t.left,top:s.top-t.top,width:s.width}:s,FH=(s,t)=>{let{left:e,top:i}=s,{left:n,top:o}=t;return Math.abs(e-n)>=1||Math.abs(i-o)>=1},X3=()=>typeof window<"u";var jH=/auto|scroll/,UH=s=>`${s.style.overflow}${s.style.overflowX}${s.style.overflowY}`,GH=s=>{let t=window.getComputedStyle(s);return`${t.overflow}${t.overflowX}${t.overflowY}`},WH=s=>UH(s)||GH(s),qH=s=>{let t=[];if(!ae()||!X3())return t;let e=s.parentElement;for(;e;)(jH.test(WH(e))||e.hasAttribute("data-scrollable"))&&t.push(e),e=e.parentElement;return t.push(window),t},TM=1e3/60;function YH(s){let t,e=!1;return(...i)=>(e||(t=s(...i),e=!0),t)}var XH=YH(()=>{if(!ae()&&document.body!==null)return!1;let s=10,t=document.createElement("div");t.style.transform="matrix(10, 0, 0, 10, 0, 0)";let e=document.createElement("div");e.style.position="fixed",e.style.top=`${s}px`,e.textContent="child",t.appendChild(e),document.body.appendChild(t);let i=t.children[0].getBoundingClientRect().top!==s;return document.body.removeChild(t),i}),$H=(s,t)=>{if(!s||!ae()||!X3())return null;let e=wd(s,t);if(!e)return null;let i=[s].concat(pl(s,e)).reduce((n,o)=>{let r=o.style.zIndex||window.getComputedStyle(o).zIndex,a=parseInt(r,10);return a>n?a:n},0);return i?i+1:null},Cd=(s,t)=>!s||t===1?s:{height:s.height/t,left:s.left/t,top:s.top/t,width:s.width/t},QH=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],yh=(()=>{class s{addOffset(e,i){return{left:e.left+i.left,top:e.top+i.top}}addScroll(e,i){return yd(e,i)}align(e){return F3(e)}boundingOffset(e){return j3(e)}getFontStyles(e){let i=this.getWindow();if(!i||!e)return[];let n=i.getComputedStyle(e);return QH.map(o=>({key:o,value:n[o]}))}getWindow(){return X3()?window:null}hasOffsetParent(e){return!e||!ae()?!1:!!this.nativeElement(e).offsetParent}offset(e){return!e||!ae()?null:Ro(e)}offsetAtPoint(e,i){if(!e||!ae())return null;let n=this.nativeElement(e),{left:o,top:r,transition:a}=n.style;n.style.transition="none",n.style.left=`${i.left}px`,n.style.top=`${i.top}px`;let l=Ro(n);return n.style.left=o,n.style.top=r,this._dummy=n.offsetHeight,n.style.transition=a,l}nativeElement(e){return!e||!ae()?null:e.nativeElement||e}position(e,i,n=1){return!e||!i?null:W3(e,this.nativeElement(i),n)}removeScroll(e,i){return _d(e,i)}restrictToView(e){return q3(e)}scrollPosition(e){return ul(this.nativeElement(e))}scrollableParents(e){return qH(e)}stackingElementOffset(e){let i=this.getRelativeContextElement(e);return i?Ro(i):null}stackingElementScroll(e){let i=this.getRelativeContextElement(e);return i?{x:i.scrollLeft,y:i.scrollTop}:{x:0,y:0}}getRelativeContextElement(e){if(!e||!XH())return null;let i=this.nativeElement(e).parentElement;for(;i;){if(window.getComputedStyle(i).transform!=="none")return i;i=i.parentElement}return null}useRelativePosition(e){return!!this.getRelativeContextElement(e)}windowViewPort(e){return dl(this.nativeElement(e))}zIndex(e,i){return $H(e,this.nativeElement(i))}zoomLevel(){return!ae()||!X3()?1:parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1}isZoomed(){return this.zoomLevel()>1}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=qt({token:s,factory:s.\u0275fac}),s})(),IM=new cs("Popup Document Scale"),_M=(()=>{class s{constructor(e,i=1){this._dom=e,this.scale=i}alignElement(e){let{anchor:i,element:n,anchorAlign:o,elementAlign:r,margin:a,offset:l,positionMode:c}=e,h=this.scale||1,p=c==="fixed"||!this._dom.hasOffsetParent(n)?this.absoluteRect(i,n,l,h):this.relativeRect(i,n,l,h),u=Cd(this._dom.offset(n.nativeElement),h);return this._dom.align({anchorAlign:o,anchorRect:p,elementAlign:r,elementRect:u,margin:a})}absoluteRect(e,i,n,o){let r=this.elementScrollPosition(e,i),a=Px(this._dom.offset(e),n),l=2*o,c=this._dom.stackingElementScroll(i);o!==1&&c&&(c.x/=l,c.y/=l);let h=this._dom.stackingElementOffset(i);return o!==1&&h&&(h.left/=l,h.top/=l),this._dom.removeScroll(this._dom.addScroll(NH(Cd(a,o),h),c),r)}elementScrollPosition(e,i){return e?{x:0,y:0}:this._dom.scrollPosition(i)}relativeRect(e,i,n,o){let r=Px(this._dom.position(e,i,o),n);return Cd(r,o)}}return s.\u0275fac=function(e){return new(e||s)(Bt(yh),Bt(IM,8))},s.\u0275prov=qt({token:s,factory:s.\u0275fac}),s})(),wM=(()=>{class s{constructor(e,i=1){this._dom=e,this.scale=i}positionElement(e){let{anchor:i,currentLocation:n,element:o,anchorAlign:r,elementAlign:a,collisions:l,margin:c}=e,h=this._dom,d=this.scale||1,p=h.offsetAtPoint(o,n),u=Cd(p,d),m=Cd(h.offset(i),d),f=Px(m,n),g=e.viewPort||h.windowViewPort(o);g.width=g.width/d,g.height=g.height/d;let x=h.restrictToView({anchorAlign:r,anchorRect:f,collisions:l,elementAlign:a,elementRect:u,margin:c,viewPort:g}),y=h.addOffset(n,x.offset);return{flip:x.flip,flipped:x.flipped,offset:y}}}return s.\u0275fac=function(e){return new(e||s)(Bt(yh),Bt(IM,8))},s.\u0275prov=qt({token:s,factory:s.\u0275fac}),s})(),CM=(()=>{class s{constructor(e,i){this._dom=e,this._zone=i}subscribe(e){ae()&&this._zone.runOutsideAngular(()=>{this.subscription=Gs(this._dom.getWindow(),"resize").pipe(ta(TM)).subscribe(()=>e())})}unsubscribe(){this.subscription&&this.subscription.unsubscribe()}isUnsubscribed(){return this.subscription&&this.subscription.closed}}return s.\u0275fac=function(e){return new(e||s)(Bt(yh),Bt(Ue))},s.\u0275prov=qt({token:s,factory:s.\u0275fac}),s})(),Y3=1,SM=(()=>{class s{constructor(e,i){this._dom=e,this._zone=i}forElement(e){return this.unsubscribe(),this.element=e,this}subscribe(e){if(!e||!ae()||!this.element)return;let i=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular(()=>{let n=i.map(r=>Gs(r,"scroll").pipe(ta(TM))),o=r=>{let a=r.target;(i.filter(d=>d===a).length>0||a===document||a===window)&&e(this.isVisible(this.element,a))};this.subscription=Jr(...n).subscribe(o)})}unsubscribe(){this.subscription&&this.subscription.unsubscribe()}isVisible(e,i){let n=this._dom.boundingOffset(e),o=this._dom.boundingOffset(this._dom.nativeElement(i));return!(Y3<o.top-n.bottom||Y3<n.top-o.bottom||Y3<n.left-o.right||Y3<o.left-n.right)}}return s.\u0275fac=function(e){return new(e||s)(Bt(yh),Bt(Ue))},s.\u0275prov=qt({token:s,factory:s.\u0275fac}),s})(),Sd="left",bh="right",xh="down",Lx="up",ZH="slide",KH=100,Md={};Md.expand=s=>{let t=s===Lx||s===xh?"scaleY":"scaleX",e=0,i=1,n;return s===xh?n="top":s===Sd?n=bh:s===bh?n=Sd:n="bottom",{start:{transform:`${t}(${e})`,transformOrigin:n},end:{transform:`${t}(${i})`}}};Md.slide=s=>{let t=s===Sd||s===bh?"translateX":"translateY";return{start:{transform:`${t}(${s===bh||s===xh?-100:100}%)`},end:{transform:`${t}(0%)`}}};Md.fade=()=>({start:{opacity:0},end:{opacity:1}});Md.zoom=()=>({start:{transform:"scale(0)"},end:{transform:"scale(1)"}});var MM=(()=>{class s{constructor(e){this.animationBuilder=e,this.start=new ye,this.end=new ye}play(e,i,n){if(!this.flip||this.flip.horizontal!==n.horizontal||this.flip.vertical!==n.vertical){this.flip=n;let o=i.type||ZH,r=Md[o];if(r){let a=this.getDirection(n,i),l=r(a);this.playStates(e,l,i)}else if(hs())throw new Error(`Unsupported animation type: "${o}". The supported types are slide, expand, fade and zoom.`)}}ngOnDestroy(){this.stopPlayer()}playStates(e,i,n){this.stopPlayer();let o=n.duration||KH,r=this.animationBuilder.build([Hn(i.start),Ih(`${o}ms ease-in`,Hn(i.end))]),a=this.player=r.create(e);a.onDone(()=>{this.end.emit(),this.stopPlayer()}),this.start.emit(),a.play()}getDirection(e,i){let n=i.direction||xh;return e.horizontal&&(n===Sd?n=bh:n===bh&&(n=Sd)),e.vertical&&(n===xh?n=Lx:n===Lx&&(n=xh)),n}stopPlayer(){this.player&&(this.player.destroy(),this.player=null)}}return s.\u0275fac=function(e){return new(e||s)(Bt(jd))},s.\u0275prov=qt({token:s,factory:s.\u0275fac}),s})(),JH={name:"@progress/kendo-angular-popup",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1713437196,version:"15.5.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},AM={left:-1e4,top:0},tN="k-animation-container",eN="k-animation-container-fixed",iN=(()=>{class s{constructor(e,i,n,o,r,a,l,c,h){this.container=e,this._alignService=i,this.domService=n,this._positionService=o,this._resizeService=r,this._scrollableService=a,this.animationService=l,this._renderer=c,this._zone=h,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=AM,this.anchorViewportLeave=new ye,this.close=new ye,this.open=new ye,this.positionChange=new ye,this.resolvedPromise=Promise.resolve(null),this.initialCheck=!0,Js(JH),this._renderer.addClass(e.nativeElement,tN),this.updateFixedClass()}ngOnInit(){this.reposition=this.reposition.bind(this),this._resizeService.subscribe(this.reposition),this.animationSubscriptions=this.animationService.start.subscribe(this.onAnimationStart.bind(this)),this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this))),this._scrollableService.forElement(this.domService.nativeElement(this.anchor)||this.container.nativeElement).subscribe(this.onScroll.bind(this)),this.currentOffset=AM,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass(),this.reposition()}ngOnChanges(e){e.copyAnchorStyles&&this.copyFontStyles(),e.positionMode&&this.updateFixedClass()}ngAfterViewInit(){this.animate||this.resolvedPromise.then(()=>{this.onAnimationEnd()}),this.reposition()}ngAfterViewChecked(){if(this.initialCheck){this.initialCheck=!1;return}this._zone.runOutsideAngular(()=>{this.unsubscribeReposition(),this.repositionSubscription=Ld(this.resolvedPromise).subscribe(this.reposition)})}ngOnDestroy(){this.anchorViewportLeave.complete(),this.positionChange.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.animationSubscriptions.unsubscribe(),this.unsubscribeReposition()}onResize(){this.reposition()}onAnimationStart(){this._renderer.removeClass(this.container.nativeElement,"k-animation-container-shown")}onAnimationEnd(){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()}get currentOffset(){return this._currentOffset}set currentOffset(e){this.setContainerStyle("left",`${e.left}px`),this.setContainerStyle("top",`${e.top}px`),this._currentOffset=e}setZIndex(){this.anchor&&this.setContainerStyle("z-index",String(this.domService.zIndex(this.domService.nativeElement(this.anchor),this.container)))}reposition(){if(!ae())return;let{flip:e,offset:i}=this.position();(!this.currentOffset||FH(this.currentOffset,i))&&(this.currentOffset=i,Z4(this.positionChange)&&this._zone.run(()=>this.positionChange.emit({offset:i,flip:e}))),this.animate&&this.animationService.play(this.contentContainer.nativeElement,this.animate,e),this.resizeSensor.acceptSize()}position(){let e=this._alignService.alignElement({anchor:this.domService.nativeElement(this.anchor),anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,margin:this.margin,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.domService.nativeElement(this.anchor),anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:e,element:this.container,elementAlign:this.popupAlign,margin:this.margin})}onScroll(e){let i=Z4(this.anchorViewportLeave);e||!i?this.reposition():i&&this._zone.run(()=>{this.anchorViewportLeave.emit()})}copyFontStyles(){!this.anchor||!this.copyAnchorStyles||this.domService.getFontStyles(this.domService.nativeElement(this.anchor)).forEach(e=>this.setContainerStyle(e.key,e.value))}updateFixedClass(){let e=this.positionMode==="fixed"?"addClass":"removeClass";this._renderer[e](this.container.nativeElement,eN)}setContainerStyle(e,i){this._renderer.setStyle(this.container.nativeElement,e,i)}unsubscribeReposition(){this.repositionSubscription&&this.repositionSubscription.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(Z(xe),Z(_M),Z(yh),Z(wM),Z(CM),Z(SM),Z(MM),Z(xi),Z(Ue))},s.\u0275cmp=xt({type:s,selectors:[["kendo-popup"]],viewQuery:function(e,i){if(e&1&&(ti(VH,7),ti(Nl,7)),e&2){let n;ce(n=he())&&(i.contentContainer=n.first),ce(n=he())&&(i.resizeSensor=n.first)}},inputs:{animate:"animate",anchor:"anchor",anchorAlign:"anchorAlign",collision:"collision",popupAlign:"popupAlign",copyAnchorStyles:"copyAnchorStyles",popupClass:"popupClass",positionMode:"positionMode",offset:"offset",margin:"margin"},outputs:{anchorViewportLeave:"anchorViewportLeave",close:"close",open:"open",positionChange:"positionChange"},exportAs:["kendo-popup"],features:[Bo([_M,MM,yh,wM,CM,SM]),ea],ngContentSelectors:BH,decls:6,vars:4,consts:[["container",""],[1,"k-child-animation-container"],[1,"k-popup",3,"ngClass"],[3,"ngTemplateOutlet","ngIf"],[3,"resize","rateLimit"]],template:function(e,i){if(e&1){let n=ki();Cl(),P(0,"div",1)(1,"div",2,0),Sl(3),mt(4,HH,0,0,"ng-template",3),P(5,"kendo-resize-sensor",4),Fe("resize",function(){return Ii(n),zi(i.onResize())}),L()()()}e&2&&(N(),V("ngClass",i.popupClass),N(3),V("ngTemplateOutlet",i.content)("ngIf",i.content),N(),V("rateLimit",100))},dependencies:[Nl,Di,na,qe],encapsulation:2}),s})(),nN=s=>{s&&s.parentNode&&s.parentNode.removeChild(s)},zM=new cs("Popup Container"),EM=(()=>{class s{constructor(e,i,n,o){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=n,this.container=o}get rootViewContainer(){let e=this.applicationRef.components||[];if(e[0])return e[0];throw new Error(`
            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.
            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.
        `)}get rootViewContainerNode(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)}open(e={}){let{component:i,nodes:n}=this.contentFrom(e.content),o=this.appendPopup(n,e.appendTo),r=o.instance;this.projectComponentInputs(o,e),o.changeDetectorRef.detectChanges(),i&&i.changeDetectorRef.detectChanges();let a=this.getComponentRootNode(o);return{close:()=>{i&&i.destroy(),o.destroy(),nN(a)},content:i,popup:o,popupAnchorViewportLeave:r.anchorViewportLeave,popupClose:r.close,popupElement:a,popupOpen:r.open,popupPositionChange:r.positionChange}}appendPopup(e,i){let n=this.createComponent(iN,e,i);return i||this.rootViewContainerNode.appendChild(this.getComponentRootNode(n)),n}getComponentRootNode(e){return e.location.nativeElement}getComponentFactory(e){return this.componentFactoryResolver.resolveComponentFactory(e)}createComponent(e,i,n){let o=this.getComponentFactory(e);if(n)return n.createComponent(o,void 0,this.injector,i);{let r=o.create(this.injector,i);return this.applicationRef.attachView(r.hostView),r}}projectComponentInputs(e,i){return Object.getOwnPropertyNames(i).filter(n=>n!=="content"||i.content instanceof Ei).map(n=>{e.instance[n]=i[n]}),e}contentFrom(e){if(!e||e instanceof Ei)return{component:null,nodes:[[]]};let i=this.createComponent(e),n=i?[i.location.nativeElement]:[];return{component:i,nodes:[n]}}}return s.\u0275fac=function(e){return new(e||s)(Bt(D9),Bt(T9),Bt(S9),Bt(zM,8))},s.\u0275prov=qt({token:s,factory:s.\u0275fac}),s})();var Rx=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Ae({type:s}),s.\u0275inj=Me({providers:[EM],imports:[[qi,pa]]}),s})();function oN(s,t){if(s&1&&(v0(),et(0,"svg",1)),s&2){let e=it();wl("pointer-events","none"),V("innerHTML",e.content,y0),Te("viewBox",e.icon.viewBox)}}function rN(s,t){if(s&1&&et(0,"kendo-svgicon",3),s&2){let e=it();V("ngClass",e.innerCssClass)("icon",e.svgIcon)("size",e.size||(e.iconSettings==null?null:e.iconSettings.size))("themeColor",e.iconSettings==null?null:e.iconSettings.themeColor)("flip",e.iconSettings==null?null:e.iconSettings.flip)}}function aN(s,t){if(s&1&&et(0,"kendo-icon",5),s&2){let e=it(2);V("ngClass",e.innerCssClass)("name",e.name)("size",e.size||(e.iconSettings==null?null:e.iconSettings.size))("themeColor",e.iconSettings==null?null:e.iconSettings.themeColor)("flip",e.iconSettings==null?null:e.iconSettings.flip)}}function lN(s,t){if(s&1&&et(0,"span",6),s&2){let e=it(2);V("ngClass",e.customClasses)}}function cN(s,t){if(s&1&&mt(0,aN,1,5,"kendo-icon",4)(1,lN,1,1,"ng-template",null,1,un),s&2){let e=pn(2),i=it();V("ngIf",!i.customFontIconClass)("ngIfElse",e)}}var hN={name:"@progress/kendo-angular-icons",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1713437200,version:"15.5.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},kM={default:"k-icon",xsmall:"k-icon-xs",small:"k-icon-sm",medium:"k-icon-md",large:"k-icon-lg",xlarge:"k-icon-xl",xxlarge:"k-icon-xxl",xxxlarge:"k-icon-xxxl"},LM=(()=>{class s{constructor(e,i){this.element=e,this.renderer=i,Js(hN)}get horizontalFlip(){return this.flip==="horizontal"||this.flip==="both"}get verticalFlip(){return this.flip==="vertical"||this.flip==="both"}set themeColor(e){let i=this.element.nativeElement;this._themeColor&&this.renderer.removeClass(i,`!k-color-${this._themeColor}`),this._themeColor=e,e&&this.renderer.addClass(i,`!k-color-${e}`)}get themeColor(){return this._themeColor}set size(e){let i=kM[this.size],n=kM[e],o=this.element.nativeElement;this.renderer.removeClass(o,i),e&&e!=="default"&&this.renderer.addClass(o,n),this._size=e}get size(){return this._size}}return s.\u0275fac=function(e){return new(e||s)(Z(xe),Z(xi))},s.\u0275dir=Wi({type:s,selectors:[["","kendoIconBase",""]],hostVars:4,hostBindings:function(e,i){e&2&&Yt("k-flip-h",i.horizontalFlip)("k-flip-v",i.verticalFlip)},inputs:{flip:"flip",themeColor:"themeColor",size:"size"}}),s})(),RM=(()=>{class s extends LM{constructor(e,i){super(e,i),this.element=e,this.renderer=i,this.hostClass=!0,this.hostAriaHidden=!0}set name(e){if(ae()&&e!==this._name){let n=this.element.nativeElement;this.renderer.removeClass(n,`k-i-${this.name}`),this.renderer.addClass(n,`k-i-${e}`)}this._name=e}get name(){return this._name}}return s.\u0275fac=function(e){return new(e||s)(Z(xe),Z(xi))},s.\u0275cmp=xt({type:s,selectors:[["kendo-icon"]],hostVars:5,hostBindings:function(e,i){e&2&&(Te("aria-hidden",i.hostAriaHidden),Yt("k-icon",i.hostClass)("k-font-icon",i.hostClass))},inputs:{name:"name"},exportAs:["kendoIcon"],features:[Od],decls:0,vars:0,template:function(e,i){},encapsulation:2}),s})(),dN=(s,t)=>s?.name===t?.name&&s.content===t.content&&s.viewBox===t.viewBox,OM=(()=>{class s extends LM{constructor(e,i,n){super(i,n),this.domSanitizer=e,this.element=i,this.renderer=n,this.hostClass=!0,this.hostAriaHidden=!0}set icon(e){let i=this.element.nativeElement,n=ae(),o=e?.name&&e.name!==this._icon?.name;this._icon&&this._icon.name&&o&&n&&this.renderer.removeClass(i,`k-svg-i-${this._icon.name}`),dN(e,this._icon)||(this._icon=e),n&&o&&this.renderer.addClass(i,`k-svg-i-${this._icon.name}`)}get icon(){return this._icon}get content(){return this.domSanitizer.bypassSecurityTrustHtml(this.icon.content)}get visible(){return this.icon&&ae()}ngOnInit(){this.verifyIconProperty()}verifyIconProperty(){if(hs()&&!this._icon)throw new Error(`
                Invalid configuration.
                The input [icon] is required for the Kendo UI SVG Icon component for Angular.
                See https://www.telerik.com/kendo-angular-ui/components/icons/svg-icon
            `)}}return s.\u0275fac=function(e){return new(e||s)(Z(V9),Z(xe),Z(xi))},s.\u0275cmp=xt({type:s,selectors:[["kendo-svg-icon"],["kendo-svgicon"]],hostVars:5,hostBindings:function(e,i){e&2&&(Te("aria-hidden",i.hostAriaHidden),Yt("k-svg-icon",i.hostClass)("k-icon",i.hostClass))},inputs:{icon:"icon"},exportAs:["kendoSVGIcon"],features:[Od],decls:1,vars:1,consts:[["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",3,"pointerEvents","innerHTML",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",3,"innerHTML"]],template:function(e,i){e&1&&mt(0,oN,1,4,"svg",0),e&2&&V("ngIf",i.visible)},dependencies:[qe],encapsulation:2}),s})(),pN=s=>s!=null,uN=(()=>{class s{constructor(){this.changes=new Mh}notify(e){this.changes.next(e)}getSvgIcon(e){return null}getCustomFontIconClass(e){return null}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=qt({token:s,factory:s.\u0275fac}),s})(),mN=new cs("Kendo UI Icon-Settings token"),VM=(()=>{class s{constructor(e,i){this._iconSettings=e,this.iconSettingsService=i,this.changes=new Us(this.iconSettings||{type:"svg"}),this.subs=new js,i&&this.subs.add(i.changes.pipe(Gi(n=>pN(n)?n:this._iconSettings),Ah(n=>this._iconSettings=n)).subscribe(n=>this.changes.next(n)))}get iconSettings(){return this._iconSettings}ngOnDestroy(){this.subs.unsubscribe()}getSvgIcon(e){return this.iconSettingsService&&this.iconSettingsService.getSvgIcon(e)}getCustomFontIconClass(e){return this.iconSettingsService&&this.iconSettingsService.getCustomFontIconClass(e)}}return s.\u0275fac=function(e){return new(e||s)(Bt(mN,8),Bt(uN,8))},s.\u0275prov=qt({token:s,factory:s.\u0275fac}),s})(),_h=(()=>{class s{constructor(e){this.iconsService=e,this.hostClass=!0,this.innerCssClass="",this.customFontClass="",this.subs=new js,this.subs=e.changes.subscribe(i=>{this.iconSettings=i})}get customClasses(){return[this.customFontClass,this.innerCssClass,this.customFontIconClass].filter(i=>!!i).join(" ")}get hasSvgIcon(){return this.svgIcon=this.iconsService.getSvgIcon(this.name)||this.svgIcon,this.svgIcon?!0:(hs()&&(console.groupCollapsed(`Kendo UI for Angular: Icon type is set to 'svg', but only font icon name is provided. The "${this.name}" font icon will be rendered instead.`),console.warn(`
Starting from v7.0.0 (October, 2023) of the Kendo Themes, the font icons will be removed from the theme.
* To render an SVG icon, update the component configuration by setting the "svgIcon" input to the respective icon definition.
* To continue to use font icons, install the "@progress/kendo-font-icons" package and import "@progress/kendo-font-icons/dist/index.css".

Please note, that font icons are not compatible with a strict Content Security Policy and require the use of the "unsafe-inline" override.

For further details, check the following documentation articles:
https://www.telerik.com/kendo-angular-ui/components/icons/icon-settings
https://www.telerik.com/kendo-angular-ui/components/styling/icons/
https://www.telerik.com/kendo-angular-ui/components/styling/svg-icons/
https://www.telerik.com/design-system/docs/foundation/iconography/font-icons/
https://www.telerik.com/design-system/docs/foundation/iconography/icon-list/
            `),console.groupEnd()),!1)}get customFontIconClass(){return this.iconsService.getCustomFontIconClass(this.name)||this.customFontClass}ngOnDestroy(){this.subs.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(Z(VM))},s.\u0275cmp=xt({type:s,selectors:[["kendo-icon-wrapper"]],hostVars:2,hostBindings:function(e,i){e&2&&Yt("k-icon-wrapper-host",i.hostClass)},inputs:{name:"name",svgIcon:"svgIcon",innerCssClass:"innerCssClass",customFontClass:"customFontClass",size:"size"},exportAs:["kendoIconWrapper"],decls:3,vars:2,consts:[["font",""],["custom",""],[3,"ngClass","icon","size","themeColor","flip",4,"ngIf","ngIfElse"],[3,"ngClass","icon","size","themeColor","flip"],[3,"ngClass","name","size","themeColor","flip",4,"ngIf","ngIfElse"],[3,"ngClass","name","size","themeColor","flip"],[3,"ngClass"]],template:function(e,i){if(e&1&&mt(0,rN,1,5,"kendo-svgicon",2)(1,cN,3,2,"ng-template",null,0,un),e&2){let n=pn(2);V("ngIf",(i.iconSettings==null?null:i.iconSettings.type)==="svg"&&i.hasSvgIcon)("ngIfElse",n)}},dependencies:[OM,RM,qe,Di],encapsulation:2}),s})(),fN=[RM],Czt=[...fN],DM=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Ae({type:s}),s.\u0275inj=Me({imports:[[qi],qi]}),s})(),gN=[OM],Szt=[...gN],PM=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Ae({type:s}),s.\u0275inj=Me({imports:[[qi]]}),s})(),vN=[_h],Mzt=[...vN],BM=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Ae({type:s}),s.\u0275inj=Me({providers:[VM],imports:[[DM,PM],DM,PM]}),s})();var HM={name:"chevron-right",content:'<path d="m158.059 129.941 126.06 126.06-126.06 126.061L192 416l160-159.999L192 96z" />',viewBox:"0 0 512 512"};var NM={name:"chevron-left",content:'<path d="m353.941 382.059-126.06-126.06 126.06-126.061L320 96 160 255.999 320 416z" />',viewBox:"0 0 512 512"};var ZM=["*"],yN=["kendoBreadCrumbItem",""],bN=[[["","kendoBreadCrumbSeparator",""]]],_N=["[kendoBreadCrumbSeparator]"],wN=(s,t,e,i,n)=>({"k-breadcrumb-root-link":s,"k-breadcrumb-link":t,"k-breadcrumb-icontext-link":e,"k-breadcrumb-icon-link":i,"k-disabled":n}),CN=(s,t)=>({$implicit:s,index:t});function SN(s,t){s&1&&Sl(0)}function MN(s,t){s&1&&_0(0)}function AN(s,t){if(s&1&&(Vn(0),mt(1,MN,1,0,"ng-container",2),Bn()),s&2){it();let e=pn(1);N(),V("ngTemplateOutlet",e)}}function TN(s,t){if(s&1){let e=ki();P(0,"img",8),Fe("load",function(){Ii(e);let n=it(3);return zi(n.onImageLoad())}),L()}if(s&2){let e=it(3);V("src",e.item.data.imageUrl,_l)}}function IN(s,t){if(s&1&&et(0,"kendo-icon-wrapper",9),s&2){let e=it(3);V("name",e.item.data.icon)("customFontClass",e.item.data.iconClass)("svgIcon",e.item.data.svgIcon)}}function zN(s,t){if(s&1&&(P(0,"span",4),mt(1,TN,1,1,"img",5)(2,IN,1,3,"kendo-icon-wrapper",6),P(3,"span",7),X(4),L()()),s&2){let e=it(2);V("ngClass",k9(8,wN,e.item.context.isFirst,e.index!==0,!!e.item.data.icon&&!!e.item.data.text,!!e.item.data.icon&&!e.item.data.text,e.disabled))("title",e.item.data.title||"")("tabindex",e.disabled?-1:0),Te("aria-disabled",e.disabled)("aria-current",e.item.context.isLast?"page":null),N(),V("ngIf",e.item.data.imageUrl),N(),V("ngIf",e.item.data.icon||e.item.data.iconClass||e.item.data.svgIcon),N(2),be(e.item.data.text)}}function EN(s,t){}function kN(s,t){if(s&1&&mt(0,EN,0,0,"ng-template",10),s&2){let e=it(2);V("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",S0(2,CN,e.item.data,e.index))}}function DN(s,t){if(s&1&&(Vn(0),mt(1,zN,5,14,"span",3)(2,kN,1,5,null,1),Bn()),s&2){let e=it();N(),V("ngIf",!e.itemTemplate),N(),V("ngIf",e.itemTemplate)}}function PN(s,t){s&1&&_0(0)}function LN(s,t){if(s&1&&(Vn(0),mt(1,PN,1,0,"ng-container",2),Bn()),s&2){it();let e=pn(1);N(),V("ngTemplateOutlet",e)}}var RN=["kendoBreadCrumbSeparator",""],ON=["kendoBreadCrumbList",""];function VN(s,t){if(s&1&&et(0,"span",5),s&2){let e=it(3);V("icon",e.separatorIcon)("svgIcon",e.separatorSVGIcon)}}function BN(s,t){if(s&1&&et(0,"span",5),s&2){let e=it(3);V("icon",e.separatorIcon)("svgIcon",e.separatorSVGIcon)}}function HN(s,t){if(s&1&&(P(0,"li",3,0),mt(2,VN,1,2,"span",4)(3,BN,1,2,"span",4),L()),s&2){let e=it(),i=e.$implicit,n=e.index,o=e.first,r=e.last,a=it();V("item",i)("index",n)("collapseMode",a.collapseMode)("itemTemplate",a.itemTemplate),Te("data-kendo-breadcrumb-index",n),N(2),V("ngIf",a.collapseMode==="wrap"&&!o),N(),V("ngIf",a.collapseMode!=="wrap"&&!r&&!(i!=null&&i.context.collapsed&&(a.items[n+1]!=null&&a.items[n+1].context.collapsed)))}}function NN(s,t){if(s&1&&(Vn(0),mt(1,HN,4,7,"li",2),Bn()),s&2){let e=t.first,i=it();N(),V("ngIf",!(i.collapseMode==="wrap"&&e)||i.isRootItemContainer)}}var FN=["resizeSensor"],jN=["itemsContainer"],UN=(s,t)=>({"!k-flex-wrap":s,"k-flex-none":t});function GN(s,t){if(s&1){let e=ki();P(0,"ol",5,0),M0(2,"async"),Fe("itemClick",function(n){Ii(e);let o=it();return zi(o.itemClick.emit(n))}),L()}if(s&2){let e=it();V("items",A0(2,5,e.firstItem$))("itemTemplate",e.itemTemplate==null?null:e.itemTemplate.templateRef)("collapseMode",e.collapseMode)("separatorIcon",e.separatorIcon)("separatorSVGIcon",e.separatorSVGIcon)}}var WN=["kendoBottomNavigationItem",""],KM=s=>({$implicit:s});function qN(s,t){if(s&1&&et(0,"kendo-icon-wrapper",3),s&2){let e=it(2);V("name",e.item.icon)("customFontClass",e.item.iconClass)("svgIcon",e.item.svgIcon)}}function YN(s,t){if(s&1&&(P(0,"span",4),X(1),L()),s&2){let e=it(2);N(),be(e.item.text)}}function XN(s,t){if(s&1&&(Vn(0),mt(1,qN,1,3,"kendo-icon-wrapper",1)(2,YN,2,1,"span",2),Bn()),s&2){let e=it();N(),V("ngIf",e.itemIcon),N(),V("ngIf",e.item.text)}}function $N(s,t){}function QN(s,t){if(s&1&&mt(0,$N,0,0,"ng-template",5),s&2){let e=it();V("ngTemplateOutlet",e.itemTemplate==null?null:e.itemTemplate.templateRef)("ngTemplateOutletContext",C0(2,KM,e.item))}}function ZN(s,t){if(s&1&&et(0,"span",2),s&2){let e=t.$implicit,i=t.index,n=it(2);V("disabledComponent",n.disabled)("item",e)("index",i)("selectedIdx",n.selectedIdx)("itemTemplate",n.itemTemplate)("ngClass",e.cssClass)("ngStyle",e.cssStyle)("orientation",n.itemFlow),Te("data-kendo-bottomnavigation-index",i)}}function KN(s,t){if(s&1&&(Vn(0),mt(1,ZN,1,9,"span",1),Bn()),s&2){let e=it();N(),V("ngForOf",e.items)}}var JN=["kendoActionSheetItem",""];function tF(s,t){}function eF(s,t){if(s&1&&mt(0,tF,0,0,"ng-template",2),s&2){let e=it();V("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",C0(2,KM,e.item))}}function iF(s,t){if(s&1&&(P(0,"span",6),et(1,"kendo-icon-wrapper",7),L()),s&2){let e=it(2);N(),Vd(e.manageIconStyles(e.item)),z9(e.manageIconClasses(e.item)),V("name",e.item.icon)("customFontClass",e.item.iconClass)("svgIcon",e.item.svgIcon)}}function nF(s,t){if(s&1&&(P(0,"span",11),X(1),L()),s&2){let e=it(3);N(),be(e.item.title)}}function sF(s,t){if(s&1&&(P(0,"span",12),X(1),L()),s&2){let e=it(3);N(),be(e.item.description)}}function oF(s,t){if(s&1&&(P(0,"span",8),mt(1,nF,2,1,"span",9)(2,sF,2,1,"span",10),L()),s&2){let e=it(2);N(),V("ngIf",e.item.title),N(),V("ngIf",e.item.description)}}function rF(s,t){if(s&1&&(P(0,"span",3),mt(1,iF,2,7,"span",4)(2,oF,3,2,"span",5),L()),s&2){let e=it();N(),V("ngIf",e.item.icon||e.item.iconClass||e.item.svgIcon),N(),V("ngIf",e.item.title||e.item.description)}}var aF=["kendoActionSheetList",""];function lF(s,t){if(s&1&&et(0,"span",1),s&2){let e=t.$implicit,i=it();Yt("k-actionsheet-item",!0)("k-disabled",e.disabled),V("ngClass",e.cssClass)("ngStyle",e.cssStyle)("itemTemplate",i.itemTemplate)("item",e),Te("aria-disabled",e.disabled)("kendo-actionsheet-item-index",i.setAttrIndex(e))}}var cF=["childContainer"];function hF(s,t){}function dF(s,t){if(s&1&&mt(0,hF,0,0,"ng-template",10),s&2){let e=it(2);V("ngTemplateOutlet",e.actionSheetTemplate==null?null:e.actionSheetTemplate.templateRef)}}function pF(s,t){}function uF(s,t){if(s&1&&mt(0,pF,0,0,"ng-template",10),s&2){let e=it(4);V("ngTemplateOutlet",e.headerTemplate==null?null:e.headerTemplate.templateRef)}}function mF(s,t){if(s&1&&(P(0,"div",19),X(1),L()),s&2){let e=it(5);N(),be(e.title)}}function fF(s,t){if(s&1&&(P(0,"div",20),X(1),L()),s&2){let e=it(5);N(),be(e.subtitle)}}function gF(s,t){if(s&1&&(P(0,"div",15)(1,"div",16),mt(2,mF,2,1,"div",17)(3,fF,2,1,"div",18),L()()),s&2){let e=it(4);N(),V("id",e.titleId),N(),V("ngIf",e.title),N(),V("ngIf",e.subtitle)}}function vF(s,t){if(s&1&&(P(0,"div",14),mt(1,uF,1,1,null,9)(2,gF,4,3,"ng-template",null,2,un),L()),s&2){let e=pn(3),i=it(3);N(),V("ngIf",i.headerTemplate)("ngIfElse",e)}}function xF(s,t){}function yF(s,t){if(s&1&&mt(0,xF,0,0,"ng-template",10),s&2){let e=it(4);V("ngTemplateOutlet",e.contentTemplate==null?null:e.contentTemplate.templateRef)}}function bF(s,t){if(s&1){let e=ki();P(0,"div",24),Fe("itemClick",function(n){Ii(e);let o=it(5);return zi(o.onItemClick(n))}),L()}if(s&2){let e=it(5);V("groupItems",e.topGroupItems)("allItems",e.items)("itemTemplate",e.itemTemplate==null?null:e.itemTemplate.templateRef)}}function _F(s,t){s&1&&et(0,"hr",25)}function wF(s,t){if(s&1){let e=ki();P(0,"div",24),Fe("itemClick",function(n){Ii(e);let o=it(5);return zi(o.onItemClick(n))}),L()}if(s&2){let e=it(5);V("groupItems",e.bottomGroupItems)("allItems",e.items)("itemTemplate",e.itemTemplate==null?null:e.itemTemplate.templateRef)}}function CF(s,t){if(s&1&&mt(0,bF,1,3,"div",22)(1,_F,1,0,"hr",23)(2,wF,1,3,"div",22),s&2){let e=it(4);V("ngIf",e.topGroupItems),N(),V("ngIf",e.shouldRenderSeparator),N(),V("ngIf",e.bottomGroupItems)}}function SF(s,t){if(s&1&&(P(0,"div",21),mt(1,yF,1,1,null,9)(2,CF,3,3,"ng-template",null,3,un),L()),s&2){let e=pn(3),i=it(3);N(),V("ngIf",i.contentTemplate)("ngIfElse",e)}}function MF(s,t){}function AF(s,t){if(s&1&&(P(0,"div",26),mt(1,MF,0,0,"ng-template",10),L()),s&2){let e=it(3);N(),V("ngTemplateOutlet",e.footerTemplate==null?null:e.footerTemplate.templateRef)}}function TF(s,t){if(s&1&&mt(0,vF,4,2,"div",11)(1,SF,4,2,"div",12)(2,AF,2,1,"div",13),s&2){let e=it(2);V("ngIf",e.title||e.subtitle||e.headerTemplate),N(),V("ngIf",e.items||e.contentTemplate),N(),V("ngIf",e.footerTemplate)}}function IF(s,t){if(s&1){let e=ki();Vn(0),P(1,"div",5),Fe("click",function(){Ii(e);let n=it();return zi(n.onOverlayClick())}),L(),P(2,"div",6)(3,"div",7,0)(5,"div",8),mt(6,dF,1,1,null,9)(7,TF,3,3,"ng-template",null,1,un),L()()(),Bn()}if(s&2){let e=pn(8),i=it();N(3),Vd("bottom: 0px; width: 100%;"),N(2),V("ngClass",i.cssClass),Te("aria-labelledby",i.titleId),N(),V("ngIf",i.actionSheetTemplate)("ngIfElse",e)}}var Q3={name:"@progress/kendo-angular-navigation",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1713437309,version:"15.5.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},FM="light",jM="top",UM="static",zF=(()=>{class s{constructor(e,i,n){this.localizationService=e,this.host=i,this.renderer=n,this.hostClass=!0,this.rtl=!1,this._themeColor=FM,this._position=jM,this._positionMode=UM,Js(Q3),this.dynamicRTLSubscription=this.localizationService.changes.subscribe(({rtl:o})=>{this.rtl=o,this.direction=this.rtl?"rtl":"ltr"})}set position(e){let i=e||jM;this.handleHostClasses(i,this.position),this._position=i}get position(){return this._position}set positionMode(e){let i=e||UM;this.handleHostClasses(i,this.positionMode),this._positionMode=i}get positionMode(){return this._positionMode}set themeColor(e){let i=e||FM;this.handleHostClasses(i,this.themeColor),this._themeColor=i}get themeColor(){return this._themeColor}ngAfterViewInit(){["position","positionMode","themeColor"].forEach(i=>{this.handleHostClasses(this[i])})}ngOnDestroy(){this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()}handleHostClasses(e,i){let n=this.host.nativeElement;i&&e===i||(i&&this.renderer.removeClass(n,`k-appbar-${i}`),e&&this.renderer.addClass(n,`k-appbar-${e}`))}}return s.\u0275fac=function(e){return new(e||s)(Z(jn),Z(xe),Z(xi))},s.\u0275cmp=xt({type:s,selectors:[["kendo-appbar"]],hostVars:3,hostBindings:function(e,i){e&2&&(Te("dir",i.direction),Yt("k-appbar",i.hostClass))},inputs:{position:"position",positionMode:"positionMode",themeColor:"themeColor"},exportAs:["kendoAppBar"],features:[Bo([jn,{provide:Fl,useValue:"kendo.appbar.component"}])],ngContentSelectors:ZM,decls:1,vars:0,template:function(e,i){e&1&&(Cl(),Sl(0))},encapsulation:2}),s})(),EF=(()=>{class s{constructor(){this.hostClass=!0}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=xt({type:s,selectors:[["kendo-appbar-section"]],hostVars:2,hostBindings:function(e,i){e&2&&Yt("k-appbar-section",i.hostClass)},ngContentSelectors:ZM,decls:1,vars:0,template:function(e,i){e&1&&(Cl(),Sl(0))},encapsulation:2}),s})(),rs=s=>s!=null,$3=s=>{let t=getComputedStyle(s),e=parseFloat(t.width);return e+=(parseFloat(t.marginLeft)||0)+(parseFloat(t.marginRight)||0),e},GM=s=>{let t=kF(s),e=t.length>0?t[0]:s,i=t.length>0?t[t.length-1]:s;return[e,i]},kF=s=>s.querySelectorAll(_b),DF=0,WM=/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,PF=s=>`${s}${++DF}`,JM="kendo-actionsheet-item-index",tA=(s,t,e)=>{let i=OF(s,t,e);if(i)return LF(i,t)},LF=(s,t)=>+s.getAttribute(t),RF=(s,t)=>rs(s.getAttribute(t)),OF=(s,t,e)=>xb(s,i=>RF(i,t),e),VF=(()=>{class s{constructor(e,i){this.renderer=e,this.element=i,this.hostClass=!0}get sizedClass(){return rs(this.width)}ngAfterViewInit(){if(rs(this.width)){let e=this.element.nativeElement;this.renderer.setStyle(e,"flexBasis",this.width)}}}return s.\u0275fac=function(e){return new(e||s)(Z(xi),Z(xe))},s.\u0275cmp=xt({type:s,selectors:[["kendo-appbar-spacer"]],hostVars:4,hostBindings:function(e,i){e&2&&Yt("k-appbar-spacer",i.hostClass)("k-appbar-spacer-sized",i.sizedClass)},inputs:{width:"width"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),s})(),BF=[zF,EF,VF],Yzt=[...BF];var eA=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(Z(Ei,8))},s.\u0275dir=Wi({type:s,selectors:[["","kendoBreadCrumbItemTemplate",""]]}),s})(),qM="data-kendo-breadcrumb-index",YM="medium",XM={small:"sm",medium:"md",large:"lg"},HF=(s,t,e)=>{switch(s){case"size":return{toRemove:`k-breadcrumb-${XM[t]}`,toAdd:e!=="none"?`k-breadcrumb-${XM[e]}`:""};default:break}},Ox=(()=>{class s{constructor(e){this.el=e,this.index=-1,this.hostClasses=!0,this.disabled=!1}get isRootItem(){return this.item.context.isFirst}get isDisabled(){return this.disabled||null}get isLastItem(){return this.item.context.isLast}ngOnInit(){this.disabled=this.item.data&&(this.item.data.disabled||this.item.context.isLast)}ngAfterViewInit(){ae()&&(this.width=$3(this.el.nativeElement))}onImageLoad(){ae()&&(this.width=$3(this.el.nativeElement))}}return s.\u0275fac=function(e){return new(e||s)(Z(xe))},s.\u0275cmp=xt({type:s,selectors:[["","kendoBreadCrumbItem",""]],hostVars:7,hostBindings:function(e,i){e&2&&(Te("aria-disabled",i.isDisabled),Yt("k-breadcrumb-item",i.hostClasses)("k-breadcrumb-root-item",i.isRootItem)("k-breadcrumb-last-item",i.isLastItem))},inputs:{item:"item",collapseMode:"collapseMode",index:"index",itemTemplate:"itemTemplate"},attrs:yN,ngContentSelectors:_N,decls:5,vars:3,consts:[["separator",""],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","link",3,"ngClass","title","tabindex",4,"ngIf"],["role","link",3,"ngClass","title","tabindex"],["class","k-image","role","presentation",3,"src","load",4,"ngIf"],[3,"name","customFontClass","svgIcon",4,"ngIf"],[1,"k-breadcrumb-item-text"],["role","presentation",1,"k-image",3,"load","src"],[3,"name","customFontClass","svgIcon"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){e&1&&(Cl(bN),mt(0,SN,1,0,"ng-template",null,0,un)(2,AN,2,1,"ng-container",1)(3,DN,3,2,"ng-container",1)(4,LN,2,1,"ng-container",1)),e&2&&(N(2),V("ngIf",i.collapseMode==="wrap"),N(),V("ngIf",!i.item.context.collapsed),N(),V("ngIf",i.collapseMode!=="wrap"))},dependencies:[_h,qe,na,Di],encapsulation:2}),s})(),NF=(s,t,e,i)=>{for(;s&&s!==i&&!e(s,t);)s=s.parentNode;if(s!==i)return s},FF=(s,t)=>rs(s.getAttribute(t)),iA=(s,t)=>+s.getAttribute(t),nA=(s,t,e)=>NF(s,t,FF,e),jF="chevron-right",UF="chevron-left",GF=HM,WF=NM,sA=(()=>{class s{constructor(e,i){this.el=e,this.localization=i,this.defaultClasses=!0,this.ariaHidden=!0,this.direction="ltr",this.direction=this.localization.rtl?"rtl":"ltr"}set icon(e){rs(e)?(this._icon=e,this.hasDefaultIcon=!1):(this._icon=this.direction==="ltr"?jF:UF,this.hasDefaultIcon=!0)}get icon(){return this._icon}set svgIcon(e){rs(e)?(this._svgIcon=e,this.hasDefaultSvgIcon=!1):(this._svgIcon=this.direction==="ltr"?GF:WF,this.hasDefaultSvgIcon=!0)}get svgIcon(){return this._svgIcon}ngOnInit(){this.localizationChangesSubscription=this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.hasDefaultIcon&&(this.icon=void 0),this.hasDefaultSvgIcon&&(this.svgIcon=void 0)})}ngOnDestroy(){this.localizationChangesSubscription.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(Z(xe),Z(jn))},s.\u0275cmp=xt({type:s,selectors:[["","kendoBreadCrumbSeparator",""]],hostVars:5,hostBindings:function(e,i){e&2&&(Te("aria-hidden",i.ariaHidden),Yt("k-breadcrumb-delimiter-icon",i.defaultClasses)("k-icon",i.defaultClasses))},inputs:{icon:"icon",svgIcon:"svgIcon"},attrs:RN,decls:1,vars:2,consts:[["size","xsmall",3,"name","svgIcon"]],template:function(e,i){e&1&&et(0,"kendo-icon-wrapper",0),e&2&&V("name",i.icon)("svgIcon",i.svgIcon)},dependencies:[_h],encapsulation:2}),s})(),Vx=(()=>{class s{constructor(e,i){this.el=e,this.zone=i,this.items=[],this.collapseMode="auto",this.itemClick=new ye;let n=this.el.nativeElement;this.isRootItemContainer=n.classList.contains("k-breadcrumb-root-item-container"),this.zone.runOutsideAngular(()=>{let o=Gs(n,"click"),r=Gs(n,"keydown").pipe(bl(a=>a.keyCode===Qo.Enter));this.domEventsSubscription=Jr(o,r).pipe(Gi(a=>a.target),bl(a=>!a.classList.contains("k-breadcrumb-delimiter-icon")),Gi(a=>this.getItemIndex(a)),bl(rs),Gi(a=>parseInt(a,10)),Gi(a=>this.items[a]),bl(a=>!a.data.disabled&&!a.context.isLast),Gi(a=>a.data)).subscribe(a=>{this.zone.run(()=>this.itemClick.emit(a))})})}ngOnDestroy(){this.domEventsSubscription.unsubscribe()}getItemIndex(e){let i=nA(e,qM,this.el.nativeElement);if(i)return iA(i,qM)}}return s.\u0275fac=function(e){return new(e||s)(Z(xe),Z(Ue))},s.\u0275cmp=xt({type:s,selectors:[["","kendoBreadCrumbList",""]],viewQuery:function(e,i){if(e&1&&ti(Ox,5),e&2){let n;ce(n=he())&&(i.renderedItems=n)}},inputs:{items:"items",itemTemplate:"itemTemplate",collapseMode:"collapseMode",separatorIcon:"separatorIcon",separatorSVGIcon:"separatorSVGIcon"},outputs:{itemClick:"itemClick"},attrs:ON,decls:1,vars:1,consts:[["renderedItem",""],[4,"ngFor","ngForOf"],["kendoBreadCrumbItem","",3,"item","index","collapseMode","itemTemplate",4,"ngIf"],["kendoBreadCrumbItem","",3,"item","index","collapseMode","itemTemplate"],["kendoBreadCrumbSeparator","",3,"icon","svgIcon",4,"ngIf"],["kendoBreadCrumbSeparator","",3,"icon","svgIcon"]],template:function(e,i){e&1&&mt(0,NN,2,1,"ng-container",1),e&2&&V("ngForOf",i.items)},dependencies:[Ox,sA,Ho,qe],encapsulation:2}),s})(),Nx=s=>s.item.context.collapsed,$M=s=>Nx(s)===!0,qF=s=>Nx(s)===!1,oA=s=>t=>t.find(e=>Nx(e)===s).item.context.collapsed=!s,YF=oA(!1),XF=oA(!0),$F=(()=>{class s{constructor(e,i,n,o,r){this.localization=e,this.el=i,this.cdr=n,this.zone=o,this.renderer=r,this.itemClick=new ye,this.hostClasses=!0,this.hostAriaLabel="Breadcrumb",this._items=[],this._collapseMode="auto",this._size=YM,this.updateItems=new b9,this.afterViewInit=new Mh,this.subscriptions=new js,this.direction="ltr",Js(Q3);let a=this.updateItems.asObservable().pipe(w9([]));this.direction=e.rtl?"rtl":"ltr",this.itemsData$=a.pipe(Gi(l=>l.filter(Boolean)),Gi(l=>l.map((c,h,d)=>({context:{collapsed:!1,isLast:h===d.length-1,isFirst:h===0},data:c}))),g0()),this.firstItem$=a.pipe(Gi(l=>l.length>0?[{context:{collapsed:!1,isLast:l.length===1,isFirst:!0},data:l[0]}]:[]),g0())}set items(e){this._items=e||[],this.updateItems.next(this._items)}get items(){return this._items}set collapseMode(e){if(hs()&&["auto","wrap","none"].indexOf(e)<0)throw new Error(`Invalid collapse mode. Allowed values are "auto", "wrap" or "none". 
For more details see https://www.telerik.com/kendo-angular-ui/components/navigation/api/BreadCrumbCollapseMode/`);this._collapseMode=e||"auto",this.updateItems.next(this.items)}get collapseMode(){return this._collapseMode}set size(e){let i=e||YM;this.handleClasses(i,"size"),this._size=i}get size(){return this._size}get wrapMode(){return this.collapseMode==="wrap"}get getDir(){return this.direction}ngOnInit(){this.subscriptions.add(this.localization.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr")),this.handleClasses(this.size,"size")}ngAfterViewInit(){this.attachResizeHandler(),this.afterViewInit.next()}ngOnDestroy(){this.subscriptions.unsubscribe()}handleResize(){let e=[...this.listComponent.renderedItems.toArray().filter(r=>!r.item.context.isFirst&&!r.item.context.isLast)],i=Math.floor($3(this.el.nativeElement)),n=Math.round(this.itemsContainers.toArray().map(r=>$3(r.nativeElement)).reduce((r,a)=>r+a,0)),o=Math.ceil(([...e].reverse().find($M)||{width:0}).width);if(i<=n&&e.find(qF))return YF(e),this.cdr.detectChanges(),this.handleResize();if(i>n+o&&e.find($M))return XF([...e].reverse()),this.cdr.detectChanges(),this.handleResize()}shouldResize(){return ae()&&this.collapseMode==="auto"}attachResizeHandler(){this.subscriptions.add(Jr(this.resizeSensor.resize,this.itemsData$,this.afterViewInit.asObservable()).pipe(bl(()=>this.shouldResize())).subscribe(()=>{this.zone.runOutsideAngular(()=>setTimeout(()=>{this.zone.run(()=>{this.listComponent&&(this.handleResize(),this.resizeSensor.acceptSize())})}))}))}handleClasses(e,i){let n=this.el.nativeElement,o=HF(i,this[i],e);o.toRemove&&this.renderer.removeClass(n,o.toRemove),o.toAdd&&this.renderer.addClass(n,o.toAdd)}}return s.\u0275fac=function(e){return new(e||s)(Z(jn),Z(xe),Z(Th),Z(Ue),Z(xi))},s.\u0275cmp=xt({type:s,selectors:[["kendo-breadcrumb"]],contentQueries:function(e,i,n){if(e&1&&Ws(n,eA,5),e&2){let o;ce(o=he())&&(i.itemTemplate=o.first)}},viewQuery:function(e,i){if(e&1&&(ti(FN,7),ti(Vx,7),ti(jN,5,xe)),e&2){let n;ce(n=he())&&(i.resizeSensor=n.first),ce(n=he())&&(i.listComponent=n.first),ce(n=he())&&(i.itemsContainers=n)}},hostVars:6,hostBindings:function(e,i){e&2&&(Te("aria-label",i.hostAriaLabel)("dir",i.getDir),Yt("k-breadcrumb",i.hostClasses)("k-breadcrumb-wrap",i.wrapMode))},inputs:{items:"items",separatorIcon:"separatorIcon",separatorSVGIcon:"separatorSVGIcon",collapseMode:"collapseMode",size:"size"},outputs:{itemClick:"itemClick"},exportAs:["kendoBreadCrumb"],features:[Bo([jn,{provide:Fl,useValue:"kendo.breadcrumb"}])],decls:6,vars:13,consts:[["itemsContainer",""],["resizeSensor",""],["kendoBreadCrumbList","","class","k-breadcrumb-root-item-container",3,"items","itemTemplate","collapseMode","separatorIcon","separatorSVGIcon","itemClick",4,"ngIf"],["kendoBreadCrumbList","",1,"k-breadcrumb-container",3,"itemClick","items","itemTemplate","collapseMode","separatorIcon","separatorSVGIcon","ngClass"],[3,"rateLimit"],["kendoBreadCrumbList","",1,"k-breadcrumb-root-item-container",3,"itemClick","items","itemTemplate","collapseMode","separatorIcon","separatorSVGIcon"]],template:function(e,i){if(e&1){let n=ki();mt(0,GN,3,7,"ol",2),P(1,"ol",3,0),M0(3,"async"),Fe("itemClick",function(r){return Ii(n),zi(i.itemClick.emit(r))}),L(),et(4,"kendo-resize-sensor",4,1)}e&2&&(V("ngIf",i.collapseMode==="wrap"),N(),V("items",A0(3,8,i.itemsData$))("itemTemplate",i.itemTemplate==null?null:i.itemTemplate.templateRef)("collapseMode",i.collapseMode)("separatorIcon",i.separatorIcon)("separatorSVGIcon",i.separatorSVGIcon)("ngClass",S0(10,UN,i.collapseMode==="wrap",i.collapseMode==="none")),N(3),V("rateLimit",1e3))},dependencies:[Vx,Nl,qe,Di,L9],encapsulation:2}),s})(),QF=[eA],ZF=[$F,Ox,Vx,...QF],Xzt=[...ZF,sA],rA=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Ae({type:s}),s.\u0275inj=Me({imports:[[qi,pa,BM]]}),s})(),aA=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(Z(Ei,8))},s.\u0275dir=Wi({type:s,selectors:[["","kendoBottomNavigationItemTemplate",""]]}),s})(),lA=(()=>{class s{get disabledClass(){return this.item.disabled}get label(){return this.item.text?this.item.text:null}get tabindex(){return this.item.tabIndex?this.item.tabIndex:0}get selectedClass(){return this.selectedIdx?this.selectedIdx===this.index:this.item.selected}get itemIcon(){return!!(this.item.icon||this.item.iconClass||this.item.svgIcon)}get iconClasses(){let e=this.item.icon?`k-icon k-i-${this.item.icon}`:"",i=this.item.iconClass?this.item.iconClass:"";return`${e} ${i}`}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=xt({type:s,selectors:[["","kendoBottomNavigationItem",""]],hostVars:8,hostBindings:function(e,i){e&2&&(Te("aria-disabled",i.disabledClass)("aria-label",i.label)("tabindex",i.tabindex)("aria-current",i.selectedClass),Yt("k-disabled",i.disabledClass)("k-selected",i.selectedClass))},inputs:{itemTemplate:"itemTemplate",item:"item",index:"index",disabledComponent:"disabledComponent",selectedIdx:"selectedIdx",orientation:"orientation"},attrs:WN,decls:2,vars:2,consts:[[4,"ngIf"],["innerCssClass","k-bottom-nav-item-icon","size","xlarge",3,"name","customFontClass","svgIcon",4,"ngIf"],["class","k-bottom-nav-item-text",4,"ngIf"],["innerCssClass","k-bottom-nav-item-icon","size","xlarge",3,"name","customFontClass","svgIcon"],[1,"k-bottom-nav-item-text"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){e&1&&mt(0,XN,3,2,"ng-container",0)(1,QN,1,4,null,0),e&2&&(V("ngIf",!i.itemTemplate),N(),V("ngIf",i.itemTemplate))},dependencies:[_h,qe,na],encapsulation:2}),s})(),Bx=class{constructor(t){this.prevented=!1,Object.assign(this,t)}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}},Hx=class extends Bx{},QM="data-kendo-bottomnavigation-index",KF=["primary","secondary","tertiary","info","success","warning","error","dark","light","inverse"],JF=(()=>{class s{constructor(e,i,n,o,r){this.localization=e,this.hostElement=i,this.ngZone=n,this.changeDetector=o,this.renderer=r,this.border=!1,this.disabled=!1,this.select=new ye,this.hostClass=!0,this.role="navigation",this._fill="flat",this._itemFlow="vertical",this._positionMode="fixed",this._themeColor="primary",this._nativeHostElement=this.hostElement.nativeElement,this.subscriptions=new js,this.rtl=!1,Js(Q3),this.dynamicRTLSubscription=this.localization.changes.subscribe(({rtl:a})=>{this.rtl=a,this.direction=this.rtl?"rtl":"ltr"})}set fill(e){this.renderer.removeClass(this._nativeHostElement,`k-bottom-nav-${this.fill}`),this.renderer.removeClass(this._nativeHostElement,`k-bottom-nav-${this.fill}-${this.themeColor}`),this._fill=e==="solid"?"solid":"flat",this.renderer.addClass(this._nativeHostElement,`k-bottom-nav-${this._fill}`),this.renderer.addClass(this._nativeHostElement,`k-bottom-nav-${this._fill}-${this.themeColor}`)}get fill(){return this._fill}set itemFlow(e){this.renderer.removeClass(this._nativeHostElement,`k-bottom-nav-item-flow-${this.itemFlow}`),this._itemFlow=e==="horizontal"?"horizontal":"vertical",this.renderer.addClass(this._nativeHostElement,`k-bottom-nav-item-flow-${this._itemFlow}`)}get itemFlow(){return this._itemFlow}set positionMode(e){this.renderer.removeClass(this._nativeHostElement,`k-pos-${this.positionMode}`),this._positionMode=e==="sticky"?"sticky":"fixed",this.renderer.addClass(this._nativeHostElement,`k-pos-${this._positionMode}`)}get positionMode(){return this._positionMode}set themeColor(e){KF.find(n=>n===e)&&(this.renderer.removeClass(this._nativeHostElement,`k-bottom-nav-${this.fill}-${this._themeColor}`),this._themeColor=e,this.renderer.addClass(this._nativeHostElement,`k-bottom-nav-${this.fill}-${this._themeColor}`))}get themeColor(){return this._themeColor}get borderClass(){return this.border}get disabledClass(){return this.disabled}ngOnInit(){this.initDomEvents()}ngAfterViewInit(){this.applyClasses()}ngOnDestroy(){this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe(),this.subscriptions.unsubscribe()}selectItem(e,i){let n=new Hx(ls({},i));this.select.emit(n),n.isDefaultPrevented()||(this.selectedIdx=e)}applyClasses(){this.renderer.addClass(this._nativeHostElement,`k-bottom-nav-${this.fill}`),this.renderer.addClass(this._nativeHostElement,`k-bottom-nav-item-flow-${this.itemFlow}`),this.renderer.addClass(this._nativeHostElement,`k-pos-${this.positionMode}`),this.renderer.addClass(this._nativeHostElement,`k-bottom-nav-${this.fill}-${this.themeColor}`)}initDomEvents(){this.hostElement&&this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(this._nativeHostElement,"click",this.clickHandler.bind(this))),this.subscriptions.add(this.renderer.listen(this._nativeHostElement,"keydown",this.keyDownHandler.bind(this)))})}clickHandler(e){let i=this.getBottomNavigationItemIndex(e.target),n=this.items[i];if(!n)return;if(n.disabled){e.preventDefault();return}let o={index:i,item:n,originalEvent:e,sender:this};this.ngZone.run(()=>{this.selectItem(i,o),this.changeDetector.markForCheck()})}keyDownHandler(e){(e.keyCode===Qo.Enter||e.keyCode===Qo.Space)&&this.clickHandler(e)}getBottomNavigationItemIndex(e){let i=nA(e,QM,this._nativeHostElement);if(i)return iA(i,QM)}}return s.\u0275fac=function(e){return new(e||s)(Z(jn),Z(xe),Z(Ue),Z(Th),Z(xi))},s.\u0275cmp=xt({type:s,selectors:[["kendo-bottomnavigation"]],contentQueries:function(e,i,n){if(e&1&&Ws(n,aA,5),e&2){let o;ce(o=he())&&(i.itemTemplate=o.first)}},hostVars:8,hostBindings:function(e,i){e&2&&(Te("role",i.role)("dir",i.direction),Yt("k-bottom-nav",i.hostClass)("k-bottom-nav-border",i.borderClass)("k-disabled",i.disabledClass))},inputs:{items:"items",border:"border",disabled:"disabled",fill:"fill",itemFlow:"itemFlow",positionMode:"positionMode",themeColor:"themeColor"},outputs:{select:"select"},exportAs:["kendoBottomNavigation"],features:[Bo([jn,{provide:Fl,useValue:"kendo.bottomnavigation"}])],decls:1,vars:1,consts:[[4,"ngIf"],["kendoBottomNavigationItem","","role","link","class","k-bottom-nav-item",3,"disabledComponent","item","index","selectedIdx","itemTemplate","ngClass","ngStyle","orientation",4,"ngFor","ngForOf"],["kendoBottomNavigationItem","","role","link",1,"k-bottom-nav-item",3,"disabledComponent","item","index","selectedIdx","itemTemplate","ngClass","ngStyle","orientation"]],template:function(e,i){e&1&&mt(0,KN,2,1,"ng-container",0),e&2&&V("ngIf",i.items)},dependencies:[lA,qe,Ho,Di,T0],encapsulation:2}),s})(),tj=[aA],ej=[JF,...tj],$zt=[lA,...ej];var cA=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(Z(Ei,8))},s.\u0275dir=Wi({type:s,selectors:[["","kendoActionSheetHeaderTemplate",""]]}),s})(),hA=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(Z(Ei,8))},s.\u0275dir=Wi({type:s,selectors:[["","kendoActionSheetItemTemplate",""]]}),s})(),dA=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(Z(Ei,8))},s.\u0275dir=Wi({type:s,selectors:[["","kendoActionSheetContentTemplate",""]]}),s})(),pA=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(Z(Ei,8))},s.\u0275dir=Wi({type:s,selectors:[["","kendoActionSheetFooterTemplate",""]]}),s})(),uA=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(Z(Ei,8))},s.\u0275dir=Wi({type:s,selectors:[["","kendoActionSheetTemplate",""]]}),s})();function ij(s,t){return[Hn({overflow:"hidden",display:"block",height:0}),Ih(`${s}ms ease-in`,Hn({height:`${t}`}))]}function nj(s,t){return[Hn({overflow:"hidden",height:`${t}`}),Ih(`${s}ms ease-in`,Hn({overflow:"hidden",height:0}))]}var mA=(()=>{class s{constructor(){this.pointerClass=!0}manageIconClasses(e){let i=["k-actionsheet-item-icon"],n=rs(e.iconColor)&&WM.test(e.iconColor);return rs(e.iconColor)&&e.iconColor!==""&&!n&&i.push(`k-text-${e.iconColor}`),i.join(" ")}manageIconStyles(e){let i=rs(e.iconColor)&&WM.test(e.iconColor),n=rs(e.iconSize)&&e.iconSize!=="",o={};return i&&(o.color=e.iconColor),n&&(o.fontSize=e.iconSize),o}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=xt({type:s,selectors:[["","kendoActionSheetItem",""]],hostVars:2,hostBindings:function(e,i){e&2&&Yt("k-cursor-pointer",i.pointerClass)},inputs:{itemTemplate:"itemTemplate",item:"item"},attrs:JN,decls:3,vars:2,consts:[["defaultTemplate",""],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-actionsheet-action"],["class","k-icon-wrap",4,"ngIf"],["class","k-actionsheet-item-text",4,"ngIf"],[1,"k-icon-wrap"],[3,"name","customFontClass","svgIcon"],[1,"k-actionsheet-item-text"],["class","k-actionsheet-item-title",4,"ngIf"],["class","k-actionsheet-item-description",4,"ngIf"],[1,"k-actionsheet-item-title"],[1,"k-actionsheet-item-description"]],template:function(e,i){if(e&1&&mt(0,eF,1,4,null,1)(1,rF,3,2,"ng-template",null,0,un),e&2){let n=pn(2);V("ngIf",i.itemTemplate)("ngIfElse",n)}},dependencies:[_h,qe,na],encapsulation:2}),s})(),fA=(()=>{class s{constructor(e,i,n){this.renderer=e,this.ngZone=i,this.element=n,this.groupItems=[],this.allItems=[],this.itemClick=new ye,this.subscriptions=new js}ngAfterViewInit(){this.initDomEvents()}ngOnDestroy(){this.subscriptions.unsubscribe()}initDomEvents(){this.element&&this.ngZone.runOutsideAngular(()=>{let e=this.element.nativeElement;this.subscriptions.add(this.renderer.listen(e,"click",this.clickHandler.bind(this)))})}clickHandler(e){let i=tA(e.target,JM,this.element.nativeElement),n=this.allItems[i];if(n){if(n.disabled){e.preventDefault();return}this.ngZone.run(()=>{this.itemClick.emit({item:n,originalEvent:e})})}}setAttrIndex(e){return this.allItems.indexOf(e)}}return s.\u0275fac=function(e){return new(e||s)(Z(xi),Z(Ue),Z(xe))},s.\u0275cmp=xt({type:s,selectors:[["","kendoActionSheetList",""]],inputs:{groupItems:"groupItems",allItems:"allItems",itemTemplate:"itemTemplate"},outputs:{itemClick:"itemClick"},attrs:aF,decls:1,vars:1,consts:[["kendoActionSheetItem","","tabindex","0","role","button",3,"k-actionsheet-item","k-disabled","ngClass","ngStyle","itemTemplate","item",4,"ngFor","ngForOf"],["kendoActionSheetItem","","tabindex","0","role","button",3,"ngClass","ngStyle","itemTemplate","item"]],template:function(e,i){e&1&&mt(0,lF,1,10,"span",0),e&2&&V("ngForOf",i.groupItems)},dependencies:[mA,Ho,Di,T0],encapsulation:2}),s})(),sj={duration:300},oj=(()=>{class s{constructor(e,i,n,o,r,a){this.element=e,this.ngZone=i,this.renderer=n,this.localizationService=o,this.builder=r,this.cdr=a,this.animation=!0,this.expanded=!1,this.titleId=PF("k-actionsheet-title"),this.expandedChange=new ye,this.expand=new ye,this.collapse=new ye,this.itemClick=new ye,this.overlayClick=new ye,this.rtl=!1,this.domSubs=new js,this.animationEnd=new ye,Js(Q3),this.dynamicRTLSubscription=this.localizationService.changes.subscribe(({rtl:l})=>{this.rtl=l,this.direction=this.rtl?"rtl":"ltr"})}get hostClass(){return this.expanded}ngAfterViewInit(){this.initDomEvents(),this.setCssVariables()}ngOnChanges(e){e.expanded&&this.expanded&&this.setExpanded(!0)}ngOnDestroy(){this.domSubs.unsubscribe(),this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe(),this.player&&this.player.destroy()}toggle(e){let i=this.expanded,n=K4(e)?e:!i;n!==i&&(n===!0?this.setExpanded(!0):n===!1&&!this.animation&&this.setExpanded(!1),this.animation?(this.animationEnd.pipe(_9(1)).subscribe(()=>{this.onAnimationEnd(n)}),this.playAnimation(n)):this[n?"expand":"collapse"].emit())}get topGroupItems(){return this.items?.filter(e=>!e.group||e.group==="top")}get bottomGroupItems(){return this.items?.filter(e=>e.group==="bottom")}onItemClick(e){this.itemClick.emit(e)}onOverlayClick(){this.overlayClick.emit()}get shouldRenderSeparator(){return this.topGroupItems?.length>0&&this.bottomGroupItems?.length>0}initDomEvents(){this.element&&this.ngZone.runOutsideAngular(()=>{this.domSubs.add(this.renderer.listen(this.element.nativeElement,"keydown",e=>{this.onKeyDown(e)}))})}setCssVariables(){!this.element||!ae()||(this.element.nativeElement.style.setProperty("--kendo-actionsheet-height","auto"),this.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}onKeyDown(e){let i=e.target;e.keyCode===Qo.Tab&&this.ngZone.run(()=>{this.keepFocusWithinComponent(i,e)}),e.keyCode===Qo.Escape&&this.ngZone.run(()=>{this.overlayClick.emit()}),e.keyCode===Qo.Enter&&this.ngZone.run(()=>{this.triggerItemClick(i,e)})}handleInitialFocus(){let[e]=GM(this.element.nativeElement);e&&e.focus()}keepFocusWithinComponent(e,i){let n=this.element.nativeElement,[o,r]=GM(n),a=!i.shiftKey&&e===r,l=i.shiftKey&&e===o;a&&(i.preventDefault(),o.focus()),l&&(i.preventDefault(),r.focus())}triggerItemClick(e,i){let n=tA(e,JM,this.element.nativeElement),o=K4(n)?this.items[n]:null;!o||o.disabled||this.itemClick.emit({item:o,originalEvent:i})}setExpanded(e){this.expanded=e,this.expandedChange.emit(e),this.expanded&&(this.cdr.detectChanges(),this.handleInitialFocus())}onAnimationEnd(e){e?this.expand.emit():(this.setExpanded(!1),this.collapse.emit())}playAnimation(e){let i=typeof this.animation!="boolean"&&this.animation.duration?this.animation.duration:sj.duration,n=getComputedStyle(this.childContainer.nativeElement).height,o=e?ij(i,n):nj(i,n),r=this.builder.build(o);this.player=r.create(this.childContainer.nativeElement),this.player.onDone(()=>{this.player&&(this.animationEnd.emit(),this.player.destroy(),this.player=null)}),this.player.play()}}return s.\u0275fac=function(e){return new(e||s)(Z(xe),Z(Ue),Z(xi),Z(jn),Z(jd),Z(Th))},s.\u0275cmp=xt({type:s,selectors:[["kendo-actionsheet"]],contentQueries:function(e,i,n){if(e&1&&(Ws(n,uA,5),Ws(n,cA,5),Ws(n,dA,5),Ws(n,hA,5),Ws(n,pA,5)),e&2){let o;ce(o=he())&&(i.actionSheetTemplate=o.first),ce(o=he())&&(i.headerTemplate=o.first),ce(o=he())&&(i.contentTemplate=o.first),ce(o=he())&&(i.itemTemplate=o.first),ce(o=he())&&(i.footerTemplate=o.first)}},viewQuery:function(e,i){if(e&1&&ti(cF,5),e&2){let n;ce(n=he())&&(i.childContainer=n.first)}},hostVars:3,hostBindings:function(e,i){e&2&&(Te("dir",i.direction),Yt("k-actionsheet-container",i.hostClass))},inputs:{title:"title",subtitle:"subtitle",items:"items",cssClass:"cssClass",animation:"animation",expanded:"expanded",titleId:"titleId"},outputs:{expandedChange:"expandedChange",expand:"expand",collapse:"collapse",itemClick:"itemClick",overlayClick:"overlayClick"},exportAs:["kendoActionSheet"],features:[Bo([jn,{provide:Fl,useValue:"kendo.actionsheet.component"}]),ea],decls:1,vars:1,consts:[["childContainer",""],["defaultTemplate",""],["defaultHeaderTemplate",""],["defaultContentTemplate",""],[4,"ngIf"],[1,"k-overlay",3,"click"],[1,"k-animation-container"],[1,"k-child-animation-container"],["role","dialog","aria-modal","true",1,"k-actionsheet","k-actionsheet-bottom",3,"ngClass"],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet"],["class","k-actionsheet-titlebar",4,"ngIf"],["class","k-actionsheet-content",4,"ngIf"],["class","k-actionsheet-footer",4,"ngIf"],[1,"k-actionsheet-titlebar"],[1,"k-actionsheet-titlebar-group","k-hbox"],[1,"k-actionsheet-title",3,"id"],["class","k-text-center",4,"ngIf"],["class","k-actionsheet-subtitle k-text-center",4,"ngIf"],[1,"k-text-center"],[1,"k-actionsheet-subtitle","k-text-center"],[1,"k-actionsheet-content"],["kendoActionSheetList","","class","k-list-ul","role","group",3,"groupItems","allItems","itemTemplate","itemClick",4,"ngIf"],["class","k-hr",4,"ngIf"],["kendoActionSheetList","","role","group",1,"k-list-ul",3,"itemClick","groupItems","allItems","itemTemplate"],[1,"k-hr"],[1,"k-actionsheet-footer"]],template:function(e,i){e&1&&mt(0,IF,9,6,"ng-container",4),e&2&&V("ngIf",i.expanded)},dependencies:[fA,qe,Di,na],encapsulation:2}),s})(),rj=[cA,hA,dA,pA,uA],aj=[oj,...rj],Qzt=[mA,fA,...aj];var lj=s=>({x:{location:s.pageX},y:{location:s.pageY}}),cj=(s,t)=>{let e=s.pointers,i=e[0],n=i.pageX,o=i.pageY,r=0;if(e.length>1){let a=e[0],l=e[1];r=Math.sqrt(Math.pow(a.pageX-l.pageX,2)+Math.pow(a.pageY-l.pageY,2))}return{distance:r,event:s.srcEvent,preventDefault:function(){s.preventDefault()},target:s.target,touches:e.map(lj),type:s.type,x:{delta:t?n-t.x.location:0,initialDelta:s.deltaX,location:n,startLocation:n-s.deltaX},y:{delta:t?o-t.y.location:0,initialDelta:s.deltaY,location:o,startLocation:o-s.deltaY}}};function hj(s,t){for(let e=0;e<s.length;e++)if(t[s[e]])return!0;return!1}var gA=[{end:"panend",move:"panmove",start:"panstart"},{gesturechange:"pinchmove",gestureend:"pinchend",gesturestart:"pinchstart"},{press:"press"},{tap:"tap"}],Fx=class{constructor(t,e){this.hammerInstance=t,this.eventHandlers={},this.tap=this.tap.bind(this),this.press=this.press.bind(this),this.panstart=this.panstart.bind(this),this.panmove=this.panmove.bind(this),this.panend=this.panend.bind(this),this.pinchstart=this.pinchstart.bind(this),this.pinchmove=this.pinchmove.bind(this),this.pinchend=this.pinchend.bind(this),e&&this.bind(e)}tap(t){this.trigger("tap",t)}press(t){this.trigger("press",t)}panstart(t){delete this.previous,this.previous=this.trigger("start",t)}panmove(t){this.previous=this.trigger("move",t)}panend(t){this.trigger("end",t),delete this.previous}pinchstart(t){this.trigger("gesturestart",t)}pinchmove(t){this.trigger("gesturechange",t)}pinchend(t){this.trigger("gestureend",t)}trigger(t,e){let i=cj(e,this.previous);return this.eventHandlers[t]&&this.eventHandlers[t](i),i}bind(t={}){this.unbind(),this.eventHandlers=t;for(let e=0;e<gA.length;e++){let i=gA[e],n=Object.keys(i);if(hj(n,t))for(let o=0;o<n.length;o++){let r=i[n[o]];this.hammerInstance.on(r,this[r])}}}unbind(){this.hammerInstance&&this.hammerInstance.off(),this.eventHandlers={}}destroy(){this.hammerInstance&&(this.hammerInstance.destroy(),delete this.hammerInstance),delete this.eventHandlers}toggleDrag(t){this.toggle("pan",t)}toggleZoom(t){this.toggle("pinch",t)}toggle(t,e){this.hammerInstance&&this.hammerInstance.get(t).set({enable:e})}},dj="Hammerjs is not loaded.Solution: https://www.telerik.com/kendo-angular-ui/components/knowledge-base/chart-hammerjs-error",jx=class{static create(t,e){if(typeof window<"u"){let i=window.Hammer;if(!i){if(hs())throw new Error(dj);return}let n=new i(t,{recognizers:[[i.Tap],[i.Pan],[i.Pinch],[i.Press,{time:0}]]});return new Fx(n,e)}}},pj=$n.prototype.options.labels.dateFormats,uj=$2.prototype.options.labels.dateFormats,xA={milliseconds:"HH:mm:ss.SSS",seconds:{time:"medium"},minutes:{time:"short"},hours:{time:"short"},days:{skeleton:"Md"},weeks:{skeleton:"Md"},months:{skeleton:"yyMMM"},years:{skeleton:"y"}};Object.assign(pj,xA);Object.assign(uj,xA);Ea.register(jx);var mj=1e3/60;var fj=(()=>{class s{constructor(e){this.ngZone=e,this.store={},this.source=new Us({}),this.initSource()}initSource(){this.onFastChange$=this.source.asObservable(),this.onChange$=this.onFastChange$.pipe(ta(mj))}push(e){this.store=e,this.next()}notify(e){this.set(e.key,e.value),this.next()}set(e,i){let n=this.store,o=e.split("."),r=o.shift();for(;o.length>0;)n=n[r]=n[r]||{},r=o.shift();n[r]=i}next(){this.ngZone.runOutsideAngular(()=>{this.source.next(this.store)})}}return s.\u0275fac=function(e){return new(e||s)(Bt(Ue))},s.\u0275prov=qt({token:s,factory:s.\u0275fac}),s})();var gj=()=>Object.assign({},N3(),{axisDefaults:{crosshair:{color:"rgba(0, 0, 0, 0.5)"},labels:{color:"rgb(101, 101, 101)",font:"12px serif"},line:{color:"rgba(0, 0, 0, 0.08)"},majorGridLines:{color:"rgba(0, 0, 0, 0.08)"},minorGridLines:{color:"rgba(0, 0, 0, 0.04)"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},title:{color:"rgb(101, 101, 101)",font:"14px serif"}},chartArea:{background:"rgb(255, 255, 255)"},legend:{inactiveItems:{labels:{color:"rgba(102, 102, 102, 0.5)"},markers:{color:"rgba(102, 102, 102, 0.5)"}},labels:{color:"rgb(101, 101, 101)",font:"14px serif"}},seriesDefaults:{boxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},bullet:{target:{color:"rgb(101, 101, 101)"}},candlestick:{downColor:"rgb(101, 101, 101)",line:{color:"rgb(101, 101, 101)"}},errorBars:{color:"rgba(0, 0, 0, 0.5)"},horizontalWaterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},icon:{border:{color:"rgba(0, 0, 0, 0.08)"}},labels:{background:"rgb(255, 255, 255)",color:"rgb(101, 101, 101)",opacity:.8,font:"12px serif"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},overlay:{gradient:"none"},verticalBoxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},verticalBullet:{target:{color:"rgb(101, 101, 101)"}},waterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},area:{opacity:.8}},title:{color:"rgb(101, 101, 101)",font:"16px serif"},seriesColors:["rgb(255, 99, 88)","rgb(255, 210, 70)","rgb(120, 210, 55)","rgb(40, 180, 200)","rgb(45, 115, 245)","rgb(170, 70, 190)"]}),Z3=s=>`${s.fontWeight} ${s.fontSize} ${s.fontFamily}`,vA=s=>window.getComputedStyle(s).backgroundColor,vj=s=>s.toLowerCase().charCodeAt(0)-97,xj=s=>{let t=s.match(/series-([a-z])$/);if(t!==null)return vj(t[1]);let e=s.split("--series-")[1];return parseInt(e,10)-1},yj=30,bj=()=>{let s=`
      <div class="k-var--series-a"></div>
      <div class="k-var--series-b"></div>
      <div class="k-var--series-c"></div>
      <div class="k-var--series-d"></div>
      <div class="k-var--series-e"></div>
      <div class="k-var--series-f"></div>
  `;for(let t=0;t<yj;t++)s+=`
      <div class="k-var--series-${t+1}"></div>`;return s},_j=()=>`
    <div class="k-var--primary"></div>
    <div class="k-var--primary-contrast"></div>
    <div class="k-var--base"></div>
    <div class="k-var--background"></div>

    <div class="k-var--normal-background"></div>
    <div class="k-var--normal-text-color"></div>
    <div class="k-var--hover-background"></div>
    <div class="k-var--hover-text-color"></div>
    <div class="k-var--selected-background"></div>
    <div class="k-var--selected-text-color"></div>
    <div class="k-var--chart-error-bars-background"></div>
    <div class="k-var--chart-notes-background"></div>
    <div class="k-var--chart-notes-border"></div>
    <div class="k-var--chart-notes-lines"></div>
    <div class="k-var--chart-crosshair-background"></div>

    <div class="k-var--chart-inactive"></div>
    <div class="k-var--chart-major-lines"></div>
    <div class="k-var--chart-minor-lines"></div>
    <div class="k-var--chart-area-opacity"></div>
    <div class="k-var--chart-area-inactive-opacity"></div>
    <div class="k-var--chart-line-inactive-opacity"></div>

    <div class="k-widget k-chart">
        <div class="k-var--chart-font"></div>
        <div class="k-var--chart-title-font"></div>
        <div class="k-var--chart-pane-title-font"></div>
        <div class="k-var--chart-label-font"></div>
    </div>

    <div class="k-var--series-unset"></div>
    <div class="k-var--series">
      ${bj()}
    </div>
`,wj=(()=>{class s extends fj{constructor(e){super(e),this.loaded=!1}loadTheme(){this.loaded||!ae()||(this.readTheme()||this.readDefaultTheme(),this.loaded=!0,this.next())}reset(){this.store={},this.loaded=!1,this.loadTheme()}readTheme(){this.createElement();let e=this.queryColor("primary")!==this.queryColor("primary-contrast");try{e&&(this.push(N3()),this.setColors(),this.setFonts(),this.setSeriesColors())}finally{this.destroyElement()}return e}readDefaultTheme(){this.push(gj())}createElement(){let e=this.element=document.createElement("div");e.style.display="none",e.innerHTML=_j(),document.body.appendChild(e)}destroyElement(){this.element&&(document.body.removeChild(this.element),this.element=void 0)}setStyle(e,i){this.set(e,i)}setColors(){this.mapColor("axisDefaults.crosshair.color","chart-crosshair-background"),this.mapColor("axisDefaults.labels.color","normal-text-color"),this.mapColor("axisDefaults.line.color","chart-major-lines"),this.mapColor("axisDefaults.majorGridLines.color","chart-major-lines"),this.mapColor("axisDefaults.minorGridLines.color","chart-minor-lines"),this.mapColor("axisDefaults.notes.icon.background","chart-notes-background"),this.mapColor("axisDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("axisDefaults.notes.line.color","chart-notes-lines"),this.mapColor("axisDefaults.title.color","normal-text-color"),this.mapColor("chartArea.background","background"),this.mapColor("legend.inactiveItems.labels.color","chart-inactive"),this.mapColor("legend.inactiveItems.markers.color","chart-inactive"),this.mapColor("legend.labels.color","normal-text-color"),this.mapColor("legend.title.color","normal-text-color"),this.mapColor("seriesDefaults.boxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.boxPlot.mean.color","base"),this.mapColor("seriesDefaults.boxPlot.median.color","base"),this.mapColor("seriesDefaults.boxPlot.whiskers.color","primary"),this.mapColor("seriesDefaults.bullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.candlestick.downColor","normal-text-color"),this.mapColor("seriesDefaults.candlestick.line.color","normal-text-color"),this.mapColor("seriesDefaults.errorBars.color","chart-error-bars-background"),this.mapColor("seriesDefaults.horizontalWaterfall.line.color","chart-major-lines"),this.mapColor("seriesDefaults.icon.border.color","chart-major-lines"),this.mapColor("seriesDefaults.labels.background","background"),this.mapColor("seriesDefaults.labels.color","normal-text-color"),this.mapColor("seriesDefaults.notes.icon.background","chart-notes-background"),this.mapColor("seriesDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("seriesDefaults.notes.line.color","chart-notes-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.mean.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.median.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.whiskers.color","primary"),this.mapColor("seriesDefaults.verticalBullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.waterfall.line.color","chart-major-lines"),this.mapColor("title.color","normal-text-color"),this.mapColor("subtitle.color","normal-text-color");let e=parseFloat(this.queryStyle("chart-area-opacity").opacity);isNaN(e)||(this.setStyle("seriesDefaults.area.opacity",e),this.setStyle("seriesDefaults.radarArea.opacity",e),this.setStyle("seriesDefaults.verticalArea.opacity",e),this.setStyle("seriesDefaults.labels.opacity",e)),this.setInactiveOpacity(["area","verticalArea"],"chart-area-inactive-opacity"),this.setInactiveOpacity(["line","verticalLine"],"chart-line-inactive-opacity")}setInactiveOpacity(e,i){let n=parseFloat(this.queryStyle(i).opacity);!isNaN(n)&&n<1&&e.forEach(o=>this.setStyle(`seriesDefaults.${o}.highlight.inactiveOpacity`,n))}setFonts(){let e=Z3(this.queryStyle("chart-font")),i=Z3(this.queryStyle("chart-title-font")),n=Z3(this.queryStyle("chart-pane-title-font")),o=Z3(this.queryStyle("chart-label-font"));this.setStyle("axisDefaults.labels.font",o),this.setStyle("axisDefaults.notes.label.font",e),this.setStyle("axisDefaults.title.font",e),this.setStyle("legend.labels.font",e),this.setStyle("seriesDefaults.labels.font",o),this.setStyle("seriesDefaults.notes.label.font",e),this.setStyle("title.font",i),this.setStyle("subtitle.font",n),this.setStyle("paneDefaults.title.font",n)}setSeriesColors(){let e=this.element,i=[].slice.call(e.querySelectorAll(".k-var--series div")),n=vA(e.querySelector(".k-var--series-unset")),o=i.reduce((r,a)=>{let l=xj(a.className),c=vA(a);return c!==n&&(r[l]=c),r},[]);this.setStyle("seriesColors",o)}mapColor(e,i){this.setStyle(e,this.queryColor(i))}queryColor(e){return this.queryStyle(e).backgroundColor}queryStyle(e){let i=this.element.querySelector(`.k-var--${e}`);return window.getComputedStyle(i)}}return s.\u0275fac=function(e){return new(e||s)(Bt(Ue))},s.\u0275prov=qt({token:s,factory:s.\u0275fac}),s})();var TEt=new cs("configuration prefix");var K3=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Ae({type:s}),s.\u0275inj=Me({providers:[wj],imports:[[qi,rA,Rx,pa,J4]]}),s})();var yA=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Ae({type:s}),s.\u0275inj=Me({imports:[[K3,qi,Rx,pa,J4],K3]}),s})();function bA(s){return new Ot(3e3,!1)}function Cj(){return new Ot(3100,!1)}function Sj(){return new Ot(3101,!1)}function Mj(s){return new Ot(3001,!1)}function Aj(s){return new Ot(3003,!1)}function Tj(s){return new Ot(3004,!1)}function Ij(s,t){return new Ot(3005,!1)}function zj(){return new Ot(3006,!1)}function Ej(){return new Ot(3007,!1)}function kj(s,t){return new Ot(3008,!1)}function Dj(s){return new Ot(3002,!1)}function Pj(s,t,e,i,n){return new Ot(3010,!1)}function Lj(){return new Ot(3011,!1)}function Rj(){return new Ot(3012,!1)}function Oj(){return new Ot(3200,!1)}function Vj(){return new Ot(3202,!1)}function Bj(){return new Ot(3013,!1)}function Hj(s){return new Ot(3014,!1)}function Nj(s){return new Ot(3015,!1)}function Fj(s){return new Ot(3016,!1)}function jj(s,t){return new Ot(3404,!1)}function Uj(s){return new Ot(3502,!1)}function Gj(s){return new Ot(3503,!1)}function Wj(){return new Ot(3300,!1)}function qj(s){return new Ot(3504,!1)}function Yj(s){return new Ot(3301,!1)}function Xj(s,t){return new Ot(3302,!1)}function $j(s){return new Ot(3303,!1)}function Qj(s,t){return new Ot(3400,!1)}function Zj(s){return new Ot(3401,!1)}function Kj(s){return new Ot(3402,!1)}function Jj(s,t){return new Ot(3505,!1)}function Zr(s){switch(s.length){case 0:return new Ml;case 1:return s[0];default:return new z0(s)}}function LA(s,t,e=new Map,i=new Map){let n=[],o=[],r=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),h=c==r,d=h&&a||new Map;l.forEach((p,u)=>{let m=u,f=p;if(u!=="offset")switch(m=s.normalizePropertyName(m,n),f){case Ud:f=e.get(u);break;case ds:f=i.get(u);break;default:f=s.normalizeStyleValue(u,m,f,n);break}d.set(m,f)}),h||o.push(d),a=d,r=c}),n.length)throw Uj(n);return o}function d9(s,t,e,i){switch(t){case"start":s.onStart(()=>i(e&&Ux(e,"start",s)));break;case"done":s.onDone(()=>i(e&&Ux(e,"done",s)));break;case"destroy":s.onDestroy(()=>i(e&&Ux(e,"destroy",s)));break}}function Ux(s,t,e){let i=e.totalTime,n=!!e.disabled,o=p9(s.element,s.triggerName,s.fromState,s.toState,t||s.phaseName,i??s.totalTime,n),r=s._data;return r!=null&&(o._data=r),o}function p9(s,t,e,i,n="",o=0,r){return{element:s,triggerName:t,fromState:e,toState:i,phaseName:n,totalTime:o,disabled:!!r}}function hn(s,t,e){let i=s.get(t);return i||s.set(t,i=e),i}function _A(s){let t=s.indexOf(":"),e=s.substring(1,t),i=s.slice(t+1);return[e,i]}var tU=typeof document>"u"?null:document.documentElement;function u9(s){let t=s.parentNode||s.host||null;return t===tU?null:t}function eU(s){return s.substring(1,6)=="ebkit"}var ml=null,wA=!1;function iU(s){ml||(ml=nU()||{},wA=ml.style?"WebkitAppearance"in ml.style:!1);let t=!0;return ml.style&&!eU(s)&&(t=s in ml.style,!t&&wA&&(t="Webkit"+s.charAt(0).toUpperCase()+s.slice(1)in ml.style)),t}function nU(){return typeof document<"u"?document.body:null}function RA(s,t){for(;t;){if(t===s)return!0;t=u9(t)}return!1}function OA(s,t,e){if(e)return Array.from(s.querySelectorAll(t));let i=s.querySelector(t);return i?[i]:[]}var m9=(()=>{let t=class t{validateStyleProperty(i){return iU(i)}matchesElement(i,n){return!1}containsElement(i,n){return RA(i,n)}getParentElement(i){return u9(i)}query(i,n,o){return OA(i,n,o)}computeStyle(i,n,o){return o||""}animate(i,n,o,r,a,l=[],c){return new Ml(o,r)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=qt({token:t,factory:t.\u0275fac});let s=t;return s})(),x9=class x9{};x9.NOOP=new m9;var vl=x9,xl=class{};var sU=1e3,VA="{{",oU="}}",BA="ng-enter",$x="ng-leave",J3="ng-trigger",s0=".ng-trigger",CA="ng-animating",Qx=".ng-animating";function Oo(s){if(typeof s=="number")return s;let t=s.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Zx(parseFloat(t[1]),t[2])}function Zx(s,t){switch(t){case"s":return s*sU;default:return s}}function o0(s,t,e){return s.hasOwnProperty("duration")?s:rU(s,t,e)}function rU(s,t,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,n,o=0,r="";if(typeof s=="string"){let a=s.match(i);if(a===null)return t.push(bA(s)),{duration:0,delay:0,easing:""};n=Zx(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=Zx(parseFloat(l),a[4]));let c=a[5];c&&(r=c)}else n=s;if(!e){let a=!1,l=t.length;n<0&&(t.push(Cj()),a=!0),o<0&&(t.push(Sj()),a=!0),a&&t.splice(l,0,bA(s))}return{duration:n,delay:o,easing:r}}function aU(s){return s.length?s[0]instanceof Map?s:s.map(t=>new Map(Object.entries(t))):[]}function Ns(s,t,e){t.forEach((i,n)=>{let o=f9(n);e&&!e.has(n)&&e.set(n,s.style[o]),s.style[o]=i})}function gl(s,t){t.forEach((e,i)=>{let n=f9(i);s.style[n]=""})}function Ad(s){return Array.isArray(s)?s.length==1?s[0]:N9(s):s}function lU(s,t,e){let i=t.params||{},n=HA(s);n.length&&n.forEach(o=>{i.hasOwnProperty(o)||e.push(Mj(o))})}var Kx=new RegExp(`${VA}\\s*(.+?)\\s*${oU}`,"g");function HA(s){let t=[];if(typeof s=="string"){let e;for(;e=Kx.exec(s);)t.push(e[1]);Kx.lastIndex=0}return t}function Id(s,t,e){let i=`${s}`,n=i.replace(Kx,(o,r)=>{let a=t[r];return a==null&&(e.push(Aj(r)),a=""),a.toString()});return n==i?s:n}var cU=/-+([a-z0-9])/g;function f9(s){return s.replace(cU,(...t)=>t[1].toUpperCase())}function hU(s,t){return s===0||t===0}function dU(s,t,e){if(e.size&&t.length){let i=t[0],n=[];if(e.forEach((o,r)=>{i.has(r)||n.push(r),i.set(r,o)}),n.length)for(let o=1;o<t.length;o++){let r=t[o];n.forEach(a=>r.set(a,g9(s,a)))}}return t}function cn(s,t,e){switch(t.type){case Et.Trigger:return s.visitTrigger(t,e);case Et.State:return s.visitState(t,e);case Et.Transition:return s.visitTransition(t,e);case Et.Sequence:return s.visitSequence(t,e);case Et.Group:return s.visitGroup(t,e);case Et.Animate:return s.visitAnimate(t,e);case Et.Keyframes:return s.visitKeyframes(t,e);case Et.Style:return s.visitStyle(t,e);case Et.Reference:return s.visitReference(t,e);case Et.AnimateChild:return s.visitAnimateChild(t,e);case Et.AnimateRef:return s.visitAnimateRef(t,e);case Et.Query:return s.visitQuery(t,e);case Et.Stagger:return s.visitStagger(t,e);default:throw Tj(t.type)}}function g9(s,t){return window.getComputedStyle(s)[t]}var pU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),r0=class extends xl{normalizePropertyName(t,e){return f9(t)}normalizeStyleValue(t,e,i,n){let o="",r=i.toString().trim();if(pU.has(e)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&n.push(Ij(t,i))}return r+o}};var a0="*";function uU(s,t){let e=[];return typeof s=="string"?s.split(/\s*,\s*/).forEach(i=>mU(i,e,t)):e.push(s),e}function mU(s,t,e){if(s[0]==":"){let l=fU(s,e);if(typeof l=="function"){t.push(l);return}s=l}let i=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(Nj(s)),t;let n=i[1],o=i[2],r=i[3];t.push(SA(n,r));let a=n==a0&&r==a0;o[0]=="<"&&!a&&t.push(SA(r,n))}function fU(s,t){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(Fj(s)),"* => *"}}var t0=new Set(["true","1"]),e0=new Set(["false","0"]);function SA(s,t){let e=t0.has(s)||e0.has(s),i=t0.has(t)||e0.has(t);return(n,o)=>{let r=s==a0||s==n,a=t==a0||t==o;return!r&&e&&typeof n=="boolean"&&(r=n?t0.has(s):e0.has(s)),!a&&i&&typeof o=="boolean"&&(a=o?t0.has(t):e0.has(t)),r&&a}}var NA=":self",gU=new RegExp(`s*${NA}s*,?`,"g");function FA(s,t,e,i){return new Jx(s).build(t,e,i)}var MA="",Jx=class{constructor(t){this._driver=t}build(t,e,i){let n=new t9(e);return this._resetContextStyleTimingState(n),cn(this,Ad(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=MA,t.collectedStyles=new Map,t.collectedStyles.set(MA,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,n=e.depCount=0,o=[],r=[];return t.name.charAt(0)=="@"&&e.errors.push(zj()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==Et.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,e))}),l.name=c}else if(a.type==Et.Transition){let l=this.visitTransition(a,e);i+=l.queryCount,n+=l.depCount,r.push(l)}else e.errors.push(Ej())}),{type:Et.Trigger,name:t.name,states:o,transitions:r,queryCount:i,depCount:n,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),n=t.options&&t.options.params||null;if(i.containsDynamicStyles){let o=new Set,r=n||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{HA(l).forEach(c=>{r.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(kj(t.name,[...o.values()]))}return{type:Et.State,name:t.name,style:i,options:n?{params:n}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=cn(this,Ad(t.animation),e),n=uU(t.expr,e.errors);return{type:Et.Transition,matchers:n,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:fl(t.options)}}visitSequence(t,e){return{type:Et.Sequence,steps:t.steps.map(i=>cn(this,i,e)),options:fl(t.options)}}visitGroup(t,e){let i=e.currentTime,n=0,o=t.steps.map(r=>{e.currentTime=i;let a=cn(this,r,e);return n=Math.max(n,e.currentTime),a});return e.currentTime=n,{type:Et.Group,steps:o,options:fl(t.options)}}visitAnimate(t,e){let i=bU(t.timings,e.errors);e.currentAnimateTimings=i;let n,o=t.styles?t.styles:Hn({});if(o.type==Et.Keyframes)n=this.visitKeyframes(o,e);else{let r=t.styles,a=!1;if(!r){a=!0;let c={};i.easing&&(c.easing=i.easing),r=Hn(c)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(r,e);l.isEmptyStep=a,n=l}return e.currentAnimateTimings=null,{type:Et.Animate,timings:i,style:n,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],n=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of n)typeof a=="string"?a===ds?i.push(a):e.errors.push(Dj(a)):i.push(new Map(Object.entries(a)));let o=!1,r=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(r=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(VA)>=0){o=!0;break}}}),{type:Et.Style,styles:i,easing:r,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,n=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(r=>{typeof r!="string"&&r.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),h=c.get(l),d=!0;h&&(o!=n&&o>=h.startTime&&n<=h.endTime&&(e.errors.push(Pj(l,h.startTime,h.endTime,o,n)),d=!1),o=h.startTime),d&&c.set(l,{startTime:o,endTime:n}),e.options&&lU(a,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:Et.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Lj()),i;let n=1,o=0,r=[],a=!1,l=!1,c=0,h=t.steps.map(x=>{let y=this._makeStyleAst(x,e),C=y.offset!=null?y.offset:yU(y.styles),S=0;return C!=null&&(o++,S=y.offset=C),l=l||S<0||S>1,a=a||S<c,c=S,r.push(S),y});l&&e.errors.push(Rj()),a&&e.errors.push(Oj());let d=t.steps.length,p=0;o>0&&o<d?e.errors.push(Vj()):o==0&&(p=n/(d-1));let u=d-1,m=e.currentTime,f=e.currentAnimateTimings,g=f.duration;return h.forEach((x,y)=>{let C=p>0?y==u?1:p*y:r[y],S=C*g;e.currentTime=m+f.delay+S,f.duration=S,this._validateStyleAst(x,e),x.offset=C,i.styles.push(x)}),i}visitReference(t,e){return{type:Et.Reference,animation:cn(this,Ad(t.animation),e),options:fl(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:Et.AnimateChild,options:fl(t.options)}}visitAnimateRef(t,e){return{type:Et.AnimateRef,animation:this.visitReference(t.animation,e),options:fl(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,n=t.options||{};e.queryCount++,e.currentQuery=t;let[o,r]=vU(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,hn(e.collectedStyles,e.currentQuerySelector,new Map);let a=cn(this,Ad(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Et.Query,selector:o,limit:n.limit||0,optional:!!n.optional,includeSelf:r,animation:a,originalSelector:t.selector,options:fl(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(Bj());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:o0(t.timings,e.errors,!0);return{type:Et.Stagger,animation:cn(this,Ad(t.animation),e),timings:i,options:null}}};function vU(s){let t=!!s.split(/\s*,\s*/).find(e=>e==NA);return t&&(s=s.replace(gU,"")),s=s.replace(/@\*/g,s0).replace(/@\w+/g,e=>s0+"-"+e.slice(1)).replace(/:animating/g,Qx),[s,t]}function xU(s){return s?ls({},s):null}var t9=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function yU(s){if(typeof s=="string")return null;let t=null;if(Array.isArray(s))s.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(s instanceof Map&&s.has("offset")){let e=s;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function bU(s,t){if(s.hasOwnProperty("duration"))return s;if(typeof s=="number"){let o=o0(s,t).duration;return Gx(o,0,"")}let e=s;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Gx(0,0,"");return o.dynamic=!0,o.strValue=e,o}let n=o0(e,t);return Gx(n.duration,n.delay,n.easing)}function fl(s){return s?(s=ls({},s),s.params&&(s.params=xU(s.params))):s={},s}function Gx(s,t,e){return{duration:s,delay:t,easing:e}}function v9(s,t,e,i,n,o,r=null,a=!1){return{type:1,element:s,keyframes:t,preStyleProps:e,postStyleProps:i,duration:n,delay:o,totalTime:n+o,easing:r,subTimeline:a}}var zd=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},_U=1,wU=":enter",CU=new RegExp(wU,"g"),SU=":leave",MU=new RegExp(SU,"g");function jA(s,t,e,i,n,o=new Map,r=new Map,a,l,c=[]){return new e9().buildKeyframes(s,t,e,i,n,o,r,a,l,c)}var e9=class{buildKeyframes(t,e,i,n,o,r,a,l,c,h=[]){c=c||new zd;let d=new i9(t,e,c,n,o,h,[]);d.options=l;let p=l.delay?Oo(l.delay):0;d.currentTimeline.delayNextStep(p),d.currentTimeline.setStyles([r],null,d.errors,l),cn(this,i,d);let u=d.timelines.filter(m=>m.containsAnimation());if(u.length&&a.size){let m;for(let f=u.length-1;f>=0;f--){let g=u[f];if(g.element===e){m=g;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([a],null,d.errors,l)}return u.length?u.map(m=>m.buildKeyframes()):[v9(e,[],[],[],0,p,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let n=e.createSubContext(t.options),o=e.currentTimeline.currentTime,r=this._visitSubInstructions(i,n,n.options);o!=r&&e.transformIntoNewTimeline(r)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let n of t){let o=n?.delay;if(o){let r=typeof o=="number"?o:Oo(Id(o,n?.params??{},e.errors));i.delayNextStep(r)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime,r=i.duration!=null?Oo(i.duration):null,a=i.delay!=null?Oo(i.delay):null;return r!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,r,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),cn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,n=e,o=t.options;if(o&&(o.params||o.delay)&&(n=e.createSubContext(o),n.transformIntoNewTimeline(),o.delay!=null)){n.previousNode.type==Et.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=l0);let r=Oo(o.delay);n.delayNextStep(r)}t.steps.length&&(t.steps.forEach(r=>cn(this,r,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],n=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Oo(t.options.delay):0;t.steps.forEach(r=>{let a=e.createSubContext(t.options);o&&a.delayNextStep(o),cn(this,r,a),n=Math.max(n,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(r=>e.currentTimeline.mergeTimelineCollectedStyles(r)),e.transformIntoNewTimeline(n),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,n=e.params?Id(i,e.params,e.errors):i;return o0(n,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),n=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),n.snapshotCurrentStyles());let o=t.style;o.type==Et.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,n=e.currentAnimateTimings;!n&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=n&&n.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,n=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(n+o),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,n=t.options||{},o=n.delay?Oo(n.delay):0;o&&(e.previousNode.type===Et.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=l0);let r=i,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,h)=>{e.currentQueryIndex=h;let d=e.createSubContext(t.options,c);o&&d.delayNextStep(o),c===e.element&&(l=d.currentTimeline),cn(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe();let p=d.currentTimeline.currentTime;r=Math.max(r,p)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(r),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,n=e.currentTimeline,o=t.timings,r=Math.abs(o.duration),a=r*(e.currentQueryTotal-1),l=r*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let h=e.currentTimeline;l&&h.delayNextStep(l);let d=h.currentTime;cn(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=n.currentTime-d+(n.startTime-i.currentTimeline.startTime)}},l0={},i9=class s{constructor(t,e,i,n,o,r,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=o,this.errors=r,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=l0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new c0(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,n=this.options;i.duration!=null&&(n.duration=Oo(i.duration)),i.delay!=null&&(n.delay=Oo(i.delay));let o=i.params;if(o){let r=n.params;r||(r=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!r.hasOwnProperty(a))&&(r[a]=Id(o[a],r,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(n=>{i[n]=e[n]})}}return t}createSubContext(t=null,e,i){let n=e||this.element,o=new s(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=l0,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let n={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new n9(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,n,t.stretchStartingKeyframe);return this.timelines.push(o),n}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,n,o,r){let a=[];if(n&&a.push(this.element),t.length>0){t=t.replace(CU,"."+this._enterClassName),t=t.replace(MU,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,t,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&a.length==0&&r.push(Hj(e)),a}},c0=class s{constructor(t,e,i,n){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=n,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new s(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=_U,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ds),this._currentKeyframe.set(e,ds);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,n){e&&this._previousKeyframe.set("easing",e);let o=n&&n.params||{},r=AU(t,this._globalTimelineStyles);for(let[a,l]of r){let c=Id(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ds),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let n=this._styleSummary.get(i);(!n||e.time>n.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,n=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((h,d)=>{h===Ud?t.add(d):h===ds&&e.add(d)}),i||c.set("offset",l/this.duration),n.push(c)});let o=[...t.values()],r=[...e.values()];if(i){let a=n[0],l=new Map(a);a.set("offset",0),l.set("offset",1),n=[a,l]}return v9(this.element,n,o,r,this.duration,this.startTime,this.easing,!1)}},n9=class extends c0{constructor(t,e,i,n,o,r,a=!1){super(t,e,r.delay),this.keyframes=i,this.preStyleProps=n,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],r=i+e,a=e/r,l=new Map(t[0]);l.set("offset",0),o.push(l);let c=new Map(t[0]);c.set("offset",AA(a)),o.push(c);let h=t.length-1;for(let d=1;d<=h;d++){let p=new Map(t[d]),u=p.get("offset"),m=e+u*i;p.set("offset",AA(m/r)),o.push(p)}i=r,e=0,n="",t=o}return v9(this.element,t,this.preStyleProps,this.postStyleProps,i,e,n,!0)}};function AA(s,t=3){let e=Math.pow(10,t-1);return Math.round(s*e)/e}function AU(s,t){let e=new Map,i;return s.forEach(n=>{if(n==="*"){i??=t.keys();for(let o of i)e.set(o,ds)}else for(let[o,r]of n)e.set(o,r)}),e}function TA(s,t,e,i,n,o,r,a,l,c,h,d,p){return{type:0,element:s,triggerName:t,isRemovalTransition:n,fromState:e,fromStyles:o,toState:i,toStyles:r,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:d,errors:p}}var Wx={},h0=class{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,n){return TU(this.ast.matchers,t,e,i,n)}buildStyles(t,e,i){let n=this._stateStyles.get("*");return t!==void 0&&(n=this._stateStyles.get(t?.toString())||n),n?n.buildStyles(e,i):new Map}build(t,e,i,n,o,r,a,l,c,h){let d=[],p=this.ast.options&&this.ast.options.params||Wx,u=a&&a.params||Wx,m=this.buildStyles(i,u,d),f=l&&l.params||Wx,g=this.buildStyles(n,f,d),x=new Set,y=new Map,C=new Map,S=n==="void",w={params:UA(f,p),delay:this.ast.options?.delay},I=h?[]:jA(t,e,this.ast.animation,o,r,m,g,w,c,d),D=0;return I.forEach(E=>{D=Math.max(E.duration+E.delay,D)}),d.length?TA(e,this._triggerName,i,n,S,m,g,[],[],y,C,D,d):(I.forEach(E=>{let F=E.element,Q=hn(y,F,new Set);E.preStyleProps.forEach(ht=>Q.add(ht));let st=hn(C,F,new Set);E.postStyleProps.forEach(ht=>st.add(ht)),F!==e&&x.add(F)}),TA(e,this._triggerName,i,n,S,m,g,I,[...x.values()],y,C,D))}};function TU(s,t,e,i,n){return s.some(o=>o(t,e,i,n))}function UA(s,t){let e=ls({},t);return Object.entries(s).forEach(([i,n])=>{n!=null&&(e[i]=n)}),e}var s9=class{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,n=UA(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((r,a)=>{r&&(r=Id(r,n,e));let l=this.normalizer.normalizePropertyName(a,e);r=this.normalizer.normalizeStyleValue(a,l,r,e),i.set(a,r)})}),i}};function IU(s,t,e){return new o9(s,t,e)}var o9=class{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(n=>{let o=n.options&&n.options.params||{};this.states.set(n.name,new s9(n.style,o,i))}),IA(this.states,"true","1"),IA(this.states,"false","0"),e.transitions.forEach(n=>{this.transitionFactories.push(new h0(t,n,this.states))}),this.fallbackTransition=zU(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,n){return this.transitionFactories.find(r=>r.match(t,e,i,n))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function zU(s,t,e){let i=[(r,a)=>!0],n={type:Et.Sequence,steps:[],options:null},o={type:Et.Transition,animation:n,matchers:i,options:null,queryCount:0,depCount:0};return new h0(s,o,t)}function IA(s,t,e){s.has(t)?s.has(e)||s.set(e,s.get(t)):s.has(e)&&s.set(t,s.get(e))}var EU=new zd,r9=class{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){let i=[],n=[],o=FA(this._driver,e,i,n);if(i.length)throw Gj(i);n.length&&void 0,this._animations.set(t,o)}_buildPlayer(t,e,i){let n=t.element,o=LA(this._normalizer,t.keyframes,e,i);return this._driver.animate(n,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let n=[],o=this._animations.get(t),r,a=new Map;if(o?(r=jA(this._driver,e,o,BA,$x,new Map,new Map,i,EU,n),r.forEach(h=>{let d=hn(a,h.element,new Map);h.postStyleProps.forEach(p=>d.set(p,null))})):(n.push(Wj()),r=[]),n.length)throw qj(n);a.forEach((h,d)=>{h.forEach((p,u)=>{h.set(u,this._driver.computeStyle(d,u,ds))})});let l=r.map(h=>{let d=a.get(h.element);return this._buildPlayer(h,new Map,d)}),c=Zr(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw Yj(t);return e}listen(t,e,i,n){let o=p9(e,"","","");return d9(this._getPlayer(t),i,o,n),()=>{}}command(t,e,i,n){if(i=="register"){this.register(t,n[0]);return}if(i=="create"){let r=n[0]||{};this.create(t,e,r);return}let o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(t);break}}},zA="ng-animate-queued",kU=".ng-animate-queued",qx="ng-animate-disabled",DU=".ng-animate-disabled",PU="ng-star-inserted",LU=".ng-star-inserted",RU=[],GA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},OU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},as="__ng_removed",Ed=class{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),n=i?t.value:t;if(this.value=BU(n),i){let o=t,{value:r}=o,a=y9(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(n=>{i[n]==null&&(i[n]=e[n])})}}},Td="void",Yx=new Ed(Td),a9=class{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,On(e,this._hostClassName)}listen(t,e,i,n){if(!this._triggers.has(e))throw Xj(i,e);if(i==null||i.length==0)throw $j(e);if(!HU(i))throw Qj(i,e);let o=hn(this._elementListeners,t,[]),r={name:e,phase:i,callback:n};o.push(r);let a=hn(this._engine.statesByElement,t,new Map);return a.has(e)||(On(t,J3),On(t,J3+"-"+e),a.set(e,Yx)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(r);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw Zj(t);return e}trigger(t,e,i,n=!0){let o=this._getTrigger(e),r=new kd(this.id,e,t),a=this._engine.statesByElement.get(t);a||(On(t,J3),On(t,J3+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),c=new Ed(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=Yx),!(c.value===Td)&&l.value===c.value){if(!jU(l.params,c.params)){let f=[],g=o.matchStyles(l.value,l.params,f),x=o.matchStyles(c.value,c.params,f);f.length?this._engine.reportError(f):this._engine.afterFlush(()=>{gl(t,g),Ns(t,x)})}return}let p=hn(this._engine.playersByElement,t,[]);p.forEach(f=>{f.namespaceId==this.id&&f.triggerName==e&&f.queued&&f.destroy()});let u=o.matchTransition(l.value,c.value,t,c.params),m=!1;if(!u){if(!n)return;u=o.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:l,toState:c,player:r,isFallbackTransition:m}),m||(On(t,zA),r.onStart(()=>{wh(t,zA)})),r.onDone(()=>{let f=this.players.indexOf(r);f>=0&&this.players.splice(f,1);let g=this._engine.playersByElement.get(t);if(g){let x=g.indexOf(r);x>=0&&g.splice(x,1)}}),this.players.push(r),p.push(r),r}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(n=>n.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,s0,!0);i.forEach(n=>{if(n[as])return;let o=this._engine.fetchNamespacesByElement(n);o.size?o.forEach(r=>r.triggerLeaveAnimation(n,e,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(t,e,i,n){let o=this._engine.statesByElement.get(t),r=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(r.set(c,l.value),this._triggers.has(c)){let h=this.trigger(t,c,Td,n);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,r),i&&Zr(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let n=new Set;e.forEach(o=>{let r=o.name;if(n.has(r))return;n.add(r);let l=this._triggers.get(r).fallbackTransition,c=i.get(r)||Yx,h=new Ed(Td),d=new kd(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:l,fromState:c,toState:h,player:d,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let n=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)n=!0;else{let r=t;for(;r=r.parentNode;)if(i.statesByElement.get(r)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(t),n)i.markElementAsRemoved(this.id,t,!1,e);else{let o=t[as];(!o||o===GA)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){On(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let n=i.player;if(n.destroyed)return;let o=i.element,r=this._elementListeners.get(o);r&&r.forEach(a=>{if(a.name==i.triggerName){let l=p9(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,d9(i.player,a.phase,l,a.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):e.push(i)}),this._queue=[],e.sort((i,n)=>{let o=i.transition.ast.depCount,r=n.transition.ast.depCount;return o==0||r==0?o-r:this._engine.driver.containsElement(i.element,n.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},l9=class{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i,n){this.bodyNode=t,this.driver=e,this._normalizer=i,this.scheduler=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,r)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new a9(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,n=this.namespacesByHostElement;if(i.length-1>=0){let r=!1,a=this.driver.getParentElement(e);for(;a;){let l=n.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,t),r=!0;break}a=this.driver.getParentElement(a)}r||i.unshift(t)}else i.push(t);return n.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let n=this._namespaceLookup[t];n&&n.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let n=this._namespaceList.indexOf(i);n>=0&&this._namespaceList.splice(n,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let n of i.values())if(n.namespaceId){let o=this._fetchNamespace(n.namespaceId);o&&e.add(o)}}return e}trigger(t,e,i,n){if(i0(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,i,n),!0}return!1}insertNode(t,e,i,n){if(!i0(e))return;let o=e[as];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let r=this.collectedLeaveElements.indexOf(e);r>=0&&this.collectedLeaveElements.splice(r,1)}if(t){let r=this._fetchNamespace(t);r&&r.insertNode(e,i)}n&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),On(t,qx)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),wh(t,qx))}removeNode(t,e,i){if(i0(e)){this.scheduler?.notify();let n=t?this._fetchNamespace(t):null;n?n.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,n,o){this.collectedLeaveElements.push(e),e[as]={namespaceId:t,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,n,o){return i0(e)?this._fetchNamespace(t).listen(e,i,n,o):()=>{}}_buildInstruction(t,e,i,n,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,n,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,s0,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Qx,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Zr(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[as];if(e&&e.setForRemoval){if(t[as]=GA,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(qx)&&this.markElementAsDisabled(t,!1),this.driver.query(t,DU,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,n)=>this._balanceNamespaceList(i,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let n=this.collectedEnterElements[i];On(n,PU)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let n=0;n<i.length;n++)i[n]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let n=this.collectedLeaveElements[i];this.processLeaveNode(n)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?Zr(e).onDone(()=>{i.forEach(n=>n())}):i.forEach(n=>n())}}reportError(t){throw Kj(t)}_flushAnimations(t,e){let i=new zd,n=[],o=new Map,r=[],a=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(O=>{h.add(O);let j=this.driver.query(O,kU,!0);for(let ot=0;ot<j.length;ot++)h.add(j[ot])});let d=this.bodyNode,p=Array.from(this.statesByElement.keys()),u=DA(p,this.collectedEnterElements),m=new Map,f=0;u.forEach((O,j)=>{let ot=BA+f++;m.set(j,ot),O.forEach(ut=>On(ut,ot))});let g=[],x=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){let j=this.collectedLeaveElements[O],ot=j[as];ot&&ot.setForRemoval&&(g.push(j),x.add(j),ot.hasAnimation?this.driver.query(j,LU,!0).forEach(ut=>x.add(ut)):y.add(j))}let C=new Map,S=DA(p,Array.from(x));S.forEach((O,j)=>{let ot=$x+f++;C.set(j,ot),O.forEach(ut=>On(ut,ot))}),t.push(()=>{u.forEach((O,j)=>{let ot=m.get(j);O.forEach(ut=>wh(ut,ot))}),S.forEach((O,j)=>{let ot=C.get(j);O.forEach(ut=>wh(ut,ot))}),g.forEach(O=>{this.processLeaveNode(O)})});let w=[],I=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(ot=>{let ut=ot.player,ie=ot.element;if(w.push(ut),this.collectedEnterElements.length){let Je=ie[as];if(Je&&Je.setForMove){if(Je.previousTriggersValues&&Je.previousTriggersValues.has(ot.triggerName)){let Kr=Je.previousTriggersValues.get(ot.triggerName),dn=this.statesByElement.get(ot.element);if(dn&&dn.has(ot.triggerName)){let Dd=dn.get(ot.triggerName);Dd.value=Kr,dn.set(ot.triggerName,Dd)}}ut.destroy();return}}let vi=!d||!this.driver.containsElement(d,ie),Pe=C.get(ie),Ti=m.get(ie),Ht=this._buildInstruction(ot,i,Ti,Pe,vi);if(Ht.errors&&Ht.errors.length){I.push(Ht);return}if(vi){ut.onStart(()=>gl(ie,Ht.fromStyles)),ut.onDestroy(()=>Ns(ie,Ht.toStyles)),n.push(ut);return}if(ot.isFallbackTransition){ut.onStart(()=>gl(ie,Ht.fromStyles)),ut.onDestroy(()=>Ns(ie,Ht.toStyles)),n.push(ut);return}let Vo=[];Ht.timelines.forEach(Je=>{Je.stretchStartingKeyframe=!0,this.disabledNodes.has(Je.element)||Vo.push(Je)}),Ht.timelines=Vo,i.append(ie,Ht.timelines);let Fs={instruction:Ht,player:ut,element:ie};r.push(Fs),Ht.queriedElements.forEach(Je=>hn(a,Je,[]).push(ut)),Ht.preStyleProps.forEach((Je,Kr)=>{if(Je.size){let dn=l.get(Kr);dn||l.set(Kr,dn=new Set),Je.forEach((Dd,f0)=>dn.add(f0))}}),Ht.postStyleProps.forEach((Je,Kr)=>{let dn=c.get(Kr);dn||c.set(Kr,dn=new Set),Je.forEach((Dd,f0)=>dn.add(f0))})});if(I.length){let O=[];I.forEach(j=>{O.push(Jj(j.triggerName,j.errors))}),w.forEach(j=>j.destroy()),this.reportError(O)}let D=new Map,E=new Map;r.forEach(O=>{let j=O.element;i.has(j)&&(E.set(j,j),this._beforeAnimationBuild(O.player.namespaceId,O.instruction,D))}),n.forEach(O=>{let j=O.element;this._getPreviousPlayers(j,!1,O.namespaceId,O.triggerName,null).forEach(ut=>{hn(D,j,[]).push(ut),ut.destroy()})});let F=g.filter(O=>PA(O,l,c)),Q=new Map;kA(Q,this.driver,y,c,ds).forEach(O=>{PA(O,l,c)&&F.push(O)});let ht=new Map;u.forEach((O,j)=>{kA(ht,this.driver,new Set(O),l,Ud)}),F.forEach(O=>{let j=Q.get(O),ot=ht.get(O);Q.set(O,new Map([...j?.entries()??[],...ot?.entries()??[]]))});let Ut=[],Se=[],zt={};r.forEach(O=>{let{element:j,player:ot,instruction:ut}=O;if(i.has(j)){if(h.has(j)){ot.onDestroy(()=>Ns(j,ut.toStyles)),ot.disabled=!0,ot.overrideTotalTime(ut.totalTime),n.push(ot);return}let ie=zt;if(E.size>1){let Pe=j,Ti=[];for(;Pe=Pe.parentNode;){let Ht=E.get(Pe);if(Ht){ie=Ht;break}Ti.push(Pe)}Ti.forEach(Ht=>E.set(Ht,ie))}let vi=this._buildAnimation(ot.namespaceId,ut,D,o,ht,Q);if(ot.setRealPlayer(vi),ie===zt)Ut.push(ot);else{let Pe=this.playersByElement.get(ie);Pe&&Pe.length&&(ot.parentPlayer=Zr(Pe)),n.push(ot)}}else gl(j,ut.fromStyles),ot.onDestroy(()=>Ns(j,ut.toStyles)),Se.push(ot),h.has(j)&&n.push(ot)}),Se.forEach(O=>{let j=o.get(O.element);if(j&&j.length){let ot=Zr(j);O.setRealPlayer(ot)}}),n.forEach(O=>{O.parentPlayer?O.syncPlayerEvents(O.parentPlayer):O.destroy()});for(let O=0;O<g.length;O++){let j=g[O],ot=j[as];if(wh(j,$x),ot&&ot.hasAnimation)continue;let ut=[];if(a.size){let vi=a.get(j);vi&&vi.length&&ut.push(...vi);let Pe=this.driver.query(j,Qx,!0);for(let Ti=0;Ti<Pe.length;Ti++){let Ht=a.get(Pe[Ti]);Ht&&Ht.length&&ut.push(...Ht)}}let ie=ut.filter(vi=>!vi.destroyed);ie.length?NU(this,j,ie):this.processLeaveNode(j)}return g.length=0,Ut.forEach(O=>{this.players.push(O),O.onDone(()=>{O.destroy();let j=this.players.indexOf(O);this.players.splice(j,1)}),O.play()}),Ut}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,n,o){let r=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(r=a)}else{let a=this.playersByElement.get(t);if(a){let l=!o||o==Td;a.forEach(c=>{c.queued||!l&&c.triggerName!=n||r.push(c)})}}return(i||n)&&(r=r.filter(a=>!(i&&i!=a.namespaceId||n&&n!=a.triggerName))),r}_beforeAnimationBuild(t,e,i){let n=e.triggerName,o=e.element,r=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:n;for(let l of e.timelines){let c=l.element,h=c!==o,d=hn(i,c,[]);this._getPreviousPlayers(c,h,r,a,e.toState).forEach(u=>{let m=u.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),u.destroy(),d.push(u)})}gl(o,e.fromStyles)}_buildAnimation(t,e,i,n,o,r){let a=e.triggerName,l=e.element,c=[],h=new Set,d=new Set,p=e.timelines.map(m=>{let f=m.element;h.add(f);let g=f[as];if(g&&g.removedBeforeQueried)return new Ml(m.duration,m.delay);let x=f!==l,y=FU((i.get(f)||RU).map(D=>D.getRealPlayer())).filter(D=>{let E=D;return E.element?E.element===f:!1}),C=o.get(f),S=r.get(f),w=LA(this._normalizer,m.keyframes,C,S),I=this._buildPlayer(m,w,y);if(m.subTimeline&&n&&d.add(f),x){let D=new kd(t,a,f);D.setRealPlayer(I),c.push(D)}return I});c.forEach(m=>{hn(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>VU(this.playersByQueriedElement,m.element,m))}),h.forEach(m=>On(m,CA));let u=Zr(p);return u.onDestroy(()=>{h.forEach(m=>wh(m,CA)),Ns(l,e.toStyles)}),d.forEach(m=>{hn(n,m,[]).push(u)}),u}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Ml(t.duration,t.delay)}},kd=class{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Ml,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(n=>d9(t,i,void 0,n))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){hn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function VU(s,t,e){let i=s.get(t);if(i){if(i.length){let n=i.indexOf(e);i.splice(n,1)}i.length==0&&s.delete(t)}return i}function BU(s){return s??null}function i0(s){return s&&s.nodeType===1}function HU(s){return s=="start"||s=="done"}function EA(s,t){let e=s.style.display;return s.style.display=t??"none",e}function kA(s,t,e,i,n){let o=[];e.forEach(l=>o.push(EA(l)));let r=[];i.forEach((l,c)=>{let h=new Map;l.forEach(d=>{let p=t.computeStyle(c,d,n);h.set(d,p),(!p||p.length==0)&&(c[as]=OU,r.push(c))}),s.set(c,h)});let a=0;return e.forEach(l=>EA(l,o[a++])),r}function DA(s,t){let e=new Map;if(s.forEach(a=>e.set(a,[])),t.length==0)return e;let i=1,n=new Set(t),o=new Map;function r(a){if(!a)return i;let l=o.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:n.has(c)?l=i:l=r(c),o.set(a,l),l}return t.forEach(a=>{let l=r(a);l!==i&&e.get(l).push(a)}),e}function On(s,t){s.classList?.add(t)}function wh(s,t){s.classList?.remove(t)}function NU(s,t,e){Zr(e).onDone(()=>s.processLeaveNode(t))}function FU(s){let t=[];return WA(s,t),t}function WA(s,t){for(let e=0;e<s.length;e++){let i=s[e];i instanceof z0?WA(i.players,t):t.push(i)}}function jU(s,t){let e=Object.keys(s),i=Object.keys(t);if(e.length!=i.length)return!1;for(let n=0;n<e.length;n++){let o=e[n];if(!t.hasOwnProperty(o)||s[o]!==t[o])return!1}return!0}function PA(s,t,e){let i=e.get(s);if(!i)return!1;let n=t.get(s);return n?i.forEach(o=>n.add(o)):t.set(s,i),e.delete(s),!0}var Sh=class{constructor(t,e,i,n){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,r)=>{},this._transitionEngine=new l9(t.body,e,i,n),this._timelineEngine=new r9(t.body,e,i),this._transitionEngine.onRemovalComplete=(o,r)=>this.onRemovalComplete(o,r)}registerTrigger(t,e,i,n,o){let r=t+"-"+n,a=this._triggerCache[r];if(!a){let l=[],c=[],h=FA(this._driver,o,l,c);if(l.length)throw jj(n,l);c.length&&void 0,a=IU(n,h,this._normalizer),this._triggerCache[r]=a}this._transitionEngine.registerTrigger(e,n,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,n){this._transitionEngine.insertNode(t,e,i,n)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,n){if(i.charAt(0)=="@"){let[o,r]=_A(i),a=n;this._timelineEngine.command(o,e,r,a)}else this._transitionEngine.trigger(t,e,i,n)}listen(t,e,i,n,o){if(i.charAt(0)=="@"){let[r,a]=_A(i);return this._timelineEngine.listen(r,e,a,o)}return this._transitionEngine.listen(t,e,i,n,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function UU(s,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Xx(t[0]),t.length>1&&(i=Xx(t[t.length-1]))):t instanceof Map&&(e=Xx(t)),e||i?new c9(s,e,i):null}var Ch=class Ch{constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let n=Ch.initialStylesByElement.get(t);n||Ch.initialStylesByElement.set(t,n=new Map),this._initialStyles=n}start(){this._state<1&&(this._startStyles&&Ns(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ns(this._element,this._initialStyles),this._endStyles&&(Ns(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ch.initialStylesByElement.delete(this._element),this._startStyles&&(gl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gl(this._element,this._endStyles),this._endStyles=null),Ns(this._element,this._initialStyles),this._state=3)}};Ch.initialStylesByElement=new WeakMap;var c9=Ch;function Xx(s){let t=null;return s.forEach((e,i)=>{GU(i)&&(t=t||new Map,t.set(i,e))}),t}function GU(s){return s==="display"||s==="position"}var d0=class{constructor(t,e,i,n){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,n)=>{n!=="offset"&&t.set(n,this._finished?i:g9(this.element,n))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},p0=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return RA(t,e)}getParentElement(t){return u9(t)}query(t,e,i){return OA(t,e,i)}computeStyle(t,e,i){return g9(t,e)}animate(t,e,i,n,o,r=[]){let a=n==0?"both":"forwards",l={duration:i,delay:n,fill:a};o&&(l.easing=o);let c=new Map,h=r.filter(u=>u instanceof d0);hU(i,n)&&h.forEach(u=>{u.currentSnapshot.forEach((m,f)=>c.set(f,m))});let d=aU(e).map(u=>new Map(u));d=dU(t,d,c);let p=UU(t,d);return new d0(t,d,l,p)}};var n0="@",qA="@.disabled",u0=class{constructor(t,e,i,n){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=n,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,n=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,n)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,n){this.delegate.setAttribute(t,e,i,n)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,n){this.delegate.setStyle(t,e,i,n)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==n0&&e==qA?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},h9=class extends u0{constructor(t,e,i,n,o){super(e,i,n,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==n0?e.charAt(1)=="."&&e==qA?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if(e.charAt(0)==n0){let n=WU(t),o=e.slice(1),r="";return o.charAt(0)!=n0&&([o,r]=qU(o)),this.engine.listen(this.namespaceId,n,o,r,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(t,e,i)}};function WU(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}function qU(s){let t=s.indexOf("."),e=s.substring(0,t),i=s.slice(t+1);return[e,i]}var m0=class{constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(n,o)=>{let r=o?.parentNode(n);r&&o.removeChild(r,n)}}createRenderer(t,e){let i="",n=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,h=c.get(n);if(!h){let d=()=>c.delete(n);h=new u0(i,n,this.engine,d),c.set(n,h)}return h}let o=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,r,t,c.name,c)};return e.data.animation.forEach(a),new h9(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let n=this._animationCallbacksBuffer;n.length==0&&queueMicrotask(()=>{this._zone.run(()=>{n.forEach(o=>{let[r,a]=o;r(a)}),this._animationCallbacksBuffer=[]})}),n.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var XU=(()=>{let t=class t extends Sh{constructor(i,n,o){super(i,n,o,C9(A9,{optional:!0}))}ngOnDestroy(){this.flush()}};t.\u0275fac=function(n){return new(n||t)(Bt(P9),Bt(vl),Bt(xl))},t.\u0275prov=qt({token:t,factory:t.\u0275fac});let s=t;return s})();function $U(){return new r0}function QU(s,t,e){return new m0(s,t,e)}var XA=[{provide:xl,useFactory:$U},{provide:Sh,useClass:XU},{provide:I9,useFactory:QU,deps:[R9,Sh,Ue]}],YA=[{provide:vl,useFactory:()=>new p0},{provide:x0,useValue:"BrowserAnimations"},...XA],ZU=[{provide:vl,useClass:m9},{provide:x0,useValue:"NoopAnimations"},...XA],$A=(()=>{let t=class t{static withConfig(i){return{ngModule:t,providers:i.disableAnimations?ZU:YA}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ae({type:t}),t.\u0275inj=Me({providers:YA,imports:[Hd]});let s=t;return s})();var QA=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ae({type:t,bootstrap:[fb]}),t.\u0275inj=Me({providers:[B9()],imports:[$A,Hd,mb,K3,yA,F9.forRoot({timeOut:1e3,positionClass:"toast-top-right",preventDuplicates:!0})]});let s=t;return s})();O9().bootstrapModule(QA).catch(s=>console.error(s));
